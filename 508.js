"use strict";(self.webpackChunklazyvax_ext=self.webpackChunklazyvax_ext||[]).push([[508],{67508:(e,t,r)=>{r.r(t),r.d(t,{default:()=>me});var n=r(53986),a=r(10467),s=r(64467),l=r(5544),i=r(54756),o=r.n(i),c=r(96540),u=r(95927),m=r(66407),p=r(55166),d=r(71988),f=r(87959),b=r(47152),g=r(16370),v=r(17355),E=r(78751),_=r(84972),y=r(7142),A=r(15039),h=r(37977),x=r(22395),w=r(64132),R=r(88281),k=r(75704),P=r(14154),O=r(83186),S=r(42569),I=r(75550),j=r(86319),C=(r(55081),r(47767)),N=r(82322),T=r(34468),z=r(2622),F=r(74353),U=r.n(F),q=r(59270),B=r(31598),V=r(98185),D=r(71468),L=r(54809),Z=r(31995),J=r(77796),K=r(677),G=r(55957),M=r(56914),Y=r(43774),H=r(71295);function W(){return $.apply(this,arguments)}function $(){return($=(0,a.A)(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.PA)().get(B.oT);case 2:if(r=e.sent,n=null==r?void 0:r.data){e.next=6;break}throw new Error("Cannot get subscription status");case 6:return null!==(t=n.subscription)&&void 0!==t&&t.currentPeriodEnd&&(n.subscription.currentPeriodEnd=new Date(n.subscription.currentPeriodEnd)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return X.apply(this,arguments)}function X(){return(X=(0,a.A)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.PA)().get(B.bm);case 2:if(t=e.sent,r=null==t?void 0:t.data){e.next=6;break}throw new Error("Cannot get subscription tiers");case 6:return e.abrupt("return",r.tiers);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=(0,a.A)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.PA)().post(B.Yo,t);case 2:if(r=e.sent,n=null==r?void 0:r.data){e.next=6;break}throw new Error("Cannot create checkout session");case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ne.apply(this,arguments)}function ne(){return(ne=(0,a.A)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.PA)().post(B.Qp,{returnUrl:t});case 2:if(r=e.sent,n=null==r?void 0:r.data){e.next=6;break}throw new Error("Cannot create portal session");case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=r(92089);const se=function(){var e,t,r=(0,c.useState)(null),n=(0,l.A)(r,2),s=n[0],i=n[1],u=(0,c.useState)([]),m=(0,l.A)(u,2),p=m[0],d=m[1],f=(0,c.useState)(!0),v=(0,l.A)(f,2),E=v[0],_=v[1],y=(0,c.useState)(null),A=(0,l.A)(y,2),h=A[0],x=A[1],R=(0,c.useState)(!1),k=(0,l.A)(R,2),P=k[0],O=k[1];function I(){return(I=(0,a.A)(o().mark((function e(){var t,r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,Promise.all([W(),Q()]);case 4:t=e.sent,r=(0,l.A)(t,2),n=r[0],a=r[1],i(n),d(a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),x("Failed to load subscription information");case 16:return e.prev=16,_(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})))).apply(this,arguments)}function j(){return(j=(0,a.A)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,O(!0),e.next=6,ee({tier:t,successUrl:"".concat(window.location.origin,"/#/me?tab=subscription&success=true"),cancelUrl:"".concat(window.location.origin,"/#/me?tab=subscription")});case 6:r=e.sent,n=r.url,window.location.href=n,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),O(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function C(){return(C=(0,a.A)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,O(!0),e.next=6,re(window.location.href);case 6:t=e.sent,r=t.url,window.location.href=r,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),O(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}if((0,c.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[]),E)return c.createElement(Z.A,{size:"large"});if(h)return c.createElement(J.A,{message:(0,S.Ru)("error"),description:h,type:"error",showIcon:!0});var N=(null==s?void 0:s.tier)||"free",T="active"===(null==s||null===(e=s.subscription)||void 0===e?void 0:e.status)||"trialing"===(null==s||null===(t=s.subscription)||void 0===t?void 0:t.status);return c.createElement("div",{className:"tab-content"},T&&(null==s?void 0:s.subscription)&&c.createElement(K.A,{style:{marginBottom:24},variant:"borderless"},c.createElement(G.A,{title:(0,S.Ru)("subscription_current_plan"),column:1},c.createElement(G.A.Item,{label:(0,S.Ru)("subscription_tier")},c.createElement(M.A,{color:"green",icon:c.createElement(Y.A,null)},N.toUpperCase())),c.createElement(G.A.Item,{label:(0,S.Ru)("subscription_status")},c.createElement(M.A,{color:"active"===s.subscription.status?"success":"default"},s.subscription.status)),c.createElement(G.A.Item,{label:(0,S.Ru)("subscription_period_end")},(0,ae.GP)(new Date(s.subscription.currentPeriodEnd),"PPP")),s.subscription.cancelAtPeriodEnd&&c.createElement(G.A.Item,null,c.createElement(J.A,{message:(0,S.Ru)("subscription_cancel_warning"),type:"warning",showIcon:!0,style:{marginTop:8}}))),c.createElement(w.Ay,{type:"primary",onClick:function(){return C.apply(this,arguments)},loading:P,style:{marginTop:16}},(0,S.Ru)("subscription_manage_billing"))),c.createElement("h3",{style:{marginBottom:16}},(0,S.Ru)("subscription_available_plans")),c.createElement(b.A,{gutter:[16,16]},p.map((function(e){var t=e.tier===N,r="free"===e.tier;return c.createElement(g.A,{xs:24,md:8,key:e.tier},c.createElement(K.A,{hoverable:!t,variant:"outlined",style:{height:"100%",borderColor:t?"#52c41a":void 0,borderWidth:t?2:1}},c.createElement("div",{style:{marginBottom:16}},c.createElement("h3",{style:{fontSize:20,marginBottom:8}},e.name,t&&c.createElement(M.A,{color:"green",style:{marginLeft:8}},(0,S.Ru)("subscription_current")))),c.createElement("div",{style:{marginBottom:16}},c.createElement("strong",null,(0,S.Ru)("subscription_features"),":"),c.createElement("ul",{style:{paddingLeft:20,marginTop:8}},e.features.map((function(e,t){return c.createElement("li",{key:t,style:{marginBottom:4}},c.createElement(H.A,{style:{color:"#52c41a",marginRight:4}}),e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))})))),c.createElement("div",{style:{marginBottom:16}},c.createElement("strong",null,(0,S.Ru)("subscription_limits"),":"),c.createElement("ul",{style:{paddingLeft:20,marginTop:8}},Object.entries(e.limits).map((function(e){var t=(0,l.A)(e,2),r=t[0],n=t[1];return c.createElement("li",{key:r,style:{marginBottom:4}},r.replace(/([A-Z])/g," $1").split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "),": ",-1===n?(0,S.Ru)("subscription_unlimited"):String(n))})))),r?c.createElement(w.Ay,{block:!0,disabled:!0},(0,S.Ru)("subscription_free_plan")):t?c.createElement(w.Ay,{block:!0,disabled:!0},(0,S.Ru)("subscription_current_plan")):c.createElement(w.Ay,{type:"primary",block:!0,onClick:function(){return function(e){return j.apply(this,arguments)}(e.tier)},loading:P,icon:c.createElement(Y.A,null)},(0,S.Ru)("subscription_upgrade"))))}))))};var le=r(67466),ie=["name","dob","locale","otherPreferences","notificationPreferences"];function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,s.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=p.A.Text;const me=function(){var e,t,r,s=(0,D.wA)(),i=(0,u.S)(),F=i.user,Z=i.setUser,J=d.A.useForm(),K=(0,l.A)(J,1)[0],G=(0,C.Zp)(),M=(0,c.useState)("1"),Y=(0,l.A)(M,2),H=Y[0],W=Y[1],$=(0,c.useState)(!1),Q=(0,l.A)($,2),X=Q[0],ee=Q[1],te=(0,c.useState)([]),re=(0,l.A)(te,2),ne=re[0],ae=re[1],oe=(0,c.useState)(!1),me=(0,l.A)(oe,2),pe=me[0],de=me[1],fe=(0,le.A)("requesting_calendar_permissions",""),be=(0,l.A)(fe,2),ge=be[0],ve=be[1],Ee=(0,q.I)({queryKey:[B.EV],queryFn:V.BJ,retry:3}),_e=Ee.data,ye=Ee.isLoading,Ae=Ee.isError;(0,c.useEffect)((function(){ye||Ae||ae(_e||[])}),[_e,ye,Ae]),(0,c.useEffect)((function(){de(I.v.isSupported())}),[]),(0,c.useEffect)((function(){var e,t;F&&K.setFieldsValue(ce(ce({name:F.name,locale:F.locale,pictureUrl:F.pictureUrl},F.preferences),{},{dob:null!==(e=F.preferences)&&void 0!==e&&e.dob?U()(F.preferences.dob):void 0,notificationPreferences:(null===(t=F.preferences)||void 0===t?void 0:t.notificationPreferences)||{browserNotifications:{enabled:!1,eventReminders:!1}}}))}),[F,K]);var he=function(){var e=(0,a.A)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe){e.next=3;break}return f.Ay.warning((0,S.Ru)("notifications_not_supported")),e.abrupt("return");case 3:if(!t){e.next=11;break}return e.next=6,I.v.requestPermission();case 6:if("granted"===e.sent){e.next=11;break}return f.Ay.error((0,S.Ru)("notification_permission_denied")),K.setFieldsValue({notificationPreferences:ce(ce({},K.getFieldValue("notificationPreferences")),{},{browserNotifications:{enabled:!1,eventReminders:!1}})}),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=(0,a.A)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=2;break}return e.abrupt("return");case 2:if(!t){e.next=6;break}(0,R.K2)(),e.next=19;break;case 6:return e.prev=6,r={preferences:ce(ce({},F.preferences),{},{calendarSyncEnabled:!1})},e.next=10,(0,T.bu)(r);case 10:Z(ce(ce({},F),{},{preferences:ce(ce({},F.preferences),{},{calendarSyncEnabled:!1})})),f.Ay.success((0,S.Ru)("calendar_sync_disabled")),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),f.Ay.error((0,S.Ru)("common_retry")),K.setFieldValue("calendarSyncEnabled",!0);case 19:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();if((0,c.useEffect)((function(){if("true"===ge&&F){ve(""),K.setFieldValue("calendarSyncEnabled",!0);var e=function(){var e=(0,a.A)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={preferences:ce(ce({},F.preferences),{},{calendarSyncEnabled:!0})},e.next=4,(0,T.bu)(t);case 4:Z(ce(ce({},F),{},{preferences:ce(ce({},F.preferences),{},{calendarSyncEnabled:!0})})),f.Ay.success((0,S.Ru)("calendar_sync_permissions_granted")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),f.Ay.error((0,S.Ru)("common_retry")),K.setFieldValue("calendarSyncEnabled",!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[ge,ve,F,K,Z]),!F)return c.createElement(c.Fragment,null);var we=function(){var e=(0,a.A)(o().mark((function e(t){var r,a,l,i,c,u,m,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(!0),e.prev=1,a=t.name,l=t.dob,i=t.locale,c=t.otherPreferences,u=t.notificationPreferences,m=(0,n.A)(t,ie),i===F.locale){e.next=8;break}return(0,O.bT)(i),e.next=7,(0,S.$j)(i);case 7:s((0,L.GP)(i));case 8:return p={name:a,locale:i,preferences:ce(ce(ce({},F.preferences),m),{},{otherPreferences:c},u&&{notificationPreferences:u})},e.next=11,(0,T.bu)(p);case 11:Z(ce(ce({},F),{},{name:a,locale:i,preferences:ce(ce(ce(ce({},F.preferences),m),{},{otherPreferences:c},u&&{notificationPreferences:u}),{},{dob:l?l.toDate():null===(r=F.preferences)||void 0===r?void 0:r.dob,timezone:t.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone})})),f.Ay.success((0,S.Ru)("common_success")),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),f.Ay.error((0,S.Ru)("common_retry"));case 18:return e.prev=18,ee(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(t){return e.apply(this,arguments)}}();return c.createElement("div",{className:"user-detail-wrapper flex-col"},c.createElement("h2",{className:"has-text-centered"},(0,z.JT)((0,S.Ru)("user_settings"),[{key:"user_name",value:F.name}])),c.createElement(d.A,{form:K,layout:"vertical",onFinish:we,className:"user-settings-form flex-col flex-1",initialValues:ce(ce({name:F.name,locale:F.locale,pictureUrl:F.pictureUrl},F.preferences),{},{dob:null!==(e=F.preferences)&&void 0!==e&&e.dob?U()(F.preferences.dob):void 0,weekStart:(null===(t=F.preferences)||void 0===t?void 0:t.weekStart)||j.z,calendarSyncEnabled:!0===(null===(r=F.preferences)||void 0===r?void 0:r.calendarSyncEnabled)})},c.createElement(x.A,{centered:!0,activeKey:H,onChange:function(e){W(e)},className:"settings-tabs flex-1",items:[{key:"1",label:(0,z.Sn)((0,S.Ru)("profile")),children:c.createElement("div",{className:"tab-content"},c.createElement("div",{className:"profile-picture-section flex-col align-center"},c.createElement(m.A,{size:100,imageUrl:F.pictureUrl,fallbackCharacter:F.name[0]}),c.createElement("p",null,F.email)),c.createElement(b.A,{gutter:[24,0]},c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"name",label:(0,S.Ru)("user_settings_name"),rules:[{required:!0,message:(0,S.Ru)("required_field")},{max:255,message:(0,S.Ru)("max_length_field")}]},c.createElement(v.A,null))),c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"dob",label:(0,S.Ru)("user_settings_dob"),rules:[{validator:function(e,t){return t&&t.isAfter(U()())?Promise.reject((0,S.Ru)("dob_future_error")):Promise.resolve()}}]},c.createElement(E.A,{style:{width:"100%"}}))),c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"locale",label:(0,z.JT)((0,S.Ru)("user_settings_locale"),[{key:"bot_name",value:O.Zw}]),rules:[{type:"enum",enum:j.Z9.map((function(e){return e.code}))}]},c.createElement(_.A,{placeholder:(0,S.Ru)("select")},j.Z9.map((function(e){return c.createElement(_.A.Option,{key:e.code,value:e.code},e.name)})))))),c.createElement(b.A,{gutter:[24,0]},c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"age",label:(0,S.Ru)("user_settings_age_group"),rules:[{type:"enum",enum:k.s3.map((function(e){return e.value}))}]},c.createElement(_.A,null,k.s3.map((function(e){return c.createElement(_.A.Option,{key:e.value,value:e.value},e.value)}))))),c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"gender",label:(0,S.Ru)("user_settings_gender"),rules:[{type:"enum",enum:["male","female","other"]}]},c.createElement(_.A,{placeholder:(0,S.Ru)("select")},c.createElement(_.A.Option,{value:"male"},(0,S.Ru)("gender_male")),c.createElement(_.A.Option,{value:"female"},(0,S.Ru)("gender_female")),c.createElement(_.A.Option,{value:"other"},(0,S.Ru)("gender_other"))))),c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"maritalStatus",label:(0,S.Ru)("user_settings_marital_status"),rules:[{type:"number",min:0,max:8}]},c.createElement(_.A,{placeholder:(0,S.Ru)("select")},j.Ji.map((function(e){return c.createElement(_.A.Option,{key:e,value:e},(0,S.Ru)("marital_status_".concat(e)))})))))),c.createElement(b.A,{gutter:[24,0]},c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"userCategory",label:(0,S.Ru)("user_settings_user_category"),rules:[{type:"enum",enum:["professional","student"]}]},c.createElement(_.A,{placeholder:(0,S.Ru)("select")},c.createElement(_.A.Option,{value:"professional"},(0,S.Ru)("user_settings_user_category_professional")),c.createElement(_.A.Option,{value:"student"},(0,S.Ru)("user_settings_user_category_student"))))),c.createElement(d.A.Item,{noStyle:!0,dependencies:["userCategory"]},(function(e){var t=(0,e.getFieldValue)("userCategory");return"student"===t?c.createElement(c.Fragment,null,c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"degree",label:(0,S.Ru)("user_settings_degree"),rules:[{type:"enum",enum:k.a3.map((function(e){return e.value}))}]},c.createElement(_.A,null,k.a3.map((function(e){return c.createElement(_.A.Option,{key:e.value,value:e.value},(0,S.Ru)(e.label_i18n_key))}))))),c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"studyCourse",label:(0,S.Ru)("user_settings_study_course"),rules:[{max:255}]},c.createElement(_.A,{showSearch:!0},k.yC.map((function(e){return c.createElement(_.A.Option,{key:e.value,value:e.value},(0,S.Ru)(e.label_i18n_key))})))))):"professional"===t?c.createElement(c.Fragment,null,c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"yearsOfExperience",label:(0,S.Ru)("user_settings_years_of_experience"),rules:[{type:"number",min:0,max:100,message:(0,S.Ru)("years_experience_positive")}]},c.createElement(y.A,{min:0,max:100,style:{width:"100%"},suffix:(0,S.Ru)("questionnaires_years_of_experience")}))),c.createElement(g.A,{xs:24,md:8},c.createElement(d.A.Item,{name:"jobStatus",label:(0,S.Ru)("user_settings_job_status"),rules:[{type:"number",min:0,max:5}]},c.createElement(_.A,{placeholder:(0,S.Ru)("select")},c.createElement(_.A.Option,{value:j.kW},(0,S.Ru)("questionnaires_job_status_full_time")),c.createElement(_.A.Option,{value:j.eb},(0,S.Ru)("questionnaires_job_status_part_time")),c.createElement(_.A.Option,{value:j.fb},(0,S.Ru)("questionnaires_job_status_flexible")),c.createElement(_.A.Option,{value:j.sS},(0,S.Ru)("questionnaires_job_status_unemployed")),c.createElement(_.A.Option,{value:j.TM},(0,S.Ru)("questionnaires_job_status_retired")),c.createElement(_.A.Option,{value:j.oD},(0,S.Ru)("common_other"))))),c.createElement(g.A,{xs:24,md:12},c.createElement(d.A.Item,{name:"workerType",label:(0,S.Ru)("user_settings_worker_type"),rules:[{type:"enum",enum:k.Y3.map((function(e){return e.value}))}]},c.createElement(_.A,null,k.Y3.map((function(e){return c.createElement(_.A.Option,{key:e.value,value:e.value},(0,S.Ru)(e.label_i18n_key))}))))),c.createElement(g.A,{xs:24,md:12},c.createElement(d.A.Item,{name:"occupation",label:(0,S.Ru)("user_settings_occupation"),rules:[{max:255}]},c.createElement(_.A,{showSearch:!0},k.P0.map((function(e){return c.createElement(_.A.Option,{key:e.value,value:e.value},(0,S.Ru)(e.label_i18n_key))})))))):null}))))},{key:"2",label:(0,S.Ru)("other_preferences"),children:c.createElement("div",{className:"tab-content"},c.createElement(b.A,{gutter:[24,0]},c.createElement(g.A,{xs:24,md:12},c.createElement(d.A.Item,{name:"workLifeBalance",label:(0,S.Ru)("user_settings_work_life_balance"),rules:[{type:"enum",enum:[j.Cg,j.CH,j.jN]}]},c.createElement(_.A,{placeholder:(0,S.Ru)("select")},c.createElement(_.A.Option,{value:j.Cg},(0,S.Ru)("imagine_work_life_balance_work_important")),c.createElement(_.A.Option,{value:j.CH},(0,S.Ru)("imagine_work_life_balance_balanced")),c.createElement(_.A.Option,{value:j.jN},(0,S.Ru)("imagine_work_life_balance_life_important"))))),c.createElement(g.A,{xs:24,md:6},c.createElement(d.A.Item,{name:"preferredFocusSessionLengthMinutes",label:(0,S.Ru)("user_settings_preferred_focus_session_length"),rules:[{type:"number",min:15,max:600,message:(0,S.Ru)("focus_length_positive")}]},c.createElement(y.A,{min:15,max:600,addonAfter:(0,S.Ru)("common_minutes"),style:{width:"100%"}}))),c.createElement(g.A,{xs:24,md:6},c.createElement(d.A.Item,{name:"weekStart",label:(0,S.Ru)("user_settings_week_start")},c.createElement(_.A,null,c.createElement(_.A.Option,{key:0,value:0},(0,S.Ru)("sunday")),c.createElement(_.A.Option,{key:1,value:1},(0,S.Ru)("monday"))))),c.createElement(g.A,{xs:24,md:12},c.createElement(d.A.Item,{name:"timezone",label:(0,S.Ru)("timezone")},c.createElement(v.A,null))),c.createElement(g.A,{xs:24,md:12},c.createElement(d.A.Item,{name:"calendarSyncEnabled",label:(0,S.Ru)("calendar_sync_enabled"),valuePropName:"checked",tooltip:(0,S.Ru)("calendar_sync_description")},c.createElement(A.A,{onChange:xe}))),c.createElement(g.A,{xs:24,md:12},c.createElement(d.A.Item,{name:"goalSettingCategory",label:(0,S.Ru)("user_settings_goal_setting_category"),rules:[{max:255}]},c.createElement(_.A,null,j.O5.map((function(e){return c.createElement(_.A.Option,{key:e,value:e},(0,S.Ru)(j.OB[e]))})))))),c.createElement(b.A,{gutter:[24,0]},c.createElement(g.A,{xs:24},c.createElement(d.A.Item,{name:"futureSelf",label:(0,S.Ru)("user_settings_future_self"),rules:[{type:"array"},{validator:function(e,t){return t&&t.some((function(e){return e.length>250}))?Promise.reject("Goal must be less than 250 characters long"):Promise.resolve()}}]},c.createElement(_.A,{mode:"multiple",loading:ye,disabled:ye,maxTagCount:6},Ae?c.createElement("div",null,(0,S.Ru)("common_error")):ne.flatMap((function(e){return e.suggestions.map((function(e){return c.createElement(_.A.Option,{key:e.adj,value:e.adj},c.createElement(h.A,{title:e.explain},e.adj))}))}))))),c.createElement(g.A,{xs:24},c.createElement(d.A.Item,{name:"aspects",label:(0,S.Ru)("user_settings_aspects"),rules:[{type:"array"},{validator:function(e,t){return t&&t.some((function(e){return e.length>250}))?Promise.reject("Aspect must be less than 250 characters long"):Promise.resolve()}}]},c.createElement(_.A,{mode:"multiple",maxTagCount:6},j.wc.map((function(e){return c.createElement(_.A.Option,{key:e.value,value:e.value},(0,S.Ru)(e.i18nKey))})))))),c.createElement(d.A.Item,{name:"otherPreferences",label:(0,z.JT)((0,S.Ru)("user_settings_other_preferences"),[{key:"bot_name",value:O.Zw}]),rules:[{max:2e3}]},c.createElement(N.A,{placeholder:(0,S.Ru)("other_preferences_example"),rows:4,maxLength:2e3,showCount:!0})),pe&&c.createElement(c.Fragment,null,c.createElement(p.A.Title,{level:5,style:{marginTop:"24px",marginBottom:"16px"}},(0,S.Ru)("browser_notifications")),c.createElement(b.A,{gutter:[24,16]},c.createElement(g.A,{xs:24},c.createElement(d.A.Item,{name:["notificationPreferences","browserNotifications","enabled"],label:(0,S.Ru)("enable_browser_notifications"),valuePropName:"checked"},c.createElement(A.A,{onChange:he})),c.createElement(ue,{type:"secondary",style:{fontSize:"12px",marginTop:"-16px",display:"block"}},(0,S.Ru)("browser_notifications_description"))),c.createElement(g.A,{xs:24},c.createElement(d.A.Item,{noStyle:!0,shouldUpdate:function(e,t){var r,n;return(null===(r=e.notificationPreferences)||void 0===r||null===(r=r.browserNotifications)||void 0===r?void 0:r.enabled)!==(null===(n=t.notificationPreferences)||void 0===n||null===(n=n.browserNotifications)||void 0===n?void 0:n.enabled)}},(function(e){var t=(0,e.getFieldValue)(["notificationPreferences","browserNotifications","enabled"]);return c.createElement(d.A.Item,{name:["notificationPreferences","browserNotifications","eventReminders"],label:(0,S.Ru)("event_reminder_notifications"),valuePropName:"checked"},c.createElement(A.A,{disabled:!t}))})),c.createElement(ue,{type:"secondary",style:{fontSize:"12px",marginTop:"-16px",display:"block"}},(0,S.Ru)("event_reminder_notifications_description"))))))},{key:"3",label:(0,S.Ru)("subscription"),children:c.createElement(se,null)}]}),c.createElement("div",{className:"form-actions flex-row justify-between"},c.createElement(w.Ay,{type:"primary",htmlType:"submit",loading:X,className:"is-deep"},(0,S.Ru)("common_save_changes")),c.createElement(w.Ay,{type:"primary",danger:!0,className:"is-deep",onClick:function(){(0,R.CI)((function(){(0,k.vU)(),Z(),(0,P.P4)(),G(O.A2.path)}))}},(0,S.Ru)("logout")))))}},70276:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var n=r(31601),a=r.n(n),s=r(76314),l=r.n(s)()(a());l.push([e.id,".user-detail-wrapper{background:var(--color-primary-bg);height:calc(100vh - 88px);padding:24px 16px;overflow-y:auto;border-radius:12px}@media(max-width: 768px){.user-detail-wrapper{height:calc(100% - 128px);height:calc(100vh - 128px);height:calc(100dvh - 128px)}}.user-detail-wrapper h2{margin-bottom:24px;color:var(--color-text);font-size:24px;font-weight:600}.user-detail-wrapper .user-settings-form{width:100%;margin:0 auto;background:var(--color-primary-bg)}.user-detail-wrapper .user-settings-form .settings-tabs .ant-tabs-nav{margin-bottom:32px}.user-detail-wrapper .user-settings-form .settings-tabs .ant-tabs-nav::before{border-bottom:1px solid var(--color-border)}.user-detail-wrapper .user-settings-form .settings-tabs .ant-tabs-nav .ant-tabs-tab{padding:12px 24px;font-size:16px}.user-detail-wrapper .user-settings-form .settings-tabs .ant-tabs-nav .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:var(--color-primary);font-weight:500}.user-detail-wrapper .user-settings-form .settings-tabs .ant-tabs-ink-bar{background-color:var(--color-primary);height:3px}.user-detail-wrapper .user-settings-form .tab-content{padding:0 0 32px;min-height:400px;max-width:min(100vw,960px);margin:0 auto}.user-detail-wrapper .user-settings-form .profile-picture-section{margin-bottom:32px;text-align:center}.user-detail-wrapper .user-settings-form .profile-picture-section .ant-avatar{margin-bottom:16px;width:120px;height:120px;border:4px solid var(--color-primary-light)}.user-detail-wrapper .user-settings-form .profile-picture-section .image-upload-form-item{margin-bottom:0}.user-detail-wrapper .user-settings-form .ant-form-item{margin-bottom:24px}.user-detail-wrapper .user-settings-form .ant-form-item .ant-form-item-label>label{color:var(--color-text);font-weight:500}.user-detail-wrapper .user-settings-form .form-actions{margin-top:32px;padding-top:24px;border-top:1px solid var(--color-border)}.user-detail-wrapper .user-settings-form .form-actions button{min-width:120px}.user-detail-wrapper .ant-slider{margin:8px 0 24px}.user-detail-wrapper .ant-slider .ant-slider-track{background-color:var(--color-primary)}.user-detail-wrapper .ant-slider .ant-slider-handle{border-color:var(--color-primary)}.user-detail-wrapper .ant-slider .ant-slider-handle:hover,.user-detail-wrapper .ant-slider .ant-slider-handle:focus{border-color:var(--color-primary-bright)}.user-detail-wrapper .ant-select-multiple .ant-select-selection-item{background-color:var(--color-primary-light);border-color:var(--color-primary)}.user-detail-wrapper .ant-input-number-group-wrapper{width:100%}.user-detail-wrapper .ant-input,.user-detail-wrapper .ant-picker,.user-detail-wrapper .ant-select:not(.ant-select-customize-input) .ant-select-selector{border-radius:6px}.user-detail-wrapper .ant-input:hover,.user-detail-wrapper .ant-input:focus,.user-detail-wrapper .ant-picker:hover,.user-detail-wrapper .ant-picker:focus,.user-detail-wrapper .ant-select:not(.ant-select-customize-input) .ant-select-selector:hover,.user-detail-wrapper .ant-select:not(.ant-select-customize-input) .ant-select-selector:focus{border-color:var(--color-primary)}.user-detail-wrapper .ant-input-focused,.user-detail-wrapper .ant-input:focus,.user-detail-wrapper .ant-picker-focused,.user-detail-wrapper .ant-picker:focus,.user-detail-wrapper .ant-select-focused:not(.ant-select-disabled).ant-select:not(.ant-select-customize-input) .ant-select-selector{border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(var(--color-primary-rgb), 0.2)}@media(max-width: 768px){.user-detail-wrapper{padding:16px 8px}.user-detail-wrapper .user-settings-form{padding:16px 12px}.user-detail-wrapper .user-settings-form .settings-tabs .ant-tabs-nav .ant-tabs-tab{padding:8px 12px;font-size:14px}.user-detail-wrapper .user-settings-form .profile-picture-section .ant-avatar{width:100px;height:100px}.user-detail-wrapper .form-actions{flex-direction:column;gap:16px}.user-detail-wrapper .form-actions button{width:100%}}",""]);const i=l},55081:(e,t,r)=>{var n=r(85072),a=r.n(n),s=r(97825),l=r.n(s),i=r(77659),o=r.n(i),c=r(55056),u=r.n(c),m=r(10540),p=r.n(m),d=r(41113),f=r.n(d),b=r(70276),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=o().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=p();var v=a()(b.default,g);if(!b.default.locals||e.hot.invalidate){var E=!b.default.locals,_=E?b:b.default.locals;e.hot.accept(70276,(t=>{b=r(70276),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!r||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(r&&"default"===n||e[n]))return!1;return!0}(_,E?b:b.default.locals,E)?(_=E?b:b.default.locals,v(b.default)):e.hot.invalidate()}))}e.hot.dispose((function(){v()}));b.default&&b.default.locals&&b.default.locals}}]);