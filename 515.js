"use strict";(self.webpackChunklazyvax_ext=self.webpackChunklazyvax_ext||[]).push([[515],{28420:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Bt});var n=r(60436),o=r(64467),a=r(10467),i=r(5544),c=r(54756),l=r.n(c),s=r(96540),d=r(66221),u=r(54107),m=r(76511),p=r(64132),g=r(1849),f=r(36191),b=r(82734),h=r(13904),v=r(7079),y=r(3699),w=r(6490),x=r(36704),k=r(70462),E=r(49982),A=r(10980),N=r(1372),_=r(85061),S=r(20763),R=r(47852),I=r(29197),z=r(55794),C=r.n(z),D=r(33149),O=(r(87957),r(49214));r(27639);const j=function(e){var t=e.items,r=e.withBackground,o=void 0===r||r,a=e.backgroundColor,i=e.withAnimation,c=void 0===i||i,l=e.multiple,d=void 0!==l&&l,u=e.selectedIds,m=void 0===u?[]:u,p=e.onSelectionChange;return s.createElement("div",{className:"dock-container"},s.createElement("div",{className:"dock ".concat(o?"dock--with-background":""," ").concat(c?"dock--with-animation":""),style:a?{backgroundColor:a}:void 0},t.map((function(e){return s.createElement("button",{key:e.id,className:"no-effect dock-item ".concat(m.includes(e.id)?"dock-item--selected":""," ").concat(c?"dock-item--with-animation":""),onClick:function(){return function(e){var t,r,o=e.id;r=d?m.includes(o)?m.filter((function(e){return e!==o})):[].concat((0,n.A)(m),[o]):[o],null==p||p(r),null===(t=e.onSelect)||void 0===t||t.call(e)}(e)},title:e.title},s.createElement("div",{className:"dock-item__icon"},e.icon),s.createElement("span",{className:"dock-item__tooltip"},e.title))}))))};var B=r(55166),P=r(25339),L=r(28073),M=r(7142),T=r(37977),F=r(36552),U=r(15039),q=r(60227),G=r(32977),K=r(21357),H=r(51802),Y=r(80581),J=r(78602),W=r(36207),X=r(10741),Q=r(42569);r(75572);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z=B.A.Title,ee=B.A.Text,te=function(e){return e.IDLE="idle",e.RUNNING="running",e.PAUSED="paused",e}({}),re=function(e){return e.FOCUS="focus",e.BREAK="break",e.LONG_BREAK="long_break",e}({}),ne="lvx.pomodoro.settings",oe={focusDuration:25,shortBreakDuration:5,longBreakDuration:15,autoStartBreaks:!0,autoStartFocus:!1,soundEnabled:!0};var ae=function(e){var t=e.focusDurationInMinutes,r=void 0===t?25:t,n=e.breakDurationInMinutes,o=void 0===n?5:n,a=e.longBreakDurationInMinutes,c=void 0===a?15:a,l=e.focusTask,d=e.shortBreakTask,u=e.longBreakTask,m=e.onSessionComplete,g=e.totalSeconds,f=e.isAutoRun,b=void 0!==f&&f,h=e.startTime,y=(0,s.useState)((function(){var e=function(){try{var e=localStorage.getItem(ne);if(!e)return oe;var t=JSON.parse(e);return $($({},oe),t)}catch(e){return oe}}();return $($({},e),{},{focusDuration:r||e.focusDuration,shortBreakDuration:o||e.shortBreakDuration,longBreakDuration:c||e.longBreakDuration})})),x=(0,i.A)(y,2),k=x[0],E=x[1],A=(0,s.useState)(re.FOCUS),N=(0,i.A)(A,2),_=N[0],S=N[1],R=(0,s.useState)(te.IDLE),I=(0,i.A)(R,2),z=I[0],C=I[1],D=(0,s.useState)(!1),O=(0,i.A)(D,2),j=O[0],B=O[1],V=(0,s.useState)(k.focusDuration),ae=(0,i.A)(V,2),ie=ae[0],ce=ae[1],le=(0,s.useState)(0),se=(0,i.A)(le,2),de=se[0],ue=se[1],me=(0,s.useState)(!1),pe=(0,i.A)(me,2),ge=pe[0],fe=pe[1],be=g?function(e,t,r,n){var o=0,a=0;if(e<=0)return 0;for(;o<e;){var i=60*t;if(o+i>e){if(0===a)return 1;break}var c=60*(++a%4==0?n:r);if((o+=i)+c>e)break;o+=c}return a>0?a:1}(g,k.focusDuration,k.shortBreakDuration,k.longBreakDuration):1;(0,s.useEffect)((function(){!function(e){try{localStorage.setItem(ne,JSON.stringify(e))}catch(e){}}(k)}),[k]);var he=(0,s.useCallback)((function(e){switch(e){case re.FOCUS:return k.focusDuration;case re.BREAK:return k.shortBreakDuration;case re.LONG_BREAK:return k.longBreakDuration;default:return k.focusDuration}}),[k]),ve=(0,s.useState)(60*k.focusDuration),ye=(0,i.A)(ve,2),we=ye[0],xe=ye[1],ke=(0,s.useRef)(null),Ee=(0,s.useRef)(null),Ae=(0,s.useCallback)((function(){if(h){var e=(new Date).getTime()-h.getTime(),t=Math.floor(e/1e3);if(t<=0)return S(re.FOCUS),xe(60*he(re.FOCUS)),void ue(0);for(var r=0,n=0,o=re.FOCUS;r<t;){var a=60*he(o);if(r+a>t){var i=a-(t-r);return S(o),xe(i),void ue(n)}r+=a,o=o===re.FOCUS?++n%4==0?re.LONG_BREAK:re.BREAK:re.FOCUS}S(o),xe(60*he(o)),ue(n)}}),[he,h]);(0,s.useEffect)((function(){h&&b&&(Ae(),C(te.RUNNING))}),[h,b,Ae]);var Ne=[{label:(0,Q.Ru)("pomodoro_focus"),value:re.FOCUS,icon:s.createElement("span",{className:"tab-icon"},s.createElement(w.A,null))},{label:(0,Q.Ru)("pomodoro_short_break"),value:re.BREAK,icon:s.createElement("span",{className:"tab-icon"},s.createElement(v.A,null))},{label:(0,Q.Ru)("pomodoro_long_break"),value:re.LONG_BREAK,icon:s.createElement("span",{className:"tab-icon"},s.createElement(q.A,null))}],_e=(0,s.useCallback)((function(){switch(_){case re.FOCUS:return l;case re.BREAK:return d;case re.LONG_BREAK:return u;default:return}}),[_,l,d,u]),Se=(0,s.useCallback)((function(){if(null==m||m(_),k.soundEnabled&&Ee.current){var e="/sounds/notification.mp3";_===re.FOCUS?e="/sounds/notification.mp3":_===re.BREAK?e="/sounds/short_break.mp3":_===re.LONG_BREAK&&(e="/sounds/long_break.mp3"),Ee.current.src=e,Ee.current.play().catch((function(){}))}var t;if(_===re.FOCUS){var r=de+1;ue(r),t=r%4==0?re.LONG_BREAK:re.BREAK}else t=re.FOCUS;var n=_===re.FOCUS&&k.autoStartBreaks||(_===re.BREAK||_===re.LONG_BREAK)&&k.autoStartFocus;C(n?te.RUNNING:te.IDLE),S(t),xe(60*he(t))}),[_,he,m,de,k]);(0,s.useEffect)((function(){ce(he(_))}),[he,_]),(0,s.useEffect)((function(){try{Ee.current=new Audio,Ee.current.volume=1}catch(e){}return function(){ke.current&&clearInterval(ke.current)}}),[]),(0,s.useEffect)((function(){if(z===te.RUNNING){if(!(we<=0))return ke.current=setInterval((function(){xe((function(e){return e-1}))}),1e3),function(){ke.current&&clearInterval(ke.current)};Se()}}),[z,we,Se]);var Re,Ie,ze,Ce=function(){C(te.RUNNING)},De=function(){C(te.PAUSED)},Oe=function(){C(te.RUNNING)},je=z===te.IDLE?{icon:s.createElement(G.A,null),text:(0,Q.Ru)("common_start"),onClick:Ce,className:"start-button"}:z===te.RUNNING?{icon:s.createElement(K.A,null),text:(0,Q.Ru)("common_pause"),onClick:De,className:"pause-button"}:{icon:s.createElement(G.A,null),text:(0,Q.Ru)("common_resume"),onClick:Oe,className:"resume-button"},Be=_e();return s.createElement("div",{className:"pomodoro-wrapper ".concat(_)},s.createElement("div",{className:"card ".concat(ge?"flipped":"")},s.createElement("div",{className:"card-inner"},s.createElement("div",{className:"card-front pomodoro-container"},s.createElement("div",{className:"pomodoro-header"},s.createElement(P.A,{options:Ne,value:_,onChange:function(e){var t=e;S(t),C(te.IDLE),xe(60*he(t))},className:"pomodoro-tabs",block:!0})),s.createElement("div",{className:"pomodoro-body"},s.createElement("div",{className:"timer-display"},s.createElement(L.A,{content:s.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},s.createElement(M.A,{min:1,value:ie,onChange:function(e){return ce(null!=e?e:1)}}),s.createElement(ee,null,(0,Q.Ru)("common_minutes")),s.createElement(p.Ay,{className:"is-deep",icon:s.createElement(H.A,null),onClick:function(){var e=null!=ie?ie:he(_),t=$({},k);switch(_){case re.FOCUS:t.focusDuration=e;break;case re.BREAK:t.shortBreakDuration=e;break;case re.LONG_BREAK:t.longBreakDuration=e}E(t),xe(60*e),B(!1)}},(0,Q.Ru)("common_go"))),open:j,onOpenChange:B},s.createElement(Z,{level:1,className:"timer-text",onClick:function(){z===te.IDLE&&(ce(he(_)),B(!0))},style:{cursor:z===te.IDLE?"pointer":"default"}},(Re=we,Ie=Math.floor(Re/60),ze=Re%60,"".concat(Ie.toString().padStart(2,"0"),":").concat(ze.toString().padStart(2,"0"))))),be&&s.createElement("div",{className:"session-progress"},Array.from({length:be}).map((function(e,t){var r=t+1,n=r<=de,o=r===de+1&&r<=be;return s.createElement(T.A,{title:"".concat(r,"/").concat(be," \u2764\ufe0f"),key:t},s.createElement("span",{className:"session-dot ".concat(n?"completed":o?"current":"pending")}))})))),Be&&s.createElement("div",{className:"task-info"},s.createElement(ee,{className:"task-label"},Be.emoji&&s.createElement("span",{className:"task-emoji"},Be.emoji)," # ",Be.title)),s.createElement("div",{className:"controls"},s.createElement(p.Ay,{type:"primary",size:"large",icon:je.icon,onClick:je.onClick,className:"is-deep control-button ".concat(je.className)},je.text),(z!==te.IDLE||_!==re.FOCUS||we<60*k.focusDuration||de>0)&&s.createElement(p.Ay,{size:"large",icon:s.createElement(Y.A,null),onClick:function(){C(te.IDLE),S(re.FOCUS),xe(60*k.focusDuration),ue(0)},className:"is-deep control-button reset-button"},(0,Q.Ru)("common_reset"))),s.createElement(T.A,{title:(0,Q.Ru)("common_settings")},s.createElement(p.Ay,{className:"settings-button",type:"text",shape:"circle",icon:s.createElement(J.A,null),onClick:function(){return fe(!0)}})))),s.createElement("div",{className:"card-back"},s.createElement("div",{className:"settings-header"},s.createElement(p.Ay,{type:"primary",variant:"filled",icon:s.createElement(W.A,null),onClick:function(){return fe(!1)},className:"is-deep"},(0,Q.Ru)("common_back")),s.createElement(p.Ay,{type:"default",className:"is-deep",icon:s.createElement(X.A,null),onClick:function(){E(oe)}},(0,Q.Ru)("common_reset"))),s.createElement("div",{className:"settings-body"},s.createElement("div",{className:"settings-section"},s.createElement(ee,{className:"settings-section-title"},(0,Q.Ru)("pomodoro_settings_duration")),s.createElement("div",{className:"settings-row"},s.createElement(ee,null,(0,Q.Ru)("pomodoro_focus")),s.createElement("div",{className:"input-with-unit"},s.createElement(M.A,{min:1,max:120,value:k.focusDuration,onChange:function(e){return E($($({},k),{},{focusDuration:null!=e?e:25}))}}),s.createElement(ee,{className:"unit"},(0,Q.Ru)("common_minutes")))),s.createElement("div",{className:"settings-row"},s.createElement(ee,null,(0,Q.Ru)("pomodoro_short_break")),s.createElement("div",{className:"input-with-unit"},s.createElement(M.A,{min:1,max:60,value:k.shortBreakDuration,onChange:function(e){return E($($({},k),{},{shortBreakDuration:null!=e?e:5}))}}),s.createElement(ee,{className:"unit"},(0,Q.Ru)("common_minutes")))),s.createElement("div",{className:"settings-row"},s.createElement(ee,null,(0,Q.Ru)("pomodoro_long_break")),s.createElement("div",{className:"input-with-unit"},s.createElement(M.A,{min:1,max:120,value:k.longBreakDuration,onChange:function(e){return E($($({},k),{},{longBreakDuration:null!=e?e:15}))}}),s.createElement(ee,{className:"unit"},(0,Q.Ru)("common_minutes"))))),s.createElement(F.A,{size:"small"}),s.createElement("div",{className:"settings-section"},s.createElement(ee,{className:"settings-section-title"},(0,Q.Ru)("pomodoro_settings_auto_start")),s.createElement("div",{className:"settings-row"},s.createElement(ee,null,(0,Q.Ru)("pomodoro_settings_auto_start_breaks")),s.createElement(U.A,{checked:k.autoStartBreaks,onChange:function(e){return E($($({},k),{},{autoStartBreaks:e}))}})),s.createElement("div",{className:"settings-row"},s.createElement(ee,null,(0,Q.Ru)("pomodoro_settings_auto_start_focus")),s.createElement(U.A,{checked:k.autoStartFocus,onChange:function(e){return E($($({},k),{},{autoStartFocus:e}))}}))),s.createElement(F.A,{size:"small"}),s.createElement("div",{className:"settings-section"},s.createElement(ee,{className:"settings-section-title"},(0,Q.Ru)("pomodoro_settings_notifications")),s.createElement("div",{className:"settings-row"},s.createElement(ee,null,(0,Q.Ru)("pomodoro_settings_sound")),s.createElement(U.A,{checked:k.soundEnabled,onChange:function(e){return E($($({},k),{},{soundEnabled:e}))}}))))))))},ie=r(6754),ce=(r(99614),B.A.Title),le=B.A.Text,se=function(e){return e.IDLE="idle",e.RUNNING="running",e.PAUSED="paused",e}(se||{}),de=function(e){var t=e.durationInSeconds,r=e.totalSeconds,n=e.onComplete,o=e.title,a=e.description,c=e.autoStart,l=void 0!==c&&c,d=(0,s.useState)(se.IDLE),u=(0,i.A)(d,2),m=u[0],g=u[1],f=(0,s.useState)(t),b=(0,i.A)(f,2),h=b[0],v=b[1],y=(0,s.useState)(t),w=(0,i.A)(y,2),x=w[0],k=w[1],E=(0,s.useState)(!1),A=(0,i.A)(E,2),N=A[0],_=A[1],S=(0,s.useState)(Math.floor(t/60)),R=(0,i.A)(S,2),I=R[0],z=R[1],C=(0,s.useRef)(null),D=(0,s.useRef)(null),O=(0,s.useRef)(null),j=(0,s.useState)(null!=r?r:t),B=(0,i.A)(j,2),P=B[0],T=B[1],F=h>0?h/P*100:0;(0,s.useEffect)((function(){try{D.current=new Audio("/sounds/notification.mp3"),D.current.volume=1}catch(e){}return function(){C.current&&clearInterval(C.current)}}),[]),(0,s.useEffect)((function(){z(Math.floor(x/60))}),[x]),(0,s.useEffect)((function(){var e=null===O.current,n=!e&&O.current!==t;(e||n)&&(g(se.IDLE),v(t),k(t),T(null!=r?r:t),_(!1),C.current&&(clearInterval(C.current),C.current=null),l&&g(se.RUNNING)),O.current=t}),[t,r,l]);var U=(0,s.useCallback)((function(){g(se.IDLE),D.current&&D.current.play().catch((function(){})),null==n||n()}),[n]);(0,s.useEffect)((function(){return m===se.RUNNING&&h>0&&(C.current=setInterval((function(){v((function(e){return e<=1?(C.current&&(clearInterval(C.current),C.current=null),U(),0):e-1}))}),1e3)),function(){C.current&&(clearInterval(C.current),C.current=null)}}),[m,U,h]);var q,J,W,X=function(){g(se.RUNNING)},V=function(){g(se.PAUSED)},$=function(){g(se.RUNNING)},Z=m===se.IDLE?{icon:s.createElement(G.A,null),text:(0,Q.Ru)("common_start"),onClick:X,className:"start-button"}:m===se.RUNNING?{icon:s.createElement(K.A,null),text:(0,Q.Ru)("common_pause"),onClick:V,className:"pause-button"}:{icon:s.createElement(G.A,null),text:(0,Q.Ru)("common_resume"),onClick:$,className:"resume-button"};return s.createElement("div",{className:"countdown-container"},o&&s.createElement(ce,{level:4,className:"countdown-title"},o),s.createElement("div",{className:"timer-display"},s.createElement(L.A,{content:s.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},s.createElement(M.A,{min:1,value:I,onChange:function(e){return z(null!=e?e:1)}}),s.createElement(le,null,(0,Q.Ru)("common_minutes")),s.createElement(p.Ay,{className:"is-deep",icon:s.createElement(H.A,null),onClick:function(){var e=60*(null!=I?I:1);k(e),v(e),T(e),_(!1)}},(0,Q.Ru)("common_go"))),open:N,onOpenChange:_},s.createElement(ce,{level:1,className:"timer-text",onClick:function(){m===se.IDLE&&(z(Math.floor(x/60)),_(!0))},style:{cursor:m===se.IDLE?"pointer":"default"}},(q=h,J=Math.floor(q/60),W=q%60,"".concat(J.toString().padStart(2,"0"),":").concat(W.toString().padStart(2,"0")))))),s.createElement("div",{className:"progress-container"},s.createElement(ie.A,{percent:F,showInfo:!1,strokeColor:{"0%":"#108ee9","100%":"#87d068"},trailColor:"rgba(255, 255, 255, 0.2)"})),a&&s.createElement(le,{className:"countdown-description"},a),s.createElement("div",{className:"controls"},s.createElement(p.Ay,{type:"primary",size:"large",icon:Z.icon,onClick:Z.onClick,className:"is-deep control-button ".concat(Z.className)},Z.text),m!==se.IDLE&&s.createElement(p.Ay,{size:"large",icon:s.createElement(Y.A,null),onClick:function(){g(se.IDLE),v(x)},className:"is-deep control-button reset-button"},(0,Q.Ru)("common_reset"))))},ue=r(72710),me=r(38076),pe=r(67230),ge=r(3366),fe=r(71468),be=r(7080);const he=r.p+"static/677ef7ab3dfe7b2c4bf5.png";var ve=r(69975);const ye=function(e){var t=e.selectedDateIso,r=(0,s.useMemo)((function(){return new Date(t)}),[t]),n=(0,fe.wA)(),o=(0,s.useRef)();return(0,s.useEffect)((function(){return function(){clearTimeout(o.current)}}),[]),s.createElement("div",{className:"tasks-widget-wrapper pad-16px is-full-height flex-col gap-y-12"},s.createElement(ge.c,{selectedDate:r,onItemCheckChange:function(e,t){clearTimeout(o.current),t?(n((0,be.Fq)({url:(0,Q.ID)(he),size:100})),o.current=window.setTimeout((function(){n((0,be.Fq)({url:(0,Q.ID)(ve),size:64}))}),2e3)):n((0,be.Fq)({url:(0,Q.ID)(ve),size:64}))}}))};r(65529);var we=r(26362),xe=r(4086),ke=(0,Q.Ru)("Chat"),Ee=(0,Q.Ru)("calendar");const Ae=function(){var e=(0,s.useState)(ke),t=(0,i.A)(e,2),r=t[0],n=t[1],o=[{label:ke,value:ke,icon:s.createElement(A.A,null)},{label:Ee,value:Ee,icon:s.createElement(we.A,null)}],a={hidden:{opacity:0},visible:{opacity:1}};return s.createElement("div",{className:"my-space-sider"},s.createElement("div",{className:"my-space-sider-header"},s.createElement(P.A,{options:o,value:r,onChange:function(e){return n(e.toString())}})),s.createElement("div",{className:"my-space-sider-content"},s.createElement("div",{className:"tab-content"},s.createElement(d.N,{mode:"wait",initial:!1},r===ke&&s.createElement(u.P.div,{key:"chat",variants:a,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.15,ease:"easeInOut"},className:"tab-pane",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column"}},s.createElement(me.A,{includeHeader:!1,includeAvatar:!1})),r===Ee&&s.createElement(u.P.div,{key:"calendar",variants:a,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.15,ease:"easeInOut"},className:"tab-pane",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},s.createElement(xe.A,{onAddEvent:function(){}}))))))};var Ne=r(95927),_e=r(83186),Se=r(67466),Re=r(97665),Ie=r(59270),ze=r(86220),Ce=r(62542),De=r(82960),Oe=r(47767),je=r(84976),Be=r(97848),Pe=r(49384),Le=r(34878),Me=r(2622),Te=r(6463),Fe=r(12268),Ue=r(92089),qe=r(91349),Ge=r(86319),Ke=r(54929),He=r(62775);function Ye(e){var t=e.tabOptions,r=e.onTabChange,n=e.activeTab;return s.createElement("div",{className:"music-widget-content"},s.createElement("div",{className:"music-widget-header"},s.createElement(P.A,{options:t,value:n,onChange:r})),s.createElement("div",{className:"music-widget-body"},s.createElement(d.N,{mode:"wait"},n===(0,Q.Ru)("music")?s.createElement(u.P.div,{key:"music",className:"is-full-height",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},s.createElement(Ke.A,{tracks:_e.s0,showFloatingPlayer:!1})):s.createElement(u.P.div,{key:"sounds",className:"is-full-height",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},s.createElement(He.A,null)))))}var Je=r(97072),We=r(42652),Xe=r(52120),Qe=r(74449),Ve=function(e){var t,r=e.activeConversation,o=(0,s.useState)(""),a=(0,i.A)(o,2),c=a[0],l=a[1],d=(0,s.useState)([]),u=(0,i.A)(d,2),m=u[0],g=u[1];return(0,s.useEffect)((function(){var e=function(){var e=new Date,t=(0,Ue.GP)(e,"HH:mm");l(t)};e();var t=setInterval(e,6e4);return function(){return clearInterval(t)}}),[]),(0,s.useEffect)((function(){var e;if(null!=r&&null!==(e=r.meta)&&void 0!==e&&e.meta){var t=r.meta.meta;t.energyLevels&&g(t.energyLevels)}}),[r]),null!=r&&r._id?s.createElement("div",{className:"energy-checkin-content"},s.createElement(Qe.q,{conversationId:r._id,questionText:(0,Q.Ru)("energy_checkin_right_now"),canMultipleSubmit:!0,submitButton:s.createElement("div",{className:"flex-row align-center gap-x-8"},(0,Q.Ru)("common_save_at")," ",c),extraFooterContent:s.createElement(L.A,{content:0===(null!==(t=null==m?void 0:m.length)&&void 0!==t?t:0)?s.createElement("div",null,(0,Q.Ru)("no_history_yet")):s.createElement(We.A,{size:"small",dataSource:(0,n.A)(null!=m?m:[]).sort((function(e,t){return new Date(t.time).getTime()-new Date(e.time).getTime()})),renderItem:function(e){return s.createElement(We.A.Item,null,(0,Ue.GP)(new Date(e.time),"HH:mm")," - ",$e(e.energyLevel)," ",e.energyLevel,"%")}}),trigger:"click"},s.createElement(p.Ay,{className:"is-deep"},(0,Q.Ru)("common_history")," ",s.createElement(Xe.A,{count:(null==m?void 0:m.length)||0})))})):s.createElement(Je.A,{active:!0})},$e=function(e){var t;return(null===(t=Qe.$.find((function(t){return e<=t.value})))||void 0===t?void 0:t.label)||"\u{1f610}"},Ze=r(34338),et=s.memo((function(e){var t=e.goals,r=e.goalsLoading,n=e.handleArchiveGoal,o=e.navigate;return s.createElement("div",{className:"goals-widget-content"},s.createElement("div",{className:"goals-list pad-16px"},r?s.createElement(Je.A,{active:!0}):null==t?void 0:t.map((function(e,t){return s.createElement(u.P.div,{key:e._id,className:"goal-item",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t}},s.createElement(Ze.A,{goal:e,onArchive:n,onClick:function(e){return o("/goals/".concat(e))}}))}))))}));const tt=et;var rt=r(14154),nt=r(31598),ot=function(){var e=(0,a.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,rt.PA)().get(nt.l1);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),at=r(75704),it=r(27674),ct=r(84972),lt=r(93598),st=r(31882),dt=r(57097),ut=r(70410),mt=r(13324);const pt=r.p+"static/574f50cf09887c9f26b7.svg",gt=r.p+"static/b81d7612e43189072bdb.svg",ft=r.p+"static/4c062ca3749bf721d035.svg",bt=r.p+"static/3d5f5712b7a4348e6bad.svg";r(92739);var ht="lvx.location.options.",vt="lvx.location.hidden.";function yt(e){return"home"===e?{id:"home",label:(0,Me.Sn)((0,Q.Ru)("common_home")),kind:"svg",icon:s.createElement("img",{src:pt,alt:(0,Q.Ru)("common_home")}),isBuiltIn:!0}:"work"===e?{id:"work",label:(0,Me.Sn)((0,Q.Ru)("common_workplace")),kind:"svg",icon:s.createElement("img",{src:gt,alt:(0,Q.Ru)("common_workplace")}),isBuiltIn:!0}:"school"===e?{id:"school",label:(0,Me.Sn)((0,Q.Ru)("common_school")),kind:"svg",icon:s.createElement("img",{src:ft,alt:(0,Q.Ru)("common_school")}),isBuiltIn:!0}:{id:"other",label:(0,Me.Sn)((0,Q.Ru)("common_other")),kind:"svg",icon:s.createElement("img",{src:bt,alt:(0,Q.Ru)("common_other")}),isBuiltIn:!0}}const wt=function(e){var t,r,o=e.user,c=e.conversationId,d=e.canMultipleSubmit,u=void 0===d||d,m=(0,fe.wA)(),g=(0,Re.jE)(),f=(0,fe.d4)((function(e){return e.home.conversation})),b=c||(null==f?void 0:f._id),h=(null==f||null===(t=f.meta)||void 0===t?void 0:t.meta)||void 0,v=(0,s.useState)(!1),y=(0,i.A)(v,2),w=y[0],x=y[1],k=(0,s.useState)(!1),E=(0,i.A)(k,2),A=E[0],N=E[1],_=(0,s.useState)([]),S=(0,i.A)(_,2),I=S[0],z=S[1],C=(0,s.useState)(""),D=(0,i.A)(C,2),O=D[0],j=D[1],B=(0,s.useMemo)((function(){return function(e){var t;return"student"===(null===(t=e.preferences)||void 0===t?void 0:t.userCategory)?["home","school","other"]:["home","work","other"]}(o).map(yt)}),[o]),P=(0,s.useState)((function(){return function(e){try{var t=localStorage.getItem(ht+e);if(!t)return[];var r=JSON.parse(t);return Array.isArray(r)?r:[]}catch(e){return[]}}(o._id)})),L=(0,i.A)(P,2),M=L[0],U=L[1],q=(0,s.useState)((function(){return function(e){try{var t=localStorage.getItem(vt+e);if(!t)return[];var r=JSON.parse(t),n=["home","work","school","other"];return Array.isArray(r)?r.filter((function(e){return n.includes(e)})):[]}catch(e){return[]}}(o._id)})),G=(0,i.A)(q,2),K=G[0],H=G[1],Y=(0,s.useMemo)((function(){return[{key:"location_common_coffee_shop",emoji:"\u2615\ufe0f"},{key:"location_common_public_transport",emoji:"\u{1f68c}"},{key:"location_common_gym",emoji:"\u{1f3cb}\ufe0f"},{key:"location_common_grocery",emoji:"\u{1f6d2}"},{key:"location_common_park",emoji:"\u{1f333}"},{key:"location_common_restaurant",emoji:"\u{1f37d}\ufe0f"},{key:"location_common_library",emoji:"\u{1f4da}"},{key:"location_common_hospital",emoji:"\u{1f3e5}"},{key:"location_common_airport",emoji:"\u2708\ufe0f"}].map((function(e){var t=e.key,r=e.emoji,n=(0,Me.Sn)((0,Q.Ru)(t));return{value:n,label:"".concat(r," ").concat(n),emoji:r}}))}),[]);(0,s.useEffect)((function(){!function(e,t){try{localStorage.setItem(ht+e,JSON.stringify(t))}catch(e){}}(o._id,M)}),[M,o._id]),(0,s.useEffect)((function(){!function(e,t){try{localStorage.setItem(vt+e,JSON.stringify(t))}catch(e){}}(o._id,K)}),[K,o._id]);var V,$,Z=(0,s.useMemo)((function(){return B.filter((function(e){return!K.includes(e.id)}))}),[B,K]),ee=(0,s.useMemo)((function(){return[].concat((0,n.A)(Z),(0,n.A)(M))}),[Z,M]),te=(0,s.useState)(null),re=(0,i.A)(te,2),ne=re[0],oe=re[1],ae=(0,dt.n)({mutationFn:(V=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}throw new Error("missing_conversation");case 2:return e.next=4,(0,De.G$)(b,t,new Date);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),function(e){return V.apply(this,arguments)}),onSuccess:function(e){var t,r=(new Date).toISOString(),o=(null==f||null===(t=f.meta)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.locations)||[];m((0,Le.Bq)({locations:[].concat((0,n.A)(o),[{time:r,location:e}])})),g.invalidateQueries({queryKey:["conversation-by-type"]}),oe(e)},onError:function(e){},retry:2,retryDelay:800}),ie=(0,dt.n)({mutationFn:($=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}throw new Error("missing_conversation");case 2:return e.next=4,(0,De.P3)(b,t);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),function(e){return $.apply(this,arguments)}),onSuccess:function(e){var t,r=((null==f||null===(t=f.meta)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.locations)||[]).filter((function(t,r){return r!==e}));m((0,Le.Bq)({locations:r})),g.invalidateQueries({queryKey:["conversation-by-type"]})},onError:function(e){},retry:1,retryDelay:600});return s.createElement("div",{className:"location-check"},s.createElement("div",{className:"card ".concat(w?"flipped":"")},s.createElement("div",{className:"card-inner"},s.createElement("div",{className:"card-front"},s.createElement("div",{className:"header"},s.createElement("span",{className:"title"},(0,Q.Ru)("location_checkin_header")),s.createElement(T.A,{title:(0,Q.Ru)("common_settings")},s.createElement(p.Ay,{className:"settings-button",type:"text",icon:s.createElement(J.A,null),onClick:function(){return x(!0)}}))),s.createElement("div",{className:"grid"},ee.map((function(e){return s.createElement("div",{key:e.id,className:"grid-item ".concat(!u&&ne?"disabled":""),onClick:function(){return t=e,void(!u&&ne||ae.isPending||ae.mutate(t.label));var t}},s.createElement("div",{className:"grid-button ".concat(ne===e.label?"active":"")},s.createElement("div",{className:"icon"},"svg"===e.kind?e.icon:s.createElement("span",{className:"emoji"},e.emoji)),s.createElement("span",{className:"name"},e.label)))}))),null!=h&&null!==(r=h.locations)&&void 0!==r&&r.length?s.createElement("div",{className:"history"},s.createElement(F.A,{size:"small"}),s.createElement("div",{className:"history-items"},h.locations.slice(-6).reverse().map((function(e,t){return s.createElement("div",{key:"".concat(e.time,"-").concat(t),className:"history-chip"},s.createElement("span",{className:"loc"},e.location),s.createElement("span",{className:"time"},(0,Ue.GP)(new Date(e.time),"HH:mm")),s.createElement(p.Ay,{type:"text",size:"small",shape:"circle",className:"remove-icon",icon:s.createElement(R.A,{style:{fontSize:12}}),danger:!0,onClick:function(e){var r;e.stopPropagation(),function(e){ie.isPending||ie.mutate(e)}(((null===(r=h.locations)||void 0===r?void 0:r.length)||0)-1-t)}}))})))):null),s.createElement("div",{className:"card-back flex-col gap-x-12"},s.createElement("div",{className:"header"},s.createElement(p.Ay,{type:"primary",variant:"filled",icon:s.createElement(W.A,null),onClick:function(){return x(!1)},className:"is-deep"},(0,Q.Ru)("common_back")),s.createElement(p.Ay,{type:"default",className:"is-deep",icon:s.createElement(X.A,null),onClick:function(){H([])}},(0,Q.Ru)("common_reset"))),s.createElement("div",{className:"options-list"},s.createElement(We.A,{header:null,dataSource:ee,renderItem:function(e){return s.createElement(We.A.Item,{actions:[s.createElement(p.Ay,{key:"remove",type:"text",danger:!0,size:"small",icon:s.createElement(lt.A,null),onClick:function(){return function(e){if(e.isBuiltIn){var t=e.id;H((function(e){return e.includes(t)?e:[].concat((0,n.A)(e),[t])}))}else U((function(t){return t.filter((function(t){return t.id!==e.id}))}))}(e)}})]},s.createElement(We.A.Item.Meta,{avatar:s.createElement("div",{className:"list-icon"},"svg"===e.kind?e.icon:s.createElement("span",null,e.emoji)),title:s.createElement("span",null,e.label)}))}})),s.createElement(F.A,{size:"small"}),s.createElement("div",{className:"add-custom"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col names"},s.createElement(ct.A,{mode:"tags",value:I,onChange:function(e){return z(e)},options:Y,onSelect:function(e,t){t&&t.emoji&&!O&&j(t.emoji)},style:{width:"100%"}})),s.createElement("div",{className:"col emoji"},s.createElement("div",{className:"emoji-picker"},s.createElement(p.Ay,{type:"text",icon:s.createElement(st.A,{style:{fontSize:18}}),onClick:function(){return N((function(e){return!e}))}},O||""),A?s.createElement("div",{className:"picker-pop"},s.createElement(mt.A,{data:ut,onEmojiSelect:function(e){return j(e.native)}})):null)),s.createElement("div",{className:"col add"},s.createElement(p.Ay,{type:"primary",className:"is-deep",onClick:function(){if(I.length&&O){var e=I.map((function(e){return{id:"custom-".concat(e.toLowerCase().replace(/\s+/g,"-"),"-").concat(Date.now()),label:e,kind:"emoji",emoji:O}}));U((function(t){return[].concat((0,n.A)(t),(0,n.A)(e))})),z([]),j(""),N(!1)}},disabled:!O||!I.length},(0,Q.Ru)("common_add")))))))))};var xt=r(5078);function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var At=s.memo(ae),Nt=s.memo(Ye),_t=s.memo(ue.A),St=s.memo(tt),Rt=s.memo(me.A),It=s.memo(ye),zt=s.memo(Ve),Ct=s.memo(de),Dt=s.memo(wt),Ot=[{x:0,y:0},{x:436,y:0},{x:872,y:0}],jt={timer:{id:"timer",visible:!0,zIndex:1,position:Ot[0],size:{width:420,height:350}},music:{id:"music",visible:!0,zIndex:2,position:Ot[1],size:{width:420,height:380}},quote:{id:"quote",visible:!0,zIndex:3,position:Ot[2],size:{width:400,height:180}},target:{id:"target",visible:!1,zIndex:1,position:{x:0,y:0},size:{width:420,height:480}},message:{id:"message",visible:!1,zIndex:1,position:{x:0,y:0},size:{width:420,height:480}},tasks:{id:"tasks",visible:!1,zIndex:1,position:{x:0,y:0},size:{width:420,height:400}},energy:{id:"energy",visible:!1,zIndex:1,position:{x:0,y:0},size:{width:420,height:400}},countdown:{id:"countdown",visible:!1,zIndex:1,position:{x:0,y:0},size:{width:350,height:260}},location:{id:"location",visible:!1,zIndex:1,position:{x:0,y:0},size:{width:420,height:420}}};const Bt=function(){var e,t,r=(0,Oe.Zp)(),c=(0,Ne.S)(),z=c.screenWidth,B=c.themeColor,P=c.user,L=(0,s.useState)(!1),M=(0,i.A)(L,2),T=M[0],F=M[1],U=(0,s.useState)(!1),q=(0,i.A)(U,2),G=q[0],K=q[1],H=(0,s.useState)(!1),Y=(0,i.A)(H,2),J=Y[0],W=Y[1],X=(0,s.useState)((0,Q.Ru)("music")),V=(0,i.A)(X,2),$=V[0],Z=V[1],ee=(0,s.useState)(300),te=(0,i.A)(ee,2),ne=te[0],oe=te[1],ae=(0,s.useState)(300),ie=(0,i.A)(ae,2),ce=ie[0],le=ie[1],se=(0,s.useState)(!1),de=(0,i.A)(se,2),ue=de[0],ge=de[1],he=(0,s.useRef)(null),ye=(0,s.useState)(),we=(0,i.A)(ye,2),xe=we[0],ke=we[1],Ee=(0,s.useState)(),Ke=(0,i.A)(Ee,2),He=Ke[0],Ye=Ke[1],Je=(0,s.useRef)(null),We=(0,s.useRef)(null),Xe=m.Ay.useNotification(),Qe=(0,i.A)(Xe,2),Ve=Qe[0],$e=Qe[1],Ze=1e4,et=(0,s.useState)(!1),tt=(0,i.A)(et,2),rt=tt[0],nt=tt[1],ct=(0,s.useState)(!1),lt=(0,i.A)(ct,2),st=lt[0],dt=lt[1],ut=(0,s.useState)(0),mt=(0,i.A)(ut,2),pt=mt[0],gt=mt[1],ft=(0,fe.d4)((function(e){return e.mySpace})).shibaImg,bt=(0,Se.A)("myspace-widgets",jt),ht=(0,i.A)(bt,2),vt=ht[0],yt=ht[1],wt=(0,fe.d4)((function(e){return e.home.messages})),kt=(0,s.useMemo)((function(){return Object.values(vt).filter((function(e){return e.visible})).map((function(e){return e.id}))}),[vt]),Ot=(0,s.useRef)(3),Bt=(0,s.useRef)(!1),Pt=(0,fe.d4)((function(e){return e.home.selectedDate})),Lt=(0,s.useMemo)((function(){return new Date(Pt)}),[Pt]),Mt=(0,fe.d4)((function(e){return e.home.conversation})),Tt=(0,Re.jE)(),Ft=(0,fe.wA)(),Ut=(0,fe.d4)(be.tB),qt=(0,je.ok)(),Gt=(0,i.A)(qt,1)[0].get("eventId"),Kt=(0,s.useState)(null),Ht=(0,i.A)(Kt,2),Yt=Ht[0],Jt=Ht[1],Wt=(0,Ie.I)({queryKey:["day-events",Pt,0],queryFn:function(){var e=(0,Te.o)(Lt),t=(0,Fe.D)(Lt);return(0,Ce.J7)(e,t)},enabled:!!Pt}),Xt=Wt.data,Qt=void 0===Xt?[]:Xt,Vt=Wt.isLoading;(0,s.useEffect)((function(){ot().then(Jt)}),[]);var $t=(0,Ie.I)({queryKey:["event",Gt,Pt],queryFn:function(){if(!Gt)return null;var e=Qt.find((function(e){return e._id===Gt}));return e||(0,Ce.ce)(Gt)},enabled:!!Gt&&!Vt}).data;(0,s.useEffect)((function(){$t&&Ft((0,be.Lz)((0,be.l9)($t)))}),[$t,Ft]);var Zt,er=(0,Ie.I)({queryKey:["user-goals",null==P?void 0:P._id],queryFn:function(){return(0,ze.DX)()},enabled:!(null==P||!P._id)}),tr=er.data,rr=er.isLoading,nr=(0,s.useMemo)((function(){return{type:Ge._m,meta:{date:(0,Ue.GP)(Lt,"yyyy-MM-dd")}}}),[Lt]),or=(0,Ie.I)({queryKey:["conversation-by-type",Ge._m,JSON.stringify(nr)],queryFn:(Zt=(0,a.A)(l().mark((function e(){var t,r,n,o,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Mt){e.next=7;break}if(r=null===(t=Mt.meta)||void 0===t?void 0:t.meta,n=null==r?void 0:r.date,o=nr.meta.date,n!==o){e.next=7;break}return e.abrupt("return",Mt);case 7:return e.next=9,(0,De.Vm)(Ge._m,JSON.stringify(nr));case 9:if(!(a=e.sent)){e.next=12;break}return e.abrupt("return",a);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0);case 17:return i=(0,at.Bc)(Ge._m,[P._id],nr),e.next=20,(0,De.cK)(i);case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e,null,[[0,14]])}))),function(){return Zt.apply(this,arguments)}),enabled:!!P,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:3}),ar=or.data;(0,s.useEffect)((function(){ar&&Ft((0,Le.Qx)(ar))}),[ar,Ft]);var ir=(0,s.useMemo)((function(){return Mt||ar}),[Mt,ar]);(0,s.useEffect)((function(){var e;if(null!=ir&&null!==(e=ir.meta)&&void 0!==e&&e.meta){var t=ir.meta.meta.theme;if(t){var r=t.split("\n\n"),n=(0,i.A)(r,2),o=n[0],a=n[1];ke(o),Ye(a)}}}),[ir]);var cr=(0,s.useRef)(wt.length);(0,s.useEffect)((function(){if(!st&&wt.length>cr.current){var e=wt.slice(cr.current).filter((function(e){return"incoming"===e.side}));e.length>0&&gt((function(t){return t+e.length}))}cr.current=wt.length}),[wt,st]),(0,s.useEffect)((function(){Ft(pt>0?(0,be.Fq)({url:(0,Q.ID)(xt),size:68}):(0,be.Fq)({url:(0,Q.ID)(ve),size:64}))}),[pt,Ft]);var lr=(0,s.useCallback)((function(e){dt(e),e&&gt(0)}),[]),sr=(0,s.useMemo)((function(){if(null!=Ut&&Ut._id&&null!=Ut&&Ut.title){var e=Ut.title.split(" "),t=(0,Me.Ve)(e[0]),r=t?e.slice(1).join(" "):Ut.title,n=t?e[0]:void 0;return{id:Ut._id,title:r,emoji:n}}}),[Ut]),dr=(0,s.useCallback)(function(){var e=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ze.Au)(t);case 3:Tt.invalidateQueries({queryKey:["user-goals",null==P?void 0:P._id]}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[null==P?void 0:P._id,Tt]);(0,s.useEffect)((function(){F(z<=_e.NU.sm)}),[z]),(0,s.useEffect)((function(){ot().then(Jt)}),[]);var ur=(0,s.useCallback)((function(e,t){var r,o,a=null!==(r=null===(o=he.current)||void 0===o?void 0:o.offsetWidth)&&void 0!==r?r:window.innerWidth,i=t.width,c="number"==typeof t.height?t.height:300,l=e.map((function(e){var t,r,n=document.querySelector(".widget-".concat(e.id)),o=null!==(t=null==n?void 0:n.offsetWidth)&&void 0!==t?t:e.size.width,a=null!==(r=null==n?void 0:n.offsetHeight)&&void 0!==r?r:"number"==typeof e.size.height?e.size.height:300;return{x:e.position.x,y:e.position.y,width:o,height:a}})),s=[{x:0,y:0}];l.forEach((function(e){s.push({x:e.x+e.width+16,y:e.y}),s.push({x:e.x,y:e.y+e.height+16})}));for(var d=[],u=function(){var e=p[m];if(e.x+i>a)return 1;var t={x:e.x,y:e.y,width:i,height:c};l.some((function(e){return r=t,n=Et(Et({},e),{},{width:e.width,height:e.height}),r.x<n.x+n.width&&r.x+r.width>n.x&&r.y<n.y+n.height&&r.y+r.height>n.y;var r,n}))||d.push(e)},m=0,p=s;m<p.length;m++)u();return 0===d.length?{x:0,y:Math.max.apply(Math,[0].concat((0,n.A)(l.map((function(e){return e.y+e.height})))))+16}:(d.sort((function(e,t){return e.y!==t.y?e.y-t.y:e.x-t.x})),d[0])}),[]);(0,s.useEffect)((function(){if(null!=Ut&&Ut.endDate&&null!=Ut&&Ut.startDate){var e=new Date,t=e>=new Date(Ut.startDate)&&e<=new Date(Ut.endDate),r=t?e:Ut.startDate;oe((0,qe.O)(Ut.endDate,r)),le((0,qe.O)(Ut.endDate,Ut.startDate)),ge(t)}}),[Ut]),(0,s.useEffect)((function(){Ut&&yt((function(e){var t=e.timer;if(t.visible){var r=Ot.current+1;return Ot.current=r,Et(Et({},e),{},{timer:Et(Et({},t),{},{zIndex:r})})}var n=Ot.current+1;Ot.current=n;var o=Object.values(e).filter((function(e){return e.visible})),a=ur(o,t.size);return Et(Et({},e),{},{timer:Et(Et({},t),{},{visible:!0,zIndex:n,position:a})})}))}),[Ut,ur]),(0,s.useEffect)((function(){return function(){Ft((0,be.Lz)(null))}}),[Ft]),(0,s.useEffect)((function(){if(!Bt.current){var e=Object.values(vt).reduce((function(e,t){return Math.max(e,t.zIndex)}),0);Ot.current=e,Bt.current=!0}}),[vt]);var mr=(0,s.useCallback)((function(){document.fullscreenElement?(document.exitFullscreen().catch((function(e){})),K(!1)):(document.documentElement.requestFullscreen().catch((function(e){})),K(!0))}),[]);(0,s.useEffect)((function(){var e=function(){return K(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),function(){return document.removeEventListener("fullscreenchange",e)}}),[]);var pr=(0,s.useCallback)((function(e){yt((function(t){var r,n=null!==(r=t[e])&&void 0!==r?r:jt[e];if(!n)return t;if(n.visible)return Et(Et({},t),{},(0,o.A)({},e,Et(Et({},n),{},{visible:!1})));var a=Ot.current+1;Ot.current=a;var i=Object.values(t).filter((function(e){return e.visible})),c=ur(i,n.size);return Et(Et({},t),{},(0,o.A)({},e,Et(Et({},n),{},{visible:!0,zIndex:a,position:c})))}))}),[ur,yt]),gr=function(){rt&&nt(!1)},fr=(0,s.useCallback)((function(e){Z(e)}),[]),br=(0,s.useCallback)((function(e){Je.current&&(nt(!0),yt(Je.current),Je.current=null,setTimeout((function(){nt(!1)}),800)),We.current&&(clearTimeout(We.current),We.current=null),Ve.destroy(e)}),[yt,Ve]),hr=(0,s.useCallback)((function(){var e,t,r,o,a=null!==(e=null===(t=he.current)||void 0===t?void 0:t.offsetWidth)&&void 0!==e?e:window.innerWidth,i=null!==(r=null===(o=he.current)||void 0===o?void 0:o.offsetHeight)&&void 0!==r?r:window.innerHeight,c=!1;if(yt((function(e){Je.current=e;var t=Object.values(e).filter((function(e){return e.visible}));if(0===t.length)return Je.current=null,e;var r=function(e,t){return!(e.x+e.width+8<=t.x||t.x+t.width+8<=e.x||e.y+e.height+8<=t.y||t.y+t.height+8<=e.y)},o=function(e){var t=document.querySelector(".widget-".concat(e.id)),r=null==t?void 0:t.querySelector(".widget-content");if(r){var n,o=r.getBoundingClientRect(),a=null===(n=he.current)||void 0===n?void 0:n.getBoundingClientRect();if(a)return{x:o.left-a.left,y:o.top-a.top,width:o.width,height:o.height}}return{x:e.position.x,y:e.position.y,width:e.size.width,height:"number"==typeof e.size.height?e.size.height:300}},l=[],s=[];if(t.forEach((function(e){if(function(e){var t=o(e);return t.x<0||t.y<0||t.x+t.width>a-8||t.y+t.height>i-100}(e))l.push(e);else{var t=o(e);s.some((function(e){return r(t,o(e))}))?l.push(e):s.push(e)}})),0===l.length)return Je.current=null,c=!1,e;c=!0;var d=Et({},e);return l.forEach((function(e){var t=function(e){var t=e.size.width,c="number"==typeof e.size.height?e.size.height:300,l=[{x:8,y:8}];s.forEach((function(e){var t=o(e);l.push({x:t.x+t.width+8,y:t.y}),l.push({x:t.x,y:t.y+t.height+8}),l.push({x:8,y:t.y+t.height+8})}));var d=e.position;l.sort((function(e,t){return Math.sqrt(Math.pow(e.x-d.x,2)+Math.pow(e.y-d.y,2))-Math.sqrt(Math.pow(t.x-d.x,2)+Math.pow(t.y-d.y,2))}));for(var u,m=function(){var e=g[p];if(e.x<0||e.y<0)return 0;if(e.x+t>a-8)return 0;if(e.y+c>i-100)return 0;var n={x:e.x,y:e.y,width:t,height:c};return s.some((function(e){return r(n,o(e))}))?void 0:{v:e}},p=0,g=l;p<g.length;p++)if(0!==(u=m())&&u)return u.v;for(var f,b=8,h=8,v=0,y=0,w=function(){y++,b+t>a-8&&(b=8,h+=v+8,v=0);var e={x:b,y:h,width:t,height:c};if(!s.some((function(t){return r(e,o(t))})))return{v:{x:b,y:h}};b+=t+8,v=Math.max(v,c)};y<1e3;)if(f=w())return f.v;return{x:8,y:Math.max.apply(Math,[0].concat((0,n.A)(s.map((function(e){var t=o(e);return t.y+t.height})))))+8}}(e);d[e.id]=Et(Et({},e),{},{position:t}),s.push(d[e.id])})),d})),c){nt(!0),setTimeout((function(){nt(!1)}),800);var l="arrange-undo-".concat(Date.now());Ve.success({message:(0,Q.Ru)("widgets_arranged_successfully"),key:l,duration:10,btn:s.createElement(p.Ay,{type:"primary",size:"small",onClick:function(){return br(l)},className:"is-deep"},(0,Q.Ru)("undo")),showProgress:!0}),We.current=setTimeout((function(){Je.current=null,We.current=null}),Ze)}}),[yt,Ve,Ze,br]);(0,s.useEffect)((function(){return function(){We.current&&clearTimeout(We.current)}}),[]);var vr=(0,s.useMemo)((function(){return[{id:"home",icon:s.createElement(f.A,null),title:(0,Q.Ru)("home"),onSelect:function(){return r(_e.st.path)}},{id:"timer",icon:s.createElement(b.A,null),title:(0,Q.Ru)("pomodoro_timer"),onSelect:function(){return pr("timer")}},{id:"countdown",icon:s.createElement(h.A,null),title:(0,Q.Ru)("countdown_timer"),onSelect:function(){return pr("countdown")}},{id:"music",icon:s.createElement(v.A,null),title:(0,Q.Ru)("music_and_sounds"),onSelect:function(){return pr("music")}},{id:"quote",icon:s.createElement(y.A,null),title:(0,Q.Ru)("daily_quote"),onSelect:function(){return pr("quote")}},{id:"target",icon:s.createElement(w.A,null),title:(0,Q.Ru)("my_goals"),onSelect:function(){return pr("target")}},{id:"tasks",icon:s.createElement(x.A,null),title:(0,Q.Ru)("today_activities"),onSelect:function(){return pr("tasks")}},{id:"energy",icon:s.createElement(k.A,null),title:(0,Q.Ru)("energy_widget_title"),onSelect:function(){return pr("energy")}},{id:"location",icon:s.createElement(E.A,null),title:(0,Q.Ru)("location_widget_title"),onSelect:function(){return pr("location")}},{id:"message",icon:s.createElement(A.A,null),title:T?(0,Q.Ru)("chat_and_calendar"):(0,Q.Ru)("chat"),onSelect:function(){return T?W(!0):pr("message")}},{id:"arrange",icon:s.createElement(N.A,null),title:(0,Q.Ru)("auto_arrange_widgets"),onSelect:hr},{id:"expand",icon:G?s.createElement(_.A,null):s.createElement(S.A,null),title:G?(0,Q.Ru)("exit_fullscreen"):(0,Q.Ru)("fullscreen"),onSelect:mr}]}),[G,T,pr,mr,r,hr]),yr=(0,s.useMemo)((function(){return[{label:(0,Q.Ru)("music"),value:(0,Q.Ru)("music"),icon:s.createElement(v.A,null)},{label:(0,Q.Ru)("sounds"),value:(0,Q.Ru)("sounds"),icon:s.createElement(Be.A,{style:{width:"1em",height:"1em"}})}]}),[]),wr=(0,s.useMemo)((function(){return Object.values(vt).filter((function(e){return e.visible}))}),[vt]),xr=(0,it.o)(),kr=xr.isPlaying,Er=xr.setIsPlaying,Ar=(0,s.useCallback)((function(e){var t=kr,r=1e4;switch(e){case re.LONG_BREAK:case re.BREAK:r=5e3;break;case re.FOCUS:r=1e4}t&&(Er(!1),setTimeout((function(){Er(!0)}),r))}),[kr,Er]);return s.createElement("div",{className:"my-space-wrapper"},$e,s.createElement(Pe.A,{backgroundColor:"var(--color-primary-light)",backgroundPhotoUrl:null==Yt?void 0:Yt.urls.full,backgroundPhotoInfo:{url:null==Yt?void 0:Yt.links.html,alt:"".concat((null==Yt?void 0:Yt.description)||(0,Me.Sn)(null==Yt?void 0:Yt.alt_description)," ").concat(null!=Yt&&null!==(e=Yt.location)&&void 0!==e&&e.name?"in ".concat(null==Yt||null===(t=Yt.location)||void 0===t?void 0:t.name):"").trim(),blurHash:null==Yt?void 0:Yt.blur_hash}},s.createElement("div",{className:"my-space-content-wrapper"},s.createElement("div",{className:"my-space-main",ref:he},s.createElement("div",{className:"widgets-wrapper"},s.createElement(d.N,null,wr.map((function(e){var t;return s.createElement(C(),{key:e.id,handle:".widget-header",position:e.position,onMouseDown:function(){return t=e.id,void yt((function(e){var r,n=null!==(r=e[t])&&void 0!==r?r:jt[t];if(!n)return e;if(n.zIndex<Ot.current){var a=Ot.current+1;return Ot.current=a,Et(Et({},e),{},(0,o.A)({},t,Et(Et({},n),{},{zIndex:a})))}return e}));var t},onStart:gr,onStop:function(t,r){return function(e,t,r){yt((function(t){return Et(Et({},t),{},(0,o.A)({},e,Et(Et({},t[e]),{},{position:{x:r.x,y:r.y}})))}))}(e.id,0,r)}},s.createElement("div",{className:"draggable-widget-container ".concat(rt?"arranging":""),style:{zIndex:e.zIndex}},s.createElement(D.c,{size:{width:e.size.width,height:e.size.height},minWidth:300,minHeight:200,maxWidth:1e3,maxHeight:800,enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},onResizeStop:function(t,r,n,a){return function(e,t,r,n,a){var i=n.getBoundingClientRect(),c=i.width,l=i.height;yt((function(t){return Et(Et({},t),{},(0,o.A)({},e,Et(Et({},t[e]),{},{size:{width:c,height:l}})))}))}(e.id,0,0,n)},style:{position:"relative"}},s.createElement(u.P.div,{className:"draggable-widget widget-".concat(e.id),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,ease:"circOut"}},s.createElement("div",{className:"widget-header"},s.createElement("span",{className:"widget-title"},null===(t=vr.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.title),s.createElement(p.Ay,{color:"default",variant:"filled",className:"widget-close",icon:s.createElement(R.A,null),shape:"circle",size:"small",onClick:function(){return t=e.id,void yt((function(e){return Et(Et({},e),{},(0,o.A)({},t,Et(Et({},e[t]),{},{visible:!1})))}));var t}})),s.createElement("div",{className:"widget-content"},function(e){switch(e.id){case"timer":return s.createElement(At,{focusTask:sr,totalSeconds:ce,onSessionComplete:Ar,startTime:null==Ut?void 0:Ut.startDate});case"music":return s.createElement(Nt,{tabOptions:yr,onTabChange:fr,activeTab:$});case"quote":return s.createElement(_t,null);case"target":return s.createElement(St,{goals:tr,goalsLoading:rr,handleArchiveGoal:dr,navigate:r});case"message":return s.createElement(Rt,{includeAvatar:!1,includeHeader:!1});case"tasks":return s.createElement(It,{selectedDateIso:Pt});case"energy":return s.createElement(zt,{activeConversation:ir});case"location":return P?s.createElement(Dt,{user:P,conversationId:null==ir?void 0:ir._id,canMultipleSubmit:!0}):null;case"countdown":return s.createElement(Ct,{durationInSeconds:ne,autoStart:ue,totalSeconds:ce,onComplete:Ar});default:return null}}(e))))))})))),s.createElement("div",{className:"dock-wrapper"},s.createElement(j,{items:vr,selectedIds:kt,withAnimation:!0,multiple:!0}))),s.createElement("div",{className:"my-space-sider"},s.createElement(O.A,{events:Qt,selectedDateIso:Pt,height:"100%",calendarStartHour:7,title:xe,titleTooltip:He})),!T&&s.createElement(pe.q,{shape:"round",initPosition:{bottom:24,right:24},icon:s.createElement("img",{src:ft.url,width:ft.size}),bubbleSize:68,popoverSize:500,badgeCount:pt,onPopoverOpenChange:lr},s.createElement("div",{className:"my-space-chat-bubble-content"},s.createElement(me.A,{includeHeader:!1,includeAvatar:!1}))),T&&s.createElement(g.A,{title:(0,Q.Ru)("my_space"),rootClassName:"lazyvax lzv-theme-".concat(B),placement:"right",onClose:function(){return W(!1)},open:J,width:"100vw",styles:{body:{padding:0}}},s.createElement(Ae,null)))),T&&s.createElement("div",{style:{position:"fixed",right:8,top:8,zIndex:9999}},s.createElement(p.Ay,{style:{color:"var(--color-primary-bg)"},size:"large",icon:J?s.createElement(R.A,null):s.createElement(I.A,null),onClick:function(){return W(!J)},type:"text"})))}},4658:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".my-space-sider{display:flex;flex-direction:column;height:100%}.my-space-sider .my-space-sider-header{padding-top:16px;text-align:center}.my-space-sider .my-space-sider-content{flex:1;overflow:hidden;position:relative}.my-space-sider .my-space-sider-content .tab-content{height:100%;position:relative}.my-space-sider .my-space-sider-content .tab-content .tab-pane{height:100%;overflow:hidden}",""]);const c=i},48244:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".my-space-wrapper .lzv-wavy-background .lzv-wave{height:140px}.my-space-wrapper .my-space-content-wrapper{display:flex;width:100%;position:relative;height:calc(100vh - 56px)}.my-space-wrapper .my-space-content-wrapper .my-space-main{flex:1;display:flex;flex-direction:column;position:relative;height:calc(100% - 100px);overflow:auto;padding:8px 0 0 8px}.my-space-wrapper .my-space-content-wrapper .my-space-main::-webkit-scrollbar{display:block;width:12px}.my-space-wrapper .my-space-content-wrapper .my-space-main::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.my-space-wrapper .my-space-content-wrapper .my-space-main::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.my-space-wrapper .my-space-content-wrapper .my-space-main::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.my-space-wrapper .my-space-content-wrapper .my-space-main::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.my-space-wrapper .my-space-content-wrapper .my-space-main .dock-wrapper{position:fixed;bottom:0;left:50%;transform:translateX(-50%);z-index:1000}@media(min-width: 768px){.my-space-wrapper .my-space-content-wrapper .my-space-main .dock-wrapper{left:calc(50% - 200px)}}.my-space-wrapper .my-space-content-wrapper .my-space-sider{width:400px;height:100%;background:var(--color-bg-primary);overflow:hidden;flex-shrink:0;padding:12px}.my-space-wrapper .my-space-content-wrapper .my-space-sider>*{box-shadow:-2px 0 8px rgba(0,0,0,.08)}@media(max-width: 768px){.my-space-wrapper .my-space-content-wrapper .my-space-sider{display:none}}.my-space-wrapper .widget-music .sound-mixer .sound-item .sound-button.active{background:rgba(var(--color-primary-bg-rgb), 0.4)}.my-space-wrapper .widget-music .sound-mixer .sound-item .sound-button:hover{background:rgba(var(--color-primary-bg-rgb), 0.8)}.draggable-widget-container{position:absolute;border-radius:12px;transition:none}.draggable-widget-container:hover{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));backdrop-filter:blur(10px)}.draggable-widget-container:hover .widget-header{opacity:1}.draggable-widget-container.arranging{transition:all .8s cubic-bezier(0.34, 1.56, 0.64, 1) !important}.draggable-widget-container.react-draggable-dragging{transition:none !important}.draggable-widget{width:100%;height:100%;display:flex;flex-direction:column;overflow:hidden}.draggable-widget .widget-header{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border-bottom:1px solid var(--color-divider);cursor:move;user-select:none;transition:opacity .2s ease-in-out;opacity:0}.draggable-widget.widget-message .cs-message-list{border-top-left-radius:12px;border-top-right-radius:12px}.draggable-widget.widget-message .lzv-typing-box-wrapper{border-bottom-left-radius:12px;border-bottom-right-radius:12px;background:var(--color-primary-bg)}.draggable-widget.widget-message .lzv-typing-box-wrapper .cs-message-input{background-color:var(--color-bg-gray-ultralight)}.draggable-widget.widget-message .lzv-typing-box-wrapper .cs-message-input .cs-message-input__content-editor-wrapper{background-color:var(--color-bg-gray-ultralight) !important}.draggable-widget.widget-message .lzv-typing-box-wrapper .cs-message-input .cs-message-input__content-editor-wrapper .cs-message-input__content-editor-container{background-color:var(--color-bg-gray-ultralight) !important}.draggable-widget.widget-message .lzv-typing-box-wrapper .cs-message-input .cs-message-input__content-editor-wrapper .cs-message-input__content-editor-container .cs-message-input__content-editor{background-color:var(--color-bg-gray-ultralight) !important}.draggable-widget.widget-energy{overflow:visible}.draggable-widget.widget-energy .widget-content{overflow:visible}.draggable-widget.widget-location{overflow:visible}.draggable-widget.widget-location .widget-content{overflow:visible}.draggable-widget .widget-content{flex:1;overflow:auto;padding:5px;padding-top:0}.draggable-widget .widget-content .music-widget-content{height:100%;display:flex;flex-direction:column}.draggable-widget .widget-content .music-widget-content .music-widget-header{margin-bottom:16px;text-align:center}.draggable-widget .widget-content .music-widget-content .music-widget-body{flex:1;position:relative;min-height:0}.draggable-widget .widget-content .goals-widget-content{height:100%;display:flex;flex-direction:column;background:var(--color-primary-bg);border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.draggable-widget .widget-content .goals-widget-content:hover{box-shadow:none}.draggable-widget .widget-content .goals-widget-content .widget-title{margin-bottom:16px;font-size:16px;font-weight:600;color:var(--color-text-primary)}.draggable-widget .widget-content .goals-widget-content .goals-list{flex:1;overflow:auto;border-radius:12px}.draggable-widget .widget-content .goals-widget-content .goals-list .goal-item{margin-bottom:12px}.draggable-widget .widget-content .goals-widget-content .goals-list .goal-item:last-child{margin-bottom:0}.draggable-widget .widget-content .goals-widget-content .goals-list::-webkit-scrollbar{width:6px}.draggable-widget .widget-content .goals-widget-content .goals-list::-webkit-scrollbar-track{background:var(--color-bg-secondary);border-radius:3px}.draggable-widget .widget-content .goals-widget-content .goals-list::-webkit-scrollbar-thumb{background:var(--color-divider);border-radius:3px}.draggable-widget .widget-content .goals-widget-content .goals-list::-webkit-scrollbar-thumb:hover{background:var(--color-text-tertiary)}.draggable-widget .widget-content .tasks-widget-wrapper{background:var(--color-primary-bg);border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.draggable-widget .widget-content .tasks-widget-wrapper:hover{box-shadow:none}.draggable-widget .widget-content .energy-checkin-content{background:var(--color-primary-bg);border-radius:12px;padding:12px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.draggable-widget .widget-content .energy-checkin-content:hover{box-shadow:none}.draggable-widget .widget-content .energy-checkin-content .day-status-slider-container{margin-top:24px}.my-space-chat-bubble-content{height:min(600px,100vh - 172px);background:var(--color-primary-bg);border-radius:12px;overflow:hidden}.my-space-chat-bubble-content .sider-chat-wrapper{height:100%}.my-space-chat-bubble-content .home-chat-wrapper .conversation-card>div{padding:0}@media(max-width: 768px){.my-space-wrapper .my-space-main .dock-wrapper{left:50%;transform:translateX(-50%)}.draggable-widget{min-width:90vw;max-width:90vw}.draggable-widget.widget-timer,.draggable-widget.widget-music,.draggable-widget.widget-quote,.draggable-widget.widget-target,.draggable-widget.widget-message{min-width:90vw;max-width:90vw}}.dock-container .dock{padding:8px;border-radius:16px;display:flex;gap:8px;align-items:center}.dock-container .dock--with-background{background:rgba(255,255,255,.9);backdrop-filter:blur(10px);box-shadow:0 4px 16px rgba(0,0,0,.1)}.dock-container .dock .dock-item{position:relative;width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.dock-container .dock .dock-item .dock-item__icon{font-size:24px;color:var(--color-text-secondary);transition:color .2s ease}.dock-container .dock .dock-item--with-animation:hover{transform:scale(1.1)}.dock-container .dock .dock-item--selected{background:var(--color-primary-light)}.dock-container .dock .dock-item--selected .dock-item__icon{color:var(--color-primary)}@keyframes fadeIn{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}.draggable-widget{animation:fadeIn .3s ease}",""]);const c=i},85588:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".dock-container{display:flex;justify-content:center;align-items:center;padding:16px}.dock{display:flex;align-items:center;gap:8px;padding:12px 16px;border-radius:16px;position:relative}.dock--with-background{background-color:var(--color-primary-bg);border:1px solid var(--color-border);backdrop-filter:blur(10px);box-shadow:0 4px 12px rgba(var(--color-border-rgb), 0.1)}.dock--with-animation{animation:dock-float 4s ease-in-out infinite;transition:box-shadow .3s ease}.dock--with-animation:hover{box-shadow:0 8px 24px rgba(var(--color-border-rgb), 0.15)}.dock-item{position:relative;display:flex;align-items:center;justify-content:center;padding:12px;border-radius:12px;background:rgba(0,0,0,0);border:none;cursor:pointer;transition:all .2s ease;color:var(--color-text)}.dock-item__icon{display:flex;align-items:center;justify-content:center;width:24px;height:24px}.dock-item__icon svg{width:100%;height:100%}.dock-item__tooltip{position:absolute;top:-40px;left:50%;transform:translateX(-50%);background-color:var(--color-bg-spotlight);color:var(--color-text);padding:6px 12px;border-radius:8px;font-size:12px;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .2s ease;box-shadow:0 2px 8px rgba(var(--color-border-rgb), 0.2);border:1px solid var(--color-border);z-index:10}.dock-item:hover{background-color:var(--color-bg-gray-ultralight)}.dock-item:hover .dock-item__icon{color:var(--color-primary)}.dock-item:hover .dock-item__tooltip{opacity:1}.dock-item--selected{background-color:var(--color-primary);color:var(--color-white)}.dock-item--selected:hover{background-color:var(--color-primary-hover)}.dock-item--with-animation:hover{transform:translateY(-2px) scale(1.05)}.dock-item--with-animation:active{transform:translateY(0) scale(0.95)}@keyframes dock-float{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}@media(max-width: 768px){.dock-container{padding:8px}.dock{gap:4px;padding:8px 12px}.dock--with-background{box-shadow:0 2px 8px rgba(var(--color-border-rgb), 0.1)}.dock-item{padding:8px}.dock-item__icon{width:20px;height:20px}.dock-item__tooltip{font-size:11px;padding:4px 8px}}@media(max-width: 480px){.dock{gap:2px;padding:6px 8px}.dock-item{padding:6px}.dock-item__icon{width:18px;height:18px}}",""]);const c=i},37403:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".countdown-container{background:rgba(255,255,255,.1);backdrop-filter:blur(20px);border-radius:12px;padding:24px;border:1px solid rgba(0,0,0,.03);min-width:250px;margin:0 auto;transition:all .3s ease;box-shadow:0 2px 8px rgba(0,0,0,.05);display:flex;flex-direction:column;align-items:center;gap:16px}.countdown-container .countdown-title{margin-bottom:8px !important;text-align:center}.countdown-container .timer-display{text-align:center}.countdown-container .timer-display .timer-text{font-size:72px !important;font-weight:700 !important;color:var(--color-white);margin:0 !important;line-height:1 !important;letter-spacing:-2px;font-variant-numeric:tabular-nums;text-shadow:0 0 10px rgba(0,0,0,.5)}.countdown-container .progress-container{width:100%;padding:0 20px}.countdown-container .progress-container .ant-progress .ant-progress-outer .ant-progress-inner{background:rgba(255,255,255,.2);border-radius:100px}.countdown-container .countdown-description{text-align:center;color:var(--color-text-secondary);margin:8px 0}.countdown-container .controls{display:flex;gap:12px;align-items:center}.lzv-theme-dark .countdown-container{background:rgba(0,0,0,.4);border:1px solid rgba(255,255,255,.1)}.lzv-theme-dark .countdown-container .progress-container .ant-progress .ant-progress-outer .ant-progress-inner{background:rgba(255,255,255,.05)}@media(max-width: 480px){.countdown-container{min-width:auto;padding:20px}.countdown-container .timer-display .timer-text{font-size:56px !important}.countdown-container .controls{flex-direction:column;width:100%}.countdown-container .controls .control-button{width:100%;justify-content:center}}",""]);const c=i},77943:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,".pomodoro-wrapper{position:relative;width:100%;height:100%;min-width:300px;margin:0 auto}.pomodoro-wrapper .card{width:100%;height:100%;perspective:1000px;position:relative}.pomodoro-wrapper .card .card-inner{position:relative;width:100%;height:100%;transition:transform .6s;transform-style:preserve-3d}.pomodoro-wrapper .card.flipped .card-inner{transform:rotateY(180deg)}.pomodoro-wrapper .card .card-front,.pomodoro-wrapper .card .card-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:12px}.pomodoro-wrapper .card .card-front{overflow:auto}.pomodoro-wrapper .card .card-front::-webkit-scrollbar{display:block;width:12px}.pomodoro-wrapper .card .card-front::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.pomodoro-wrapper .card .card-front::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.pomodoro-wrapper .card .card-front::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.pomodoro-wrapper .card .card-front::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.pomodoro-wrapper .card .card-back{transform:rotateY(180deg);overflow:auto;background:rgba(255,255,255,.1);backdrop-filter:blur(20px);border:1px solid rgba(0,0,0,.03);padding:16px;display:flex;flex-direction:column;gap:16px}.pomodoro-wrapper .card .card-back::-webkit-scrollbar{display:block;width:12px}.pomodoro-wrapper .card .card-back::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.pomodoro-wrapper .card .card-back::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.pomodoro-wrapper .card .card-back::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.pomodoro-wrapper .card .card-back::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.pomodoro-container{background:rgba(255,255,255,.1);backdrop-filter:blur(20px);border-radius:12px;padding:16px;border:1px solid rgba(0,0,0,.03);height:100%;transition:all .3s ease;box-shadow:0 2px 8px rgba(0,0,0,.05);position:relative}.pomodoro-container.break{background:linear-gradient(135deg, rgba(255, 165, 0, 0.1) 0%, rgba(255, 193, 7, 0.1) 100%)}.pomodoro-container.long_break{background:linear-gradient(135deg, rgba(33, 150, 243, 0.1) 0%, rgba(66, 165, 245, 0.1) 100%)}.pomodoro-container .pomodoro-header{margin-bottom:8px}.pomodoro-container .pomodoro-body{display:flex;flex-direction:column;align-items:center;gap:24px}.pomodoro-container .pomodoro-body .timer-display{text-align:center}.pomodoro-container .pomodoro-body .timer-display .timer-text{font-size:72px !important;font-weight:700 !important;color:var(--color-white);margin:0 !important;line-height:1 !important;letter-spacing:-2px;font-variant-numeric:tabular-nums;text-shadow:0 0 10px rgba(0,0,0,.5)}.pomodoro-container .pomodoro-body .timer-display .session-progress{display:flex;justify-content:center;align-items:center;gap:8px;margin-top:12px;flex-wrap:wrap}.pomodoro-container .pomodoro-body .timer-display .session-progress .session-dot{display:inline-block;width:8px;height:8px;border-radius:50%;background-color:var(--color-border);transition:all .3s ease}.pomodoro-container .pomodoro-body .timer-display .session-progress .session-dot.completed{background-color:var(--color-primary)}.pomodoro-container .pomodoro-body .timer-display .session-progress .session-dot.current{width:12px;border-radius:4px;background-color:var(--color-primary-hover)}.pomodoro-container .pomodoro-body .timer-display .session-progress .session-dot.pending{background-color:var(--color-border)}.pomodoro-container .pomodoro-body .progress-container{width:100%;padding:0 20px}.pomodoro-container .pomodoro-body .progress-container .pomodoro-progress .ant-progress-outer .ant-progress-inner{background:rgba(255,255,255,.2);border-radius:100px}.pomodoro-container .pomodoro-body .task-info{background:rgba(255,255,255,.15);border-radius:12px;padding:12px 20px;width:100%;text-align:center;backdrop-filter:blur(10px)}.pomodoro-container .pomodoro-body .task-info .task-label{color:var(--color-text);font-size:14px;display:flex;align-items:center;justify-content:center;gap:8px}.pomodoro-container .pomodoro-body .task-info .task-label .task-emoji{font-size:18px}.pomodoro-container .pomodoro-body .message-container{text-align:center;margin:20px 0}.pomodoro-container .pomodoro-body .message-container .main-message{font-size:18px;color:var(--color-text-secondary);font-weight:500}.pomodoro-container .pomodoro-body .controls{display:flex;gap:12px;align-items:center}.pomodoro-container .pomodoro-body .settings-button{position:absolute;bottom:16px;right:16px;opacity:0;transition:opacity .2s ease;z-index:10}.pomodoro-container:hover .settings-button{opacity:1}.pomodoro-container .ant-btn-color-default{background-color:var(--color-primary-bg)}.settings-header{display:flex;align-items:center;justify-content:space-between;gap:8px}.settings-body{flex:1;display:flex;flex-direction:column;gap:8px;overflow:auto}.settings-body::-webkit-scrollbar{display:block;width:12px}.settings-body::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.settings-body::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.settings-body::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.settings-body::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.settings-body .settings-section{display:flex;flex-direction:column;gap:12px}.settings-body .settings-section .settings-section-title{font-size:14px;font-weight:600;color:var(--color-text)}.settings-body .settings-section .settings-row{display:flex;justify-content:space-between;align-items:center;gap:12px}.settings-body .settings-section .settings-row .input-with-unit{display:flex;align-items:center;gap:8px}.settings-body .settings-section .settings-row .input-with-unit .ant-input-number{width:80px}.settings-body .settings-section .settings-row .input-with-unit .unit{font-size:12px;color:var(--color-text-secondary)}.lzv-theme-dark .pomodoro-wrapper .card .card-back{background:rgba(0,0,0,.4);border:1px solid rgba(255,255,255,.1)}.lzv-theme-dark .pomodoro-container{background:rgba(0,0,0,.4);border:1px solid rgba(255,255,255,.1)}.lzv-theme-dark .pomodoro-container.focus{background:linear-gradient(135deg, rgba(52, 194, 26, 0.15) 0%, rgba(115, 209, 61, 0.15) 100%)}.lzv-theme-dark .pomodoro-container.break{background:linear-gradient(135deg, rgba(255, 165, 0, 0.15) 0%, rgba(255, 193, 7, 0.15) 100%)}.lzv-theme-dark .pomodoro-container.long_break{background:linear-gradient(135deg, rgba(33, 150, 243, 0.15) 0%, rgba(66, 165, 245, 0.15) 100%)}.lzv-theme-dark .pomodoro-container .task-info{background:rgba(255,255,255,.05)}@media(max-width: 480px){.pomodoro-container{min-width:auto;padding:20px}.pomodoro-container .timer-display .timer-text{font-size:56px !important}.pomodoro-container .controls{flex-direction:column;width:100%}.pomodoro-container .controls .control-button{width:100%;justify-content:center}}",""]);const c=i},22408:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,'.location-check{position:relative;width:100%;height:100%;background:var(--color-primary-bg);border-radius:12px;padding:12px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.location-check:hover{box-shadow:none}.location-check .card{width:100%;height:100%;perspective:1000px;position:relative}.location-check .card .card-inner{position:relative;width:100%;height:100%;transition:transform .6s;transform-style:preserve-3d}.location-check .card.flipped .card-inner{transform:rotateY(180deg)}.location-check .card .card-front,.location-check .card .card-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;background:rgba(255,255,255,.1);border-radius:12px}.location-check .card .card-front{overflow:auto}.location-check .card .card-front::-webkit-scrollbar{display:block;width:12px}.location-check .card .card-front::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.location-check .card .card-front::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.location-check .card .card-front::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.location-check .card .card-front::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.location-check .card .card-front .header{display:flex;justify-content:space-between;align-items:center}.location-check .card .card-front .header .settings-button{opacity:0;transition:opacity .2s ease}.location-check .card .card-front:hover .settings-button{opacity:1}.location-check .card .card-front .grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(100px, 1fr));gap:12px;padding:12px}.location-check .card .card-front .grid .grid-item{position:relative}.location-check .card .card-front .grid .grid-item.disabled{pointer-events:none;opacity:.7}.location-check .card .card-front .grid .grid-item .grid-button{width:100%;aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;background:rgba(var(--color-primary-bg-rgb), 1);border:1px solid rgba(0,0,0,.08);border-radius:16px;box-shadow:0 2px 6px rgba(0,0,0,.04);cursor:pointer;transition:all .3s cubic-bezier(0.4, 0, 0.2, 1);position:relative;overflow:hidden;padding:8px}.location-check .card .card-front .grid .grid-item .grid-button::before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:var(--color-primary);opacity:0;transition:opacity .3s ease}.location-check .card .card-front .grid .grid-item .grid-button:hover{transform:translateY(-1px);border-color:rgba(var(--color-primary-rgb), 0.2);box-shadow:0 4px 12px rgba(0,0,0,.08);background:rgba(var(--color-primary-rgb), 0.02)}.location-check .card .card-front .grid .grid-item .grid-button:hover::before{opacity:.3}.location-check .card .card-front .grid .grid-item .grid-button:hover .icon svg{filter:brightness(1.2) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));color:inherit}.location-check .card .card-front .grid .grid-item .grid-button.active{background:rgba(var(--color-primary-rgb), 0.08);border-color:rgba(var(--color-primary-rgb), 0.3);box-shadow:0 4px 16px rgba(var(--color-primary-rgb), 0.1)}.location-check .card .card-front .grid .grid-item .grid-button.active::before{opacity:1}.location-check .card .card-front .grid .grid-item .grid-button.active .name{color:var(--color-primary);font-weight:600}.location-check .card .card-front .grid .grid-item .grid-button .icon{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.location-check .card .card-front .grid .grid-item .grid-button .icon svg{transition:all .3s ease;filter:grayscale(1);color:#e0e0e0}.location-check .card .card-front .grid .grid-item .grid-button .icon .emoji{font-size:32px;line-height:32px}.location-check .card .card-front .grid .grid-item .grid-button.active .icon svg{color:var(--color-primary);filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2))}.location-check .card .card-front .grid .grid-item .grid-button:not(.active):not(:hover) .icon svg{opacity:1;filter:grayscale(1);color:#e0e0e0}.location-check .card .card-front .grid .grid-item .grid-button .name{font-size:12px;color:#333;text-align:center;line-height:1.2;font-weight:500;transition:color .3s ease}.location-check .card .card-front .history .history-items{display:flex;flex-wrap:wrap;gap:8px}.location-check .card .card-front .history .history-items .history-chip{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:12px;background:rgba(var(--color-primary-bg-rgb), 1);border:1px solid rgba(0,0,0,.06);font-size:12px;height:26px;position:relative;overflow:hidden;will-change:padding-right,transform;transition:padding-right .25s cubic-bezier(0.4, 0, 0.2, 1),transform .35s cubic-bezier(0.22, 1, 0.36, 1),border-color .2s ease,background .2s ease}.location-check .card .card-front .history .history-items .history-chip .remove-icon{position:absolute;top:50%;right:4px;width:22px;height:22px;padding:0;min-width:0;display:inline-flex;align-items:center;justify-content:center;opacity:0;transform:translateX(6px) translateY(-50%) scale(0.95);transition:opacity .2s ease,transform .25s ease;background:rgba(0,0,0,0);pointer-events:none;margin:0}.location-check .card .card-front .history .history-items .history-chip:hover .remove-icon{opacity:1;transform:translateX(0) translateY(-50%) scale(1);transition-delay:120ms;pointer-events:auto}.location-check .card .card-front .history .history-items .history-chip .loc{color:#333}.location-check .card .card-front .history .history-items .history-chip .time{color:#888}.location-check .card .card-front .history .history-items .history-chip:hover{padding-right:26px;background:rgba(var(--color-primary-bg-rgb), 1);border-color:rgba(0,0,0,.1)}.location-check .card .card-back{transform:rotateY(180deg)}.location-check .card .card-back .header{display:flex;align-items:center;justify-content:space-between}.location-check .card .card-back .options-list{flex:1;overflow:auto}.location-check .card .card-back .options-list::-webkit-scrollbar{display:block;width:12px}.location-check .card .card-back .options-list::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.location-check .card .card-back .options-list::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.location-check .card .card-back .options-list::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.location-check .card .card-back .options-list::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.location-check .card .card-back .options-list .ant-list-item-meta{align-items:center}.location-check .card .card-back .options-list .ant-list-item-meta h4{margin:0}.location-check .card .card-back .options-list .list-icon{width:28px;height:28px;display:flex;align-items:center;justify-content:center}.location-check .card .card-back .options-list .list-icon svg{width:24px;height:24px}.location-check .card .card-back .add-custom .row{display:grid;grid-template-columns:1fr auto auto;gap:8px;align-items:center}.location-check .card .card-back .add-custom .emoji-picker{position:relative}.location-check .card .card-back .add-custom .emoji-picker .picker-pop{position:absolute;z-index:10;top:36px;right:0}@media(max-width: 768px){.location-check .card-front .grid{grid-template-columns:repeat(auto-fill, minmax(90px, 1fr))}}',""]);const c=i},65529:(e,t,r)=>{var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),s=r(55056),d=r.n(s),u=r(10540),m=r.n(u),p=r(41113),g=r.n(p),f=r(4658),b={};b.styleTagTransform=g(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=m();var h=o()(f.default,b);if(!f.default.locals||e.hot.invalidate){var v=!f.default.locals,y=v?f:f.default.locals;e.hot.accept(4658,(t=>{f=r(4658),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!r||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(r&&"default"===n||e[n]))return!1;return!0}(y,v?f:f.default.locals,v)?(y=v?f:f.default.locals,h(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){h()}));f.default&&f.default.locals&&f.default.locals},87957:(e,t,r)=>{var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),s=r(55056),d=r.n(s),u=r(10540),m=r.n(u),p=r(41113),g=r.n(p),f=r(48244),b={};b.styleTagTransform=g(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=m();var h=o()(f.default,b);if(!f.default.locals||e.hot.invalidate){var v=!f.default.locals,y=v?f:f.default.locals;e.hot.accept(48244,(t=>{f=r(48244),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!r||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(r&&"default"===n||e[n]))return!1;return!0}(y,v?f:f.default.locals,v)?(y=v?f:f.default.locals,h(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){h()}));f.default&&f.default.locals&&f.default.locals},27639:(e,t,r)=>{var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),s=r(55056),d=r.n(s),u=r(10540),m=r.n(u),p=r(41113),g=r.n(p),f=r(85588),b={};b.styleTagTransform=g(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=m();var h=o()(f.default,b);if(!f.default.locals||e.hot.invalidate){var v=!f.default.locals,y=v?f:f.default.locals;e.hot.accept(85588,(t=>{f=r(85588),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!r||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(r&&"default"===n||e[n]))return!1;return!0}(y,v?f:f.default.locals,v)?(y=v?f:f.default.locals,h(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){h()}));f.default&&f.default.locals&&f.default.locals},99614:(e,t,r)=>{var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),s=r(55056),d=r.n(s),u=r(10540),m=r.n(u),p=r(41113),g=r.n(p),f=r(37403),b={};b.styleTagTransform=g(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=m();var h=o()(f.default,b);if(!f.default.locals||e.hot.invalidate){var v=!f.default.locals,y=v?f:f.default.locals;e.hot.accept(37403,(t=>{f=r(37403),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!r||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(r&&"default"===n||e[n]))return!1;return!0}(y,v?f:f.default.locals,v)?(y=v?f:f.default.locals,h(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){h()}));f.default&&f.default.locals&&f.default.locals},75572:(e,t,r)=>{var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),s=r(55056),d=r.n(s),u=r(10540),m=r.n(u),p=r(41113),g=r.n(p),f=r(77943),b={};b.styleTagTransform=g(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=m();var h=o()(f.default,b);if(!f.default.locals||e.hot.invalidate){var v=!f.default.locals,y=v?f:f.default.locals;e.hot.accept(77943,(t=>{f=r(77943),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!r||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(r&&"default"===n||e[n]))return!1;return!0}(y,v?f:f.default.locals,v)?(y=v?f:f.default.locals,h(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){h()}));f.default&&f.default.locals&&f.default.locals},92739:(e,t,r)=>{var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),s=r(55056),d=r.n(s),u=r(10540),m=r.n(u),p=r(41113),g=r.n(p),f=r(22408),b={};b.styleTagTransform=g(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=m();var h=o()(f.default,b);if(!f.default.locals||e.hot.invalidate){var v=!f.default.locals,y=v?f:f.default.locals;e.hot.accept(22408,(t=>{f=r(22408),function(e,t,r){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!r||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(r&&"default"===n||e[n]))return!1;return!0}(y,v?f:f.default.locals,v)?(y=v?f:f.default.locals,h(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){h()}));f.default&&f.default.locals&&f.default.locals}}]);