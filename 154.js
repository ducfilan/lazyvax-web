"use strict";(self.webpackChunklazyvax_ext=self.webpackChunklazyvax_ext||[]).push([[154],{6209:(e,t,n)=>{var o=n(85072),a=n.n(o),r=n(97825),i=n.n(r),l=n(77659),s=n.n(l),c=n(55056),u=n.n(c),g=n(10540),d=n.n(g),p=n(41113),m=n.n(p),f=n(14626),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=d();var b=a()(f.default,v);if(!f.default.locals||e.hot.invalidate){var h=!f.default.locals,y=h?f:f.default.locals;e.hot.accept(14626,t=>{f=n(14626),function(e,t,n){if(!e&&t||e&&!t)return!1;var o;for(o in e)if((!n||"default"!==o)&&e[o]!==t[o])return!1;for(o in t)if(!(n&&"default"===o||e[o]))return!1;return!0}(y,h?f:f.default.locals,h)?(y=h?f:f.default.locals,b(f.default)):e.hot.invalidate()})}e.hot.dispose(function(){b()});f.default&&f.default.locals&&f.default.locals},10967:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(31601),a=n.n(o),r=n(76314),i=n.n(r)()(a());i.push([e.id,".goals-setting-sider{display:flex;flex-direction:column;width:100%;height:100%;min-height:400px;overflow:hidden}.goals-setting-sider .goals-setting-sider-header{display:flex;justify-content:center}.goals-setting-sider .goals-setting-sider-header .ant-segmented{background:var(--color-layout-bg);padding:4px;border-radius:8px}.goals-setting-sider .goals-setting-sider-header .ant-segmented .ant-segmented-item{transition:all .3s ease;border-radius:6px;color:var(--color-text-secondary)}.goals-setting-sider .goals-setting-sider-header .ant-segmented .ant-segmented-item:hover{color:var(--color-text)}.goals-setting-sider .goals-setting-sider-header .ant-segmented .ant-segmented-item.ant-segmented-item-selected{background:var(--color-primary);color:var(--color-white)}.goals-setting-sider .goals-setting-sider-header .ant-segmented .ant-segmented-item.ant-segmented-item-selected svg path{fill:var(--color-white)}.goals-setting-sider .goals-setting-sider-header .ant-segmented .ant-segmented-item .ant-segmented-item-label{align-items:center;display:flex}.goals-setting-sider .goals-setting-sider-header .ant-segmented .ant-segmented-item .ant-segmented-item-icon{font-size:16px;margin-right:6px;display:inline-flex}.goals-setting-sider .goals-setting-sider-content{flex:1;position:relative;overflow:hidden}.goals-setting-sider .goals-setting-sider-content .tab-content{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.goals-setting-sider .goals-setting-sider-content .tab-content>div{width:100%;height:100%;position:absolute;top:0;left:0;overflow-y:auto}.goals-setting-sider .goals-setting-sider-content .tab-content>div::-webkit-scrollbar{display:block;width:12px}.goals-setting-sider .goals-setting-sider-content .tab-content>div::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.goals-setting-sider .goals-setting-sider-content .tab-content>div::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.goals-setting-sider .goals-setting-sider-content .tab-content>div::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.goals-setting-sider .goals-setting-sider-content .tab-content>div::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}",""]);const l=i},14626:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(31601),a=n.n(o),r=n(76314),i=n.n(r)()(a());i.push([e.id,".goals-setting-sider-content .cs-message-list .cs-message-list__scroll-wrapper,.goal-detail-sider-content .cs-message-list .cs-message-list__scroll-wrapper{padding:0}.goals-setting-sider-content .cs-message-list .cs-message-list__scroll-wrapper .lzv-chat-message,.goal-detail-sider-content .cs-message-list .cs-message-list__scroll-wrapper .lzv-chat-message{max-width:100%}.add-goal-button{min-width:200px}.add-goal-button.bounce svg{animation:bounce ease-in-out .7s infinite alternate}.goal-grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));gap:1.5rem;justify-items:center;align-items:start;padding:1rem}.goal-item{width:100%;display:flex;flex-direction:column;align-items:center;gap:1rem;position:relative}@media(max-width: 768px){.goal-grid{padding:0;grid-template-columns:repeat(auto-fill, minmax(270px, 1fr))}.goal-grid .goal-card .goal-card-footer .goal-meta{font-size:.75rem}.add-goal-button{min-width:unset}}",""]);const l=i},49724:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(31601),a=n.n(o),r=n(76314),i=n.n(r)()(a());i.push([e.id,".goal-setting-steps-wrapper{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:16px;height:calc(100vh - 88px);background:var(--color-primary-bg);border-radius:18px;overflow:hidden;max-width:100vw;position:relative}@media(max-width: 768px){.goal-setting-steps-wrapper{height:calc(100% - 128px);height:calc(100vh - 128px);height:calc(100dvh - 128px)}}.goal-setting-steps-wrapper [data-panel-group]{width:100%;height:100%;column-gap:16px;max-width:100%}.goal-setting-steps-wrapper [data-panel]{display:flex;overflow:hidden;min-width:0}.goal-setting-steps-wrapper .panel-resize-handle{width:4px;background:var(--color-border);transition:background-color .2s;flex-shrink:0}.goal-setting-steps-wrapper .panel-resize-handle:hover{background:var(--color-primary)}.goal-setting-steps-wrapper .goal-setting-steps-content{flex:1;padding-bottom:12px;overflow-y:auto;width:100%;height:100%;min-width:0}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-step-wrapper{width:100%;max-height:100%;overflow-y:auto;min-width:0}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-step-wrapper::-webkit-scrollbar{display:block;width:12px}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-step-wrapper::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-step-wrapper::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-step-wrapper::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-step-wrapper::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-steps-asking-dob h1,.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-steps-categorization h1{margin-bottom:8px;font-size:24px;font-weight:600}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-steps-asking-dob--subtitle,.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-steps-categorization--subtitle{color:var(--color-text-secondary);margin-bottom:24px;margin-block-start:0}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-categorization-answer-actions{display:flex;gap:16px;margin-top:16px}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-categorization-answer-actions .lzv-img-checkboxes-wrapper{width:100%}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-categorization-answer-actions .lzv-img-checkboxes-wrapper .ant-card-grid{width:25%}@media(max-width: 768px){.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-categorization-answer-actions{flex-direction:column}}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-categorization-answer-actions button{font-size:1.5em !important;height:60px !important;box-shadow:0 2px 8px rgba(0,0,0,.03);border-bottom:4px solid;border-left:4px;border-right:4px}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-categorization-answer-actions button:hover{opacity:.8}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-categorization-answer-actions button:active{border:0}@media(max-width: 768px){.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-categorization-answer-actions button{font-size:1.3em !important;height:2.6em !important}}@media(max-width: 768px){.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-answer-actions{flex-direction:column}}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-answer-actions button{font-size:1.5em !important;height:60px !important;box-shadow:0 2px 8px rgba(0,0,0,.03);border-bottom:4px solid;border-left:4px;border-right:4px;border-color:var(--color-dark-blue)}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-answer-actions button.yes .anticon svg{color:var(--color-gold)}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-answer-actions button:hover{opacity:.8}.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-answer-actions button:active{border:0}@media(max-width: 768px){.goal-setting-steps-wrapper .goal-setting-steps-content .goal-setting-answer-actions button{font-size:1.3em !important;height:2.6em !important}}.goal-setting-steps-wrapper .goal-setting-steps-content .ant-list{width:100%}.goal-setting-steps-wrapper .goal-setting-steps-content .ant-card{height:100%;transition:all .3s}.goal-setting-steps-wrapper .goal-setting-steps-content .ant-card:hover{box-shadow:0 2px 8px rgba(0,0,0,.03)}.goal-setting-steps-wrapper .goal-setting-steps-content .ant-form{width:100%;max-width:600px;margin:0 auto;padding:var(--message-padding)}.goal-setting-steps-wrapper .goal-setting-steps-content .ant-form .ant-form-item{margin-bottom:16px}.goal-setting-steps-wrapper .goal-setting-specific-suggestions{display:flex;flex-wrap:wrap;gap:12px;flex-direction:column}.goal-setting-steps-wrapper .goal-setting-specific-suggestions .suggestion-item{flex:1;min-width:200px;max-width:400px}.goal-setting-steps-wrapper .goal-setting-confirmation-wrapper .conversation-message p{min-height:40px}.goal-setting-steps-wrapper .goal-setting-confirmation-wrapper .commitment-error{color:var(--color-red-light);font-size:16px;padding:8px;margin-bottom:8px;border-radius:8px;background-color:var(--color-primary-bg);border:1px solid var(--color-red-light)}.goal-setting-steps-wrapper .music-mix-panel{flex:1;height:100%;overflow:hidden;background:var(--color-white);border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.03);padding-bottom:16px;min-width:0}.goal-setting-steps-wrapper .goal-setting-steps-navigation{width:100%;padding-top:1em;border-top:2px solid var(--color-bg-gray-close-white);display:flex;justify-content:space-between;background:var(--color-primary-bg);flex-shrink:0}.goal-setting-steps-wrapper .goal-setting-steps-navigation button{height:60px;font-size:24px;min-width:6em;border:1.5px solid var(--color-dark-blue);border-bottom-width:6px;transition:all .1s}.goal-setting-steps-wrapper .goal-setting-steps-navigation button:active{border-bottom-width:2px}.goal-setting-steps-wrapper .ant-modal .ant-modal-content{border-radius:16px;padding:24px}.goal-setting-steps-wrapper .ant-modal .ant-modal-header{margin-bottom:24px}.goal-setting-steps-wrapper .ant-modal .ant-form .ant-form-item:last-child{margin:0}@media(max-width: 768px){.ant-drawer .music-mix-panel{height:100%;border-radius:0;box-shadow:none}.goal-setting-steps-wrapper .goal-setting-steps-navigation button{height:48px;font-size:18px;min-width:4em}}",""]);const l=i},53233:(e,t,n)=>{var o=n(85072),a=n.n(o),r=n(97825),i=n.n(r),l=n(77659),s=n.n(l),c=n(55056),u=n.n(c),g=n(10540),d=n.n(g),p=n(41113),m=n.n(p),f=n(49724),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=d();var b=a()(f.default,v);if(!f.default.locals||e.hot.invalidate){var h=!f.default.locals,y=h?f:f.default.locals;e.hot.accept(49724,t=>{f=n(49724),function(e,t,n){if(!e&&t||e&&!t)return!1;var o;for(o in e)if((!n||"default"!==o)&&e[o]!==t[o])return!1;for(o in t)if(!(n&&"default"===o||e[o]))return!1;return!0}(y,h?f:f.default.locals,h)?(y=h?f:f.default.locals,b(f.default)):e.hot.invalidate()})}e.hot.dispose(function(){b()});f.default&&f.default.locals&&f.default.locals},78154:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Le,getCurrentStep:()=>Fe});var o=n(10467),a=n(5544),r=n(54756),i=n.n(r),l=(n(53233),n(96540)),s=n(87959),c=n(97072),u=n(1849),g=n(21468),d=n(47852),p=n(29197),m=n(33930),f=n(57097),v=n(86220),b=n(83186),h=n(42569),y=n(95927),w=(n(84226),n(26362)),x=n(68335),E=n(4086),_=(0,h.Ru)("calendar");const A=function(e){var t=e.onSelectDay,n=e.onAddEvent,o=(0,l.useState)(_),r=(0,a.A)(o,2),i=r[0];r[1],w.A;return l.createElement("div",{className:"goals-setting-sider"},l.createElement("div",{className:"goals-setting-sider-content"},l.createElement("div",{className:"tab-content"},l.createElement(x.P.div,{key:"calendar",initial:!1,animate:{opacity:i===_?1:0,y:i===_?0:20,pointerEvents:i===_?"auto":"none",visibility:i===_?"visible":"hidden"},transition:{duration:.2},style:{height:"100%"}},l.createElement(E.A,{onSelectDay:t,onAddEvent:n})))))};var k=n(71468),S=n(90855),C=n(9027),N=n(86319),O=n(60436),T=n(64467),R=n(72767),q=n(20537),z=n(5078),P=n(66407);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,T.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D=function(){var e,t=(0,y.S)(),n=t.user,r=t.setUser,s=t.scrollToBottom,u=(0,m.I)({queryKey:["goalSettingCategoryQuestions"],queryFn:v.Z0}),g=u.data,d=u.isLoading,p=(0,k.wA)(),f=(0,k.d4)(function(e){return e.goals.categoryQuestionAnswers}),b=(0,l.useState)([]),w=(0,a.A)(b,2),x=w[0],E=w[1],_=function(e){if(!g||!e)return null;var t=g.findIndex(function(t){return t.question===e.question});return g[t+1]},A=function(){var e=(0,o.A)(i().mark(function e(t,o){var l,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=Object.entries(f).concat([[t,o]]).map(function(e){var t=(0,a.A)(e,2);return{question:t[0],answer:t[1]}}),e.next=1,(0,v.xZ)(l);case 1:if(s=e.sent){e.next=2;break}return e.abrupt("return");case 2:p((0,S.Jk)(s)),n&&r(I(I({},n),{},{preferences:I(I({},n.preferences),{},{goalSettingCategory:s})})),p((0,S.EY)(N.No.ConfirmGoalSettingCategory));case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),C=function(e){return l.createElement("div",null,l.createElement("p",null,e.question),l.createElement("div",{className:"goal-setting-categorization-answer-actions"},l.createElement(q.A,{data:e.options.map(function(e){return{label:e,value:e,labelColor:"var(--color-text)",itemInnerStyles:{boxShadow:"0 1px 2px 0 rgba(0,0,0,.85)",borderColor:"var(--color-primary)",borderLeft:"none",borderRight:"none",borderTop:"none",borderBottom:4,borderBottomStyle:"solid",fontSize:"1em"}}}),preCheckedItems:f[e.question]?[f[e.question]]:[],onChecked:function(){var t=(0,o.A)(i().mark(function t(n){var o;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(p((0,S.Me)({question:e.question,answer:n})),E(function(e){return[].concat((0,O.A)(e),[{side:"outgoing",content:n}])}),o=_(e)){t.next=2;break}return t.next=1,A(e.question,n);case 1:return t.abrupt("return");case 2:E(function(e){return[].concat((0,O.A)(e),[{side:"incoming",content:C(o)}])}),setTimeout(s,100);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),itemStyles:{padding:8}})))};return(0,l.useEffect)(function(){if(g&&0!==g.length){var e=g[0];E([{side:"incoming",content:C(e)}])}},[g]),l.createElement("div",{className:"goal-setting-steps-categorization is-full-height flex-col"},l.createElement("h1",null,(0,h.Ru)("goal_setting_steps_categorization_title")),l.createElement("p",{className:"goal-setting-steps-categorization--subtitle"},(0,h.Ru)("goal_setting_steps_categorization_subtitle")),d?l.createElement(c.A,{active:!0}):l.createElement(R.m,{incomingSideImg:l.createElement("img",{src:(0,h.ID)(z),width:84}),outgoingSideImg:l.createElement(P.A,{imageUrl:null==n?void 0:n.pictureUrl,fallbackCharacter:(null==n||null===(e=n.name)||void 0===e?void 0:e[0])||"?",size:64}),incomingBubbleStyle:{backgroundColor:"var(--color-bg-gray-ultralight)",color:"var(--color-text)",borderColor:"var(--color-bg-gray-ultralight)"},outgoingBubbleStyle:{backgroundColor:"var(--color-blue)",color:"var(--color-white)",borderColor:"var(--color-blue)"},smallTail:!0,conversation:x}))},G=n(15118),B=n(26067),Y=n(92089),M=n(2622),U=n(71099),F=n(84517),L=n(34468),W=n(74353),V=n.n(W);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){(0,T.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q=function(){var e,t=(0,y.S)(),n=t.user,o=t.setUser,a=(0,k.d4)(function(e){return e.goals.dob}),r=(0,k.wA)();return l.createElement("div",{className:"goal-setting-steps-asking-dob flex-col"},l.createElement("h1",null,(0,h.Ru)("questionnaires_age")),l.createElement("p",{className:"goal-setting-steps-asking-dob--subtitle"},(0,h.Ru)("questionnaires_age_subtitle")),l.createElement(R.m,{smallTail:!0,incomingSideImg:l.createElement("img",{src:(0,h.ID)(F),width:84}),outgoingSideImg:l.createElement(P.A,{imageUrl:null==n?void 0:n.pictureUrl,fallbackCharacter:(null==n||null===(e=n.name)||void 0===e?void 0:e[0])||"?",size:84}),incomingBubbleStyle:{backgroundColor:"var(--color-bg-gray-ultralight)",color:"var(--color-text)",borderColor:"var(--color-bg-gray-ultralight)"},outgoingBubbleStyle:{backgroundColor:"var(--color-blue)",color:"var(--color-white)",borderColor:"var(--color-blue)"},conversation:[{side:"incoming",content:l.createElement("div",null,l.createElement("span",null,(0,M.JT)((0,h.Ru)("goal_setting_steps_asking_dob_share_mine"),[{key:"dob",value:(0,Y.GP)(N.Rn,"yyyy MMMM")},{key:"age",value:(0,U.QO)(N.Rn)}])))},{side:"incoming",content:l.createElement("div",{className:"flex-col gap-row-16"},l.createElement("span",null,(0,h.Ru)("questionnaires_age_input_label")),l.createElement(G.A,{size:"large",placeholder:(0,h.Ru)("questionnaires_age_input_placeholder"),defaultOpen:!0,format:{format:"YYYY-MM-DD",type:"mask"},maxDate:V()(new Date),onChange:function(e){e&&r((0,S.uu)(e.toDate()))}}),l.createElement(g.Ay,{type:"primary",icon:l.createElement(B.A,null),className:"is-deep",onClick:function(){a&&(n&&o(Z(Z({},n),{},{preferences:Z(Z({},n.preferences),{},{dob:new Date(a)})})),(0,L.EZ)(new Date(a)),r((0,S.EY)(Fe(n))))}},(0,h.Ru)("goal_setting_steps_asking_dob_confirm")))}]}))},J=n(13474);var H=n(27961),X=n(36207),$=function(){var e,t=(0,y.S)().user,n=(0,k.wA)(),o=(0,k.d4)(function(e){return e.global.langCode}),a=(0,l.useMemo)(function(){return(0,T.A)((0,T.A)((0,T.A)((0,T.A)({},N.dS,(0,h.Ru)("goal_setting_confirm_category_message_confident_archiver")),N.V5,(0,h.Ru)("goal_setting_confirm_category_message_motivated_but_distracted")),N.tz,(0,h.Ru)("goal_setting_confirm_category_message_overwhelmed_starter")),N.Ix,(0,h.Ru)("goal_setting_confirm_category_message_needs_encouragement"))},[o]);return(0,m.I)({queryKey:["starterGoals"],queryFn:function(){return(0,v._D)("")}}),l.createElement("div",{className:"flex justify-center align-center is-full-height"},l.createElement(J.e,{bubbleProperties:{background:"var(--color-blue)",borderColor:"var(--color-blue) transparent transparent transparent"},message:l.createElement("div",{className:"flex flex-col gap-row-16"},l.createElement(H.Y,{isTextRunning:!0,text:a[null==t||null===(e=t.preferences)||void 0===e?void 0:e.goalSettingCategory],textSize:"1.5em"}),l.createElement("div",{className:"flex flex-1 justify-center align-center gap-col-8"},l.createElement(g.Ay,{className:"is-deep",icon:l.createElement(X.A,null),onClick:function(){n((0,S.EY)(N.No.Categorization))}},(0,h.Ru)("common_back")),l.createElement(g.Ay,{type:"primary",className:"is-deep",icon:l.createElement(B.A,null),onClick:function(){var e;null!=t&&null!==(e=t.preferences)&&void 0!==e&&e.dob?n((0,S.EY)(N.No.StarterGoals)):n((0,S.EY)(N.No.AskingDob))}},(0,h.Ru)("common_confirm")))),messageMaxWidth:800}))},ee=n(49409),te=n(16933),ne=n(8179),oe=n(36449),ae=n(16532),re=n(16044),ie=n(17355),le=n(49237),se=n(66221),ce=n(82322);const ue=function(e){var t=e.buttonText,n=e.isFlatStyle,o=void 0!==n&&n,r=e.icon,i=void 0===r?l.createElement(le.A,null):r,s=e.onChange,c=e.onEnterPressed,u=e.placeholder,d=e.onClear,p=e.buttonColor,m=void 0===p?"var(--primary-color)":p,f=e.style,v=e.speed,b=void 0===v?20:v,y=e.placeholderRunning,w=void 0!==y&&y,E=e.inputType,_=void 0===E?"text":E,A=e.rows,k=void 0===A?1:A,S=e.maxLength,C=void 0===S?1e3:S,N=(0,l.useState)(!1),O=(0,a.A)(N,2),T=O[0],R=O[1],q=(0,l.useState)(""),z=(0,a.A)(q,2),P=z[0],j=z[1],I=(0,l.useState)(!1),D=(0,a.A)(I,2),G=D[0],B=D[1],Y=(0,l.useRef)(null),M=(0,l.useState)(Array.isArray(u)?u[0]:u||""),U=(0,a.A)(M,2),F=U[0],L=U[1],W=(0,l.useState)(0),V=(0,a.A)(W,2),K=V[0],Z=V[1],Q=(0,l.useState)(""),J=(0,a.A)(Q,2),H=J[0],X=J[1];(0,l.useEffect)(function(){if(Array.isArray(u)){var e=setInterval(function(){L(u[K]),Z(function(e){return(e+1)%u.length}),X("")},5e3);return function(){return clearInterval(e)}}},[u,K]),(0,l.useEffect)(function(){if(w){var e=setInterval(function(){X(function(t){return t.length+1>=F.length&&clearInterval(e),t+F[t.length]})},null!=b?b:20);return function(){return clearInterval(e)}}X(F)},[F,w]);var $=function(e){var t=e.target.value;j(t),null==s||s(t)},ee=function(e){"Enter"===e.key&&P.trim()?(null==c||c(P.trim()),j(""),R(!1)):"Escape"===e.key&&(P.trim()?B(!0):(j(""),R(!1)))};return l.createElement("div",{className:"button-input flex-1",style:f},l.createElement(se.N,null,T?l.createElement(x.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2}},l.createElement(re.A,{title:(0,h.Ru)("leave_warning_message"),open:G,onConfirm:function(){j(""),R(!1),B(!1)},onCancel:function(){return B(!1)},okText:(0,h.Ru)("common_yes"),cancelText:(0,h.Ru)("common_no")},l.createElement("div",{className:"flex full-width gap-x-8"},"text"===_?l.createElement(ie.A,{className:"flex-1 is-deep",ref:Y,value:P,onChange:$,onKeyDown:ee,placeholder:H,allowClear:!0,onClear:d,maxLength:C}):l.createElement(ce.A,{className:"flex-1 is-deep",ref:Y,value:P,rows:k,onChange:$,onKeyDown:ee,placeholder:H,allowClear:!0,onClear:d,maxLength:C}),l.createElement(g.Ay,{className:"is-deep",type:"primary",onClick:function(){return null==c?void 0:c(P.trim())},icon:l.createElement(le.A,null)},(0,h.Ru)("common_answer"))))):l.createElement(x.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2}},l.createElement(g.Ay,{style:{backgroundColor:m},onClick:function(){R(!0),setTimeout(function(){var e;null===(e=Y.current)||void 0===e||e.focus()},100)},className:o?"":"is-deep",variant:"filled",iconPosition:"end",icon:i},t))))};var ge=function(e){var t,n=e.onConfirm,o=e.onBack,r=(0,y.S)().user,i=(0,k.d4)(function(e){return e.goals.refinedGoal}),s=(0,l.useState)(""),u=(0,a.A)(s,2),d=u[0],p=u[1],f=(0,l.useState)(),b=(0,a.A)(f,2),w=b[0],x=b[1],E=(0,l.useState)([{side:"incoming",content:(0,h.Ru)("goal_clarification_thank_message")}]),_=(0,a.A)(E,2),A=_[0],S=_[1];return(0,l.useEffect)(function(){S(function(e){return[e[0],{side:"incoming",content:d||l.createElement(c.A,{active:!0})}].concat((0,O.A)(e.length>2?[e[2]]:[]))})},[d]),(0,m.I)({queryKey:["goalConfirmationStatement",null==i?void 0:i.title],queryFn:function(){return(0,v.qd)((null==i?void 0:i.title)||"",function(e){p(function(t){return t+e})},function(e){x(e)},function(){S(function(e){var t=e[1];return t.content=l.createElement("div",{className:"flex-col gap-row-16"},l.createElement("p",{className:"large-text big-text"},t.content),l.createElement(ue,{buttonColor:"var(--color-primary-bg)",buttonText:(0,h.Ru)("goal_clarification_why_message_button"),placeholder:(0,h.Ru)("goal_clarification_why_message_placeholder").split("\n"),onEnterPressed:function(e){S(function(t){return[t[0],t[1],{side:"outgoing",content:e}].concat((0,O.A)(t.length>2?t.slice(2):[]))}),(0,v.TO)((null==i?void 0:i._id)||"",{smartProperties:{whyStatement:e}})},placeholderRunning:!0,inputType:"textarea",rows:4})),[e[0],t,{side:"incoming",content:l.createElement("div",{className:"goal-setting-answer-actions"},l.createElement("div",{className:"flex-row gap-col-8"},l.createElement(g.Ay,{className:"no flex-1",size:"large",icon:l.createElement(oe.A,null),onClick:o},(0,h.Ru)("common_back")),l.createElement(g.Ay,{type:"primary",className:"yes flex-1",icon:l.createElement(te.A,{component:ne.A}),size:"large",onClick:n},(0,h.Ru)("common_next"))))}]})})},enabled:!(null==i||!i.title),refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:!1}),i?w?l.createElement("div",{className:"flex justify-center align-center is-full-height"},l.createElement(J.e,{message:w,messageMaxWidth:800,isTextRunning:!1,noAnimation:!0,bubbleProperties:{background:"var(--color-red)",borderColor:"var(--color-red) transparent transparent transparent",boxShadow:"rgba(0, 0, 0, 0.2) 0 2px 5px 1px"}})):l.createElement("div",{className:"flex justify-center align-center is-full-height goal-setting-confirmation-wrapper"},l.createElement(R.m,{incomingSideImg:l.createElement("img",{src:(0,h.ID)(ae),width:84}),outgoingSideImg:l.createElement(P.A,{imageUrl:null==r?void 0:r.pictureUrl,fallbackCharacter:(null==r||null===(t=r.name)||void 0===t?void 0:t[0])||"?",size:84}),incomingBubbleStyle:{backgroundColor:"var(--color-bg-gray-ultralight)",color:"var(--color-text)",borderColor:"var(--color-bg-gray-ultralight)",flex:1},outgoingBubbleStyle:{backgroundColor:"var(--color-blue)",color:"var(--color-white)",borderColor:"var(--color-blue)",flex:1},largeText:!0,conversation:A})):l.createElement(l.Fragment,null)},de=n(36552),pe=n(51802),me=n(31656),fe=n(75163),ve=n(88652),be=n(65587),he=n(76173),ye=n(93145),we=n(25834),xe=n(81859),Ee=function(e){var t,n=e.suggestions,r=e.onSuggestionSelected,s=e.title,u=void 0===s?(0,h.Ru)("goal_suggestion_message"):s,g=e.allowCustomInput,d=void 0!==g&&g,p=e.customInputPlaceholder,m=void 0===p?"":p,f=e.customInput,v=e.customInputOnEnterPressed,b=e.customInputOnChange,y=e.customInputOnClear,w=e.customInputButtonText,x=void 0===w?"":w,E=e.allowMore,_=void 0!==E&&E,A=e.moreSuggestionsGetter,k=void 0===A?function(){return Promise.resolve([])}:A,S=(0,l.useState)([n]),C=(0,a.A)(S,2),T=C[0],R=C[1],q=(0,l.useState)(!1),z=(0,a.A)(q,2),P=z[0],j=z[1],I=(0,l.useState)(_),D=(0,a.A)(I,2),G=D[0],B=D[1];return(0,l.useEffect)(function(){if(G){var e=T.reduce(function(e,t){return e+t.length},0);B(e<N.Kp)}},[T,G]),l.createElement("div",{className:"goal-setting-specific-suggestions"},l.createElement("b",null,u),l.createElement("div",{className:"flex-row gap-x-8"},1==T.length&&(null===(t=T[0])||void 0===t?void 0:t.map(function(e){return l.createElement(he.a,{key:e,type:"goal",content:e,suggestionStyle:{maxWidth:400},onClick:function(e){return r(e)}})})),T.length>1&&l.createElement(xe.A,{currentCardId:T.length-1,cards:T.map(function(e,t){return{id:t,content:l.createElement("div",{className:"flex-row gap-x-8"},e.map(function(e){return l.createElement(he.a,{key:e,type:"goal",content:e,suggestionStyle:{maxWidth:400},onClick:function(e){return r(e)}})}))}})}),G&&(P?l.createElement(c.A,{active:!0}):l.createElement(ye.A,{style:{borderRadius:8},icon:l.createElement(we.A,{style:{width:14,height:14,marginRight:8}}),onClick:(0,o.A)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=1,k();case 1:t=e.sent,R(function(e){return[].concat((0,O.A)(e),[t])}),e.next=3;break;case 2:e.prev=2,e.catch(0);case 3:return e.prev=3,j(!1),e.finish(3);case 4:case"end":return e.stop()}},e,null,[[0,2,3,4]])}))},(0,h.Ru)("goal_clarification_more_suggestions")))),d&&(null!=f?f:l.createElement(ue,{style:{borderTop:"1px solid var(--color-dark-border)",paddingTop:12},buttonColor:"var(--color-primary-bg)",buttonText:x,isFlatStyle:!0,placeholder:m,onChange:b,onEnterPressed:v,onClear:y})))},_e=n(83937),Ae=n(38221),ke=n.n(Ae);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach(function(t){(0,T.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ne=function(e){var t=e.questions,n=e.onDone,o=e.needValidation,r=void 0!==o&&o,i=e.customValidation,s=(0,l.useState)({}),c=(0,a.A)(s,2),u=c[0],d=c[1],p=(0,l.useState)({}),m=(0,a.A)(p,2),f=m[0],v=m[1],b=l.useCallback(ke()(function(e,t){d(function(n){return Ce(Ce({},n),{},(0,T.A)({},e,t))}),y(e)},300),[]),y=function(e){v(function(t){var n=Ce({},t);return delete n[e],n})};return l.createElement(l.Fragment,null,t.map(function(e){return l.createElement("div",{key:e.question,className:"flex-col gap-row-8"},l.createElement("b",null,e.question),l.createElement(_e.A.Item,{validateStatus:f[e.question]?"error":"",help:f[e.question],style:{marginBottom:0}},function(t,n,o,a){switch(e.type){case"multiple":return l.createElement("div",{className:"flex-row gap-x-8"},l.createElement(q.A,{className:"flex-1",size:"small",noBorder:!0,optionAlign:"left",data:[].concat((0,O.A)((null===(t=e.options)||void 0===t?void 0:t.map(function(e){return{label:e,value:e,labelColor:"var(--color-dark-blue)"}}))||[]),(0,O.A)(e.canAddCustomOption?[{value:-1,hideCheckbox:!0,label:"",extraContent:l.createElement(ie.A,{size:"large",placeholder:(0,h.Ru)("common_custom"),onChange:function(t){b(e.question,t.target.value)},style:{margin:"0 8px"}})}]:[])),onChecked:function(t){d(function(n){return Ce(Ce({},n),{},(0,T.A)({},e.question,n[e.question]?[].concat((0,O.A)(n[e.question]),[t]):[t]))}),y(e.question)},onUnchecked:function(t){d(function(n){return Ce(Ce({},n),{},(0,T.A)({},e.question,n[e.question].filter(function(e){return e!==t})))})},itemStyles:{width:"".concat((null!==(n=null===(o=e.options)||void 0===o?void 0:o.length)&&void 0!==n?n:0)%2==0?50:33.33,"%")}}));case"boolean":return l.createElement("div",{className:"flex-row gap-x-8"},l.createElement(q.A,{className:"flex-1",size:"small",noBorder:!0,multiple:!1,data:null!==(a=e.options)&&void 0!==a&&a.length?e.options.map(function(e){return{label:e,value:e,labelColor:"var(--color-dark-blue)"}}):[{label:(0,h.Ru)("common_yes"),value:"yes",labelColor:"var(--color-dark-blue)"},{label:(0,h.Ru)("common_no"),value:"no",labelColor:"var(--color-dark-blue)"}],itemStyles:{width:"50%"},onChecked:function(t){d(function(n){return Ce(Ce({},n),{},(0,T.A)({},e.question,t))}),y(e.question)}}));case"text":return l.createElement(ie.A,{status:f[e.question]?"error":"",onChange:function(t){b(e.question,t.target.value)}});default:return null}}()))}),l.createElement(g.Ay,{type:"primary",icon:l.createElement(B.A,null),className:"is-full-width is-deep",onClick:function(){var e;e={},r&&(i?i(t,u).forEach(function(t){t.errorMessage&&(e[t.question]=t.errorMessage)}):t.forEach(function(t){(!u[t.question]||Array.isArray(u[t.question])&&0===u[t.question].length)&&(e[t.question]=(0,h.Ru)("common_required_field")||"This field is required")})),v(e),0===Object.keys(e).length&&n(Object.entries(u).map(function(e){var t=(0,a.A)(e,2);return{question:t[0],answer:t[1]}}))}},(0,h.Ru)("common_answer")))},Oe=n(4499),Te=n(82960),Re=n(43439),qe=n(47767);function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach(function(t){(0,T.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var je=function(){var e,t,n,a,r,s,u=(0,y.S)().user,p=(0,k.wA)(),f=(0,qe.Zp)(),b=(0,k.d4)(function(e){return e.goals.refineGoalConversation}),w=(0,k.d4)(function(e){return e.goals.refinedGoal}),x=(0,k.d4)(function(e){return e.goals.refinedGoalTitle}),E=(0,k.d4)(function(e){return e.goals.refinedGoalExtraInfo}),_=(0,m.I)({queryKey:["refinedGoal",w,E],queryFn:(r=(0,o.A)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,(0,v.Hh)(w,E);case 1:return t=e.sent,e.abrupt("return",t);case 2:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),enabled:!!w,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),A=_.data,C=_.isLoading,O=_.error;return(0,l.useEffect)(function(){if(A){p((0,S.Ji)(A.conversationId)),A.deadline&&null!=w&&w.deadline&&!(0,ve.r)(A.deadline,null==w?void 0:w.deadline)&&p((0,S.d2)(Pe(Pe({},w),{},{deadline:A.deadline})));var e=[];if(!1!==A.isSpecificSatisfied||A.isSpecificSkipped)if(!1!==A.isTimeBoundSatisfied||A.isTimeBoundSkipped)if(!1!==A.isAchievableSatisfied||A.isAchievableSkipped)(null==w?void 0:w._id)&&f("/goals/".concat(w._id));else{var t;A.achievableDeterminationReason&&((0,Te.t9)(A.conversationId,[{type:Re.pL,content:A.achievableDeterminationReason}]),e.push({content:A.achievableDeterminationReason,side:"incoming",contentType:"text"})),(null===(t=A.achievableQuestions)||void 0===t?void 0:t.length)>0?e.push({side:"incoming",contentType:"questions",meta:{questions:A.achievableQuestions}}):e.push({side:"incoming",contentType:"achievableConfirm"})}else e.push({content:(0,h.Ru)("goal_clarification_time_bound_message"),side:"incoming",contentType:"text"},{side:"incoming",contentType:"suggestions",suggestionType:"deadline",meta:{suggestions:A.timeBoundSuggestions.map(function(e){return e.readableTime})}});else A.freeResponse&&e.push({content:A.freeResponse,side:"incoming",contentType:"text"}),e.push({content:A.specificSuggestions.whyNotSpecific,side:"incoming",contentType:"text"},{content:A.specificSuggestions.suggestionsToMakeSpecific,side:"incoming",contentType:"text"},{side:"incoming",contentType:"suggestions",suggestionType:"specific",meta:{suggestions:A.specificSuggestions.suggestions,originalSuggestions:A.specificSuggestions.suggestions}});e.length>0&&p((0,S.JV)(e))}},[A]),u?O?l.createElement("div",{className:"flex justify-center align-center is-full-height"},l.createElement(H.g,{shibImgUrl:Oe,text:(null===(s=O.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.error)||O.message})):b||!C&&A?l.createElement("div",{className:"flex-col is-full-height"},l.createElement("div",{className:"goal-clarification-header"},l.createElement(H.g,{shibImgUrl:null!==(e=u.pictureUrl)&&void 0!==e?e:"",text:x||(null==w?void 0:w.title)||"",textSize:"18px",textRowsCount:6,direction:"bottom",imgWidth:62,fallbackChar:null!==(t=null===(n=u.name)||void 0===n?void 0:n[0])&&void 0!==t?t:"?",rounded:!0,bubbleProperties:{borderRadius:12,marginBlockStart:"unset",background:"var(--color-blue)",borderColor:"var(--color-blue) transparent transparent transparent"}}),l.createElement(de.A,{style:{margin:"16px 0"}})),l.createElement("div",{className:"goal-clarification-conversation flex-1 overflow-y-auto"},l.createElement(R.m,{incomingSideImg:l.createElement("img",{src:(0,h.ID)(ae),width:48}),outgoingSideImg:l.createElement(P.A,{imageUrl:null==u?void 0:u.pictureUrl,fallbackCharacter:(null==u||null===(a=u.name)||void 0===a?void 0:a[0])||"?",size:64}),incomingBubbleStyle:{backgroundColor:"var(--color-bg-gray-ultralight)",color:"var(--color-text)",borderColor:"var(--color-bg-gray-ultralight)"},outgoingBubbleStyle:{backgroundColor:"var(--color-blue)",color:"var(--color-white)",borderColor:"var(--color-blue)"},smallTail:!0,conversation:b.map(function(e){return function(e){return"suggestions"===e.contentType&&"specific"===e.suggestionType}(e)?{side:e.side,content:l.createElement(Ee,{suggestions:e.meta.suggestions,onSuggestionSelected:function(e){(0,Te.t9)(A.conversationId,[{type:Re.pL,content:e}]),p((0,S.Fw)(e)),p((0,S.d2)(Pe(Pe({},w),{},{title:e}))),p((0,S.yp)({content:e,side:"outgoing",contentType:"text"}))},allowCustomInput:!0,customInput:l.createElement("div",{className:"flex-row gap-col-8",style:{borderTop:"1px solid var(--color-dark-border)",paddingTop:12}},l.createElement(ue,{buttonColor:"var(--color-primary-bg)",buttonText:(0,h.Ru)("goal_clarification_custom_input_button_text"),placeholder:(0,h.Ru)("goal_clarification_custom_input_placeholder"),onEnterPressed:function(e){(0,Te.t9)(A.conversationId,[{type:Re.pL,content:e}]),p((0,S.Fw)(e)),p((0,S.d2)(Pe(Pe({},w),{},{title:e}))),p((0,S.yp)({content:e,side:"outgoing",contentType:"text"}))}}),l.createElement(g.Ay,{icon:l.createElement(pe.A,null),className:"is-deep",iconPosition:"end",onClick:function(){(null==w?void 0:w._id)&&(0,v.TO)(w._id,{smartProperties:Pe(Pe({},w.smartProperties),{},{isSpecificSkipped:!0})}),(0,Te.t9)(A.conversationId,[{type:Re.pL,content:(0,h.Ru)("goal_clarification_specific_skipped")}]),p((0,S.VY)(Pe(Pe({},E),{},{isSpecificSkipped:!0})))}},(0,h.Ru)("skip_this_step"))),allowMore:!0,moreSuggestionsGetter:function(){return w?(0,v.JN)(w.title,e.meta.originalSuggestions||e.meta.suggestions):Promise.resolve([])}})}:function(e){return"suggestions"===e.contentType&&"deadline"===e.suggestionType}(e)?{side:e.side,content:l.createElement(Ee,{suggestions:e.meta.suggestions,onSuggestionSelected:function(e){var t=new Date(A.timeBoundSuggestions.find(function(t){return t.readableTime===e}).deadline);(0,Te.t9)(A.conversationId,[{type:Re.pL,content:e}]),(null==w?void 0:w._id)&&(0,v.TO)(w._id,{deadline:t}),p((0,S.d2)(Pe(Pe({},w),{},{deadline:t}))),p((0,S.yp)({content:e,side:"outgoing",contentType:"text"})),p((0,S.VY)(Pe(Pe({},E),{},{selectedDeadline:e,userReactedTimeBound:!0})))},allowCustomInput:!0,customInput:l.createElement("div",{className:"flex-row gap-col-8",style:{borderTop:"1px solid var(--color-dark-border)",paddingTop:12}},l.createElement(G.A,{needConfirm:!0,style:{flex:1},className:"is-deep",placeholder:(0,h.Ru)("goal_input_deadline_custom"),onChange:function(e){if(e){var t=e.toDate(),n=(0,U.gM)(t,void 0,"dd MMM yyyy");(0,Te.t9)(A.conversationId,[{type:Re.pL,content:n}]),(null==w?void 0:w._id)&&(0,v.TO)(w._id,{deadline:t}),p((0,S.d2)(Pe(Pe({},w),{},{deadline:t}))),p((0,S.yp)({content:n,side:"outgoing",contentType:"text"})),p((0,S.VY)(Pe(Pe({},E),{},{selectedDeadline:n,userReactedTimeBound:!0})))}},disabledDate:function(e){return e&&e<V()().startOf("day")},allowClear:!0}),l.createElement(g.Ay,{icon:l.createElement(pe.A,null),className:"is-deep",iconPosition:"end",onClick:function(){(null==w?void 0:w._id)&&(0,v.TO)(w._id,{smartProperties:Pe(Pe({},w.smartProperties),{},{isTimeBoundSkipped:!0})}),(0,Te.t9)(A.conversationId,[{type:Re.pL,content:(0,h.Ru)("goal_clarification_time_bound_skipped")}]),p((0,S.VY)(Pe(Pe({},E),{},{isTimeBoundSkipped:!0})))}},(0,h.Ru)("skip_this_step")))})}:function(e){return"questions"===e.contentType}(e)?{side:e.side,content:l.createElement("div",{className:"goal-setting-achievable-questions flex-col gap-row-16"},l.createElement(Ne,{needValidation:!0,questions:e.meta.questions,onDone:function(e){p((0,S.VY)(Pe(Pe({},E),{},{userReactedAchievable:!0,achievableAnswers:e.map(function(e){return{question:e.question,answer:Array.isArray(e.answer)?e.answer.join(", "):e.answer}})})))}}))}:function(e){return"achievableConfirm"===e.contentType}(e)?{side:e.side,content:l.createElement("div",{className:"goal-setting-achievable-questions flex-col gap-row-8"},l.createElement("b",null,(0,h.Ru)("goal_clarification_force_achievable_question")),l.createElement("div",{className:"flex-row gap-col-8"},l.createElement(g.Ay,{type:"primary",icon:l.createElement(B.A,null),className:"is-deep",onClick:function(){p((0,S.VY)(Pe(Pe({},E),{},{isAchievableSatisfied:!0})))}},(0,h.Ru)("goal_clarification_force_achievable_question_yes")),l.createElement(g.Ay,{icon:l.createElement(d.A,null),className:"is-deep",onClick:function(){(null==w?void 0:w._id)&&(0,v.TO)(w._id,{isArchived:!0,smartProperties:Pe(Pe({},w.smartProperties),{},{isAchievableSatisfied:!1})}),p((0,S.yp)({side:"incoming",contentType:"interactive",meta:{text:(0,h.Ru)("goal_clarification_force_achievable_answer_no_response"),buttons:[{type:"navigate",buttonType:"primary",text:(0,h.Ru)("common_back"),navigateTo:"/goals",icon:"left"}]}}))}},(0,h.Ru)("goal_clarification_force_achievable_question_no"))))}:function(e){return"interactive"===e.contentType}(e)?{side:e.side,content:l.createElement("div",{className:"goal-setting-interactive-questions flex-col gap-row-8"},l.createElement("span",null,e.meta.text),l.createElement("div",{className:"flex-row gap-x-8 justify-center"},null===(t=e.meta.buttons)||void 0===t?void 0:t.map(function(e){return l.createElement(g.Ay,{key:e.text,type:e.buttonType,icon:e.icon?{left:l.createElement(X.A,null),right:l.createElement(pe.A,null),up:l.createElement(me.A,null),down:l.createElement(fe.A,null)}[e.icon]:void 0,className:"is-deep",onClick:function(){"navigate"===e.type&&("/goals"===e.navigateTo?p((0,S.EY)(N.No.StarterGoals)):f(e.navigateTo))}},e.text)})))}:{side:e.side,content:e.content||""};var t}),isThinking:C,thinkingContent:l.createElement(be.A,{active:!0})}))):l.createElement(c.A,{active:!0}):null},Ie=(n(6209),n(97665)),De=n(93016),Ge=n(6984),Be=n(32977),Ye=n(34338),Me=De.A.Title,Ue=function(){var e=(0,k.wA)(),t=(0,qe.Zp)(),n=(0,Ie.jE)(),r=(0,y.S)().screenWidth,s=(0,l.useState)(r<=b.NU.sm),c=(0,a.A)(s,2),u=c[0],g=c[1];(0,l.useEffect)(function(){g(r<=b.NU.sm)},[r]);var d,p=(0,m.I)({queryKey:["goals"],queryFn:(d=(0,o.A)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.DX)());case 1:case"end":return e.stop()}},e)})),function(){return d.apply(this,arguments)})}),w=p.data,E=(0,f.n)({mutationFn:v.Au,onSuccess:function(){n.invalidateQueries({queryKey:["goals"]})}});return l.createElement("div",{className:"".concat(r<=b.NU.sm?"":"pad-left-right-16px")},l.createElement(Ge.A,{direction:"vertical",size:"large",style:{width:"100%"}},l.createElement("div",{className:"flex justify-between align-center gap-x-16"},l.createElement(Me,{level:2,className:"margin-0"},(0,h.Ru)("goals")),l.createElement(ye.A,{style:{borderRadius:8},size:u?"middle":"large",className:"is-deep add-goal-button bounce",icon:l.createElement(Be.A,null),onClick:function(){e((0,S.EY)(N.No.StarterGoals)),e((0,S.i_)())}},(0,h.Ru)("new_goal"))),l.createElement("div",{className:"goal-grid"},l.createElement(se.N,{mode:"popLayout"},(w||[]).map(function(e,n){return l.createElement(x.P.div,{key:e._id,className:"goal-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.05*n,ease:"easeOut"},whileHover:{scale:1.002},whileTap:{scale:.95}},l.createElement(Ye.A,{goal:e,onArchive:function(e){return E.mutate(e)},onClick:function(e){return t("/goals/".concat(e))}}))})))))},Fe=function(e,t){var n,o;return null!=e&&null!==(n=e.preferences)&&void 0!==n&&n.dob?null!=e&&null!==(o=e.preferences)&&void 0!==o&&o.goalSettingCategory?0===(t||[]).length?N.No.StarterGoals:N.No.GoalSetting:N.No.Categorization:N.No.AskingDob};const Le=function(){var e=(0,y.S)().user,t=(0,k.wA)(),n=(0,k.d4)(function(e){return e.goals.currentStep}),r=(0,l.useState)(20),w=(0,a.A)(r,2),x=w[0],E=w[1],_=(0,y.S)(),O=_.themeColor,T=_.screenWidth,R=(0,l.useState)(!1),q=(0,a.A)(R,2),z=q[0],P=q[1],j=(0,l.useState)(T<=b.NU.sm),I=(0,a.A)(j,2),G=I[0],B=I[1];(0,l.useEffect)(function(){B(T<=b.NU.sm)},[T]),(0,l.useLayoutEffect)(function(){if(!G){var e=document.querySelector(".goal-setting-steps-wrapper [data-panel-group]"),t=document.querySelectorAll(".goal-setting-steps-wrapper [data-panel-resize-handle]"),n=new ResizeObserver(function(){if(e){var n=e.offsetWidth;t.forEach(function(e){n-=e.offsetWidth}),E(320/n*100)}});return e&&(n.observe(e),t.forEach(function(e){n.observe(e)})),function(){n.disconnect()}}},[G]),(0,l.useEffect)(function(){t((0,S.O8)(new Date))},[]);var Y,M=(0,m.I)({queryKey:["goals"],queryFn:(Y=(0,o.A)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.DX)());case 1:case"end":return e.stop()}},e)})),function(){return Y.apply(this,arguments)})}),U=M.data,F=M.isLoading,L=(0,f.n)({mutationFn:v.Ol,onSuccess:function(e){(0,Te.t9)(e.conversationId,[{type:Re.pL,content:e.title}]),t((0,S.d2)(e)),t((0,S.yt)([])),t((0,S.EY)(N.No.GoalConfirmation))},onError:function(e){s.Ay.error((0,h.Ru)("error_creating_goal"))}});(0,l.useEffect)(function(){var n,o;F||(null!=e&&null!==(n=e.preferences)&&void 0!==n&&n.dob?null!=e&&null!==(o=e.preferences)&&void 0!==o&&o.goalSettingCategory?0===(U||[]).length?t((0,S.EY)(N.No.StarterGoals)):t((0,S.EY)(N.No.GoalSetting)):t((0,S.EY)(N.No.Categorization)):t((0,S.EY)(N.No.AskingDob)))},[F]);if(!e)return l.createElement(c.A,{active:!0});var W=l.createElement("div",{className:"goal-setting-steps-content flex-col"},F?l.createElement(c.A,{active:!0}):function(){if(!e)return null;switch(n){case N.No.Loading:return l.createElement(c.A,{active:!0});case N.No.Categorization:return l.createElement(D,null);case N.No.AskingDob:return l.createElement(Q,null);case N.No.ConfirmGoalSettingCategory:return l.createElement($,null);case N.No.StarterGoals:return l.createElement(ee.T,{onGoalAdded:function(e){t((0,S.d2)(e)),t((0,S.yt)([])),L.mutate(e)}});case N.No.GoalConfirmation:return l.createElement(ge,{onConfirm:function(){return t((0,S.EY)(N.No.GoalClarification))},onBack:function(){return t((0,S.EY)(N.No.StarterGoals))}});case N.No.GoalClarification:return l.createElement(je,null);case N.No.GoalSetting:return l.createElement(Ue,null);default:return null}}()),V=l.createElement("div",{className:"music-mix-panel"},l.createElement(A,{onSelectDay:function(){}}));return l.createElement(l.Fragment,null,l.createElement("div",{className:"goal-setting-steps-wrapper flex-1 pointer-events-none"},G?l.createElement(l.Fragment,null,W,l.createElement(u.A,{title:(0,h.Ru)("hidden_gem"),rootClassName:"lazyvax lzv-theme-".concat(O),placement:"right",onClose:function(){return P(!1)},open:z,width:"100vw",styles:{body:{padding:8}}},V)):l.createElement(C.YZ,{direction:"horizontal"},l.createElement(C.Zk,{defaultSize:80,minSize:50},W),l.createElement(C.TW,{className:"panel-resize-handle"}),l.createElement(C.Zk,{defaultSize:20,minSize:x},V))),G&&l.createElement("div",{style:{position:"fixed",right:8,top:8,zIndex:9999}},l.createElement(g.Ay,{style:{color:"var(--color-primary-bg)"},size:"large",icon:z?l.createElement(d.A,null):l.createElement(p.A,null),onClick:function(){return P(!z)},type:"text"})))}},84226:(e,t,n)=>{var o=n(85072),a=n.n(o),r=n(97825),i=n.n(r),l=n(77659),s=n.n(l),c=n(55056),u=n.n(c),g=n(10540),d=n.n(g),p=n(41113),m=n.n(p),f=n(10967),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=d();var b=a()(f.default,v);if(!f.default.locals||e.hot.invalidate){var h=!f.default.locals,y=h?f:f.default.locals;e.hot.accept(10967,t=>{f=n(10967),function(e,t,n){if(!e&&t||e&&!t)return!1;var o;for(o in e)if((!n||"default"!==o)&&e[o]!==t[o])return!1;for(o in t)if(!(n&&"default"===o||e[o]))return!1;return!0}(y,h?f:f.default.locals,h)?(y=h?f:f.default.locals,b(f.default)):e.hot.invalidate()})}e.hot.dispose(function(){b()});f.default&&f.default.locals&&f.default.locals}}]);