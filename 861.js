"use strict";(self.webpackChunklazyvax_ext=self.webpackChunklazyvax_ext||[]).push([[861],{79861:(e,t,r)=>{r.r(t),r.d(t,{default:()=>nt});var a=r(64467),n=r(5544),o=r(97072),l=(r(25339),r(71988)),i=r(96540),c=r(88652),d=r(6463),s=r(62542),u=r(42569),p=r(86319),w=r(71099),v=r(63170),f=r(87353),y=r(71468),m=r(84129);r(13474),r(81695),r(42198),r(82960);r(51743);var g=r(95927),k=r(83186),h=r(40864),b=r(67230),x=r(69975),E=r(61400),D=r(10467),_=r(54756),S=r.n(_),A=r(15039),O=r(91196),C=r(84972),R=r(37977),T=r(64132),N=r(78751),j=r(28073),z=r(50329),M=r(68e3),P=r(78602),H=r(90096),I=r(92089),F=r(74353),q=r.n(F),U=r(34878),Q=r(21391),W=r(81631),V=r(80203),Y=r(5060),L=r(7566),B=r(20274),K=r(38888),G=r(49785),J=r(38342),X=r(97665),$=(0,i.createContext)(void 0);function Z(e){var t=e.children,r=(0,i.useState)({draggedEvent:null,draggedFromDate:null}),a=(0,n.A)(r,2),o=a[0],l=a[1],c=!!o.draggedEvent;return i.createElement($.Provider,{value:{dragState:o,setDraggedEvent:function(e,t){l(null===e?{draggedEvent:null,draggedFromDate:null}:{draggedEvent:e,draggedFromDate:t})},isDragging:c,isCrossDayDrag:function(e){return!(!o.draggedFromDate||!c)&&o.draggedFromDate.toDateString()!==e.toDateString()}}},t)}var ee=r(85015),te=r(51643),re=r(42702);function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e){var t=e.targetDate,r=e.startTotalMinutes,a=e.onEventUpdate,o=e.onEventError,l=e.onEventSuccess,d=e.weekStartDate,p=e.weekEndDate,w=(0,X.jE)(),v=(0,y.wA)(),f=function(){var e=(0,i.useContext)($);if(void 0===e)throw new Error("useWeekDrag must be used within a WeekDragProvider");return e}(),g=f.dragState,k=f.setDraggedEvent,h=f.isDragging,b=f.isCrossDayDrag,x=ee.A.useApp().modal,E=(0,i.useState)({draggedEvent:null,dropTime:null}),_=(0,n.A)(E,2),A=_[0],O=_[1],C=(0,i.useCallback)((function(e,r){k(r,t),e.dataTransfer.effectAllowed="move"}),[k,t]),R=(0,i.useCallback)((function(){O({draggedEvent:null,dropTime:null}),g.draggedEvent&&k(null,null)}),[k,g.draggedEvent]),T=(0,i.useCallback)((function(e,a){if(e.preventDefault(),e.dataTransfer.dropEffect="move",a&&h){var n=a.getBoundingClientRect(),o=e.clientY-n.top+a.scrollTop,l=(0,L.qI)(o/Q.n.HOUR_HEIGHT*60),i=r+l,c=Math.floor(i/60),d=i%60,s=new Date(t);s.setHours(c,d,0,0),O((function(e){return ne(ne({},e),{},{dropTime:s})}))}}),[t,r,h]),N=(0,i.useCallback)((function(){O((function(e){return ne(ne({},e),{},{dropTime:null})}))}),[]),j=(0,i.useCallback)(function(){var e=(0,D.A)(S().mark((function e(t){var r,n,c,f,y,k,h,b,E;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=g.draggedEvent,n=A.dropTime,r&&n&&r._id){e.next=6;break}return R(),e.abrupt("return");case 6:if(c=r.endDate&&r.startDate?(0,G.o)(new Date(r.endDate),new Date(r.startDate)):Q.n.DEFAULT_EVENT_DURATION,f=(0,J.z)(n,c),y=r._id,R(),a(y,{startDate:n,endDate:f},"update"),k=function(){var e=(0,D.A)(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d||!p){e.next=5;break}return e.next=3,(0,s.J7)(d,p);case 3:t=e.sent,v((0,m.H8)(t));case 5:return e.next=7,w.invalidateQueries({queryKey:["day-events"]});case 7:return e.next=9,w.invalidateQueries({queryKey:["events"]});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,D.A)(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("this"!==t){e.next=5;break}return e.next=3,(0,s.qM)({_id:y,startDate:n,endDate:f});case 3:e.next=7;break;case 5:return e.next=7,(0,s.X3)(y,{startDate:n,endDate:f},t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=13,null===(b=r.recurrence)||void 0===b||!b.rrule){e.next=20;break}return E="this",e.next=18,new Promise((function(e,t){var r,a;x.confirm({title:(0,u.Ru)("common_confirm"),content:i.createElement(te.Ay.Group,{defaultValue:"this",onChange:function(e){return E=e.target.value}},i.createElement(re.A,{direction:"vertical"},i.createElement(te.Ay,{value:"this"},(0,u.Ru)("recurring_event_this")),i.createElement(te.Ay,{value:"future"},(0,u.Ru)("recurring_event_following")),i.createElement(te.Ay,{value:"all"},(0,u.Ru)("recurring_event_all")))),onOk:(a=(0,D.A)(S().mark((function r(){return S().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,h(E);case 3:return r.next=5,k();case 5:l(y),e(),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(0),o(y,"update"),t(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,9]])}))),function(){return a.apply(this,arguments)}),onCancel:(r=(0,D.A)(S().mark((function t(){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k();case 3:return t.prev=3,l(y),e(),t.finish(3);case 7:case"end":return t.stop()}}),t,null,[[0,,3,7]])}))),function(){return r.apply(this,arguments)}),okText:(0,u.Ru)("common_ok"),okButtonProps:{className:"is-deep"},cancelText:(0,u.Ru)("common_cancel"),cancelButtonProps:{className:"is-deep"}})}));case 18:e.next=25;break;case 20:return e.next=22,h("this");case 22:return e.next=24,k();case 24:l(y);case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(13),o(y,"update");case 31:case"end":return e.stop()}}),e,null,[[13,27]])})));return function(t){return e.apply(this,arguments)}}(),[g.draggedEvent,A.dropTime,a,o,l,w,R,d,p,v]),z=h&&(!b(t)&&(0,c.r)(t,g.draggedFromDate)||b(t)&&!!A.dropTime);return{dragState:{draggedEvent:g.draggedEvent,dropTime:A.dropTime},draggedFromDate:g.draggedFromDate,handleDragStart:C,handleDragEnd:R,handleDragOver:T,handleDragLeave:N,handleDrop:j,shouldShowDropIndicator:z,isCrossDayDrag:b(t)}}const le=function(e){var t=e.date,r=e.events,a=e.startHour,n=e.endHour,o=e.onEdit,l=e.onStatusChange,d=e.onCreateEvent,s=e.updateEventOptimistic,u=e.setEventError,p=e.clearEventStatus,w=e.retryEventUpdate,v=e.getEventStatus,f=e.weekStartDate,y=e.weekEndDate,m=e.scrollContainerRef,g=(0,i.useRef)(null),k=(0,i.useMemo)((function(){return r.filter((function(e){return e.startDate&&(0,c.r)(new Date(e.startDate),t)}))}),[r,t]),h=(0,i.useMemo)((function(){return k.filter((function(e){return!e.allDayEvent}))}),[k]),b=(0,i.useMemo)((function(){return(0,B.H$)(h)}),[h]),x=(0,i.useMemo)((function(){return(0,L.Ws)(a,Q.r.START_MINUTE)}),[a]),E=oe({targetDate:t,startTotalMinutes:x,onEventUpdate:s,onEventError:u,onEventSuccess:p,weekStartDate:f,weekEndDate:y});return i.createElement("div",{className:"week-day-column"},i.createElement("div",{className:"week-day-content"},i.createElement("div",{className:"week-day-body",ref:g},i.createElement(K.A,{events:h,eventLayouts:b,startHour:a,endHour:n,selectedDateIso:t.toISOString(),calendarRef:g,scrollContainerRef:m,onEditEvent:o,onStatusChange:l,onCreateEvent:d,updateEventOptimistic:s,setEventError:u,clearEventStatus:p,retryEventUpdate:w,getEventStatus:v,crossDayDragHandlers:{onDragStart:E.handleDragStart,onDragEnd:E.handleDragEnd,onDragOver:E.handleDragOver,onDragLeave:E.handleDragLeave,onDrop:E.handleDrop,shouldShowDropIndicator:E.shouldShowDropIndicator,dropTime:E.dragState.dropTime,draggedEvent:E.dragState.draggedEvent,draggedFromDate:E.draggedFromDate}}))))};var ie=r(2622);const ce=function(e){var t=e.date,r=e.isToday,a=e.onClick,n=(0,ie.Ex)((0,k.vv)()),o=(0,I.GP)(t,"EEE",{locale:n}),l=(0,I.GP)(t,"d",{locale:n});return i.createElement("div",{className:"week-day-header flex gap-4 align-center ".concat(r?"is-today":""),onClick:function(){null==a||a(t)}},i.createElement("div",{className:"day-of-week"},o),i.createElement("div",{className:"day-of-month ".concat(r?"today-circle":"")},l))};var de=r(60436),se=r(55166),ue=r(98163),pe=r(48497),we=r(47402),ve=r(2831),fe=r(12268);function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e){return!(!e.startDate||!e.endDate)&&(!e.allDayEvent&&(0,ue.M)(new Date(e.endDate),new Date(e.startDate))>24)}function ke(e,t){var r=[];return e.forEach((function(e){var a=function(e,t){if(!e.startDate||!e.endDate)return null;if(!e.allDayEvent&&!ge(e))return null;var r=!e.allDayEvent&&ge(e),a=(0,d.o)(new Date(e.startDate)),n=(0,d.o)(new Date(e.endDate)),o=t[0],l=t[t.length-1],i=(0,pe.Y)(a,o),s=(0,we.d)(n,l),u=i?o:a,p=s?l:n,w=t.findIndex((function(e){return(0,c.r)(e,u)}));if(-1===w)return null;var v=e.allDayEvent?(0,ve.m)(p,u):(0,ve.m)(p,u)+1,f=Math.min(v,t.length-w);return f<=0?null:{startCol:w,spanCols:f,continuesLeft:i,continuesRight:s,visibleStartDate:u,visibleEndDate:p,isTimedEvent:r}}(e,t);if(a){for(var n=me(me({event:e},a),{},{row:0}),o=0,l=!1;!l;){0===r.filter((function(e){return e.row===o&&(r=n,a=(t=e).startCol+t.spanCols-1,l=r.startCol+r.spanCols-1,!(a<r.startCol||l<t.startCol));var t,r,a,l})).length?(n.row=o,l=!0):o++}r.push(n)}})),r}var he=r(87959),be=r(31882),xe=r(32977),Ee=r(26067),De=r(40261),_e=r(93598),Se=r(82734),Ae=r(55646),Oe=r(17825),Ce=r(47767),Re=r(7080),Te=r(66019);function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ze=(0,i.memo)((function(e){var t=e.layout,r=e.onEdit,a=e.onStatusChange,o=e.getEventStatus,l=e.onRetry,c=t.event,d=t.continuesLeft,w=t.continuesRight,v=t.isTimedEvent,f=ee.A.useApp().modal,h=(0,g.S)(),b=h.user,x=h.themeColor,E=(0,Ce.Zp)(),_=(0,y.wA)(),A=(0,X.jE)(),O=(0,i.useState)(!1),C=(0,n.A)(O,2),N=C[0],P=C[1],H=(0,i.useState)(!1),F=(0,n.A)(H,2),q=F[0],U=F[1],Q=(0,i.useState)(!1),W=(0,n.A)(Q,2),V=W[0],Y=W[1],L=(0,i.useState)(!1),B=(0,n.A)(L,2),K=B[0],G=B[1],J=(0,i.useMemo)((function(){return(0,ie.ad)(c.title)}),[c.title]),$=J.emoji,Z=J.text,ae=(0,i.useMemo)((function(){if(!v||!c.startDate||!c.endDate)return null;var e=(0,I.GP)(new Date(c.startDate),"MMM d, h:mm a"),t=(0,I.GP)(new Date(c.endDate),"MMM d, h:mm a");return"".concat(e," - ").concat(t)}),[v,c.startDate,c.endDate]);if(!c._id||!b)return null;var ne=o(c._id),oe=(0,Oe.nM)(c,b),le=c.title.split(" "),ce=(0,ie.Ve)(le[0]),de=ce?le.slice(1).join(" "):c.title,se=ce?le[0]:"",ue=function(){var e=(0,D.A)(S().mark((function e(t,r){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),Y(!0),P(!1),n=r===p.vV?p.c:p.vV,c._id&&(null==a||a(c._id,n)),setTimeout((function(){Y(!1)}),300);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),pe=function(){var e=(0,D.A)(S().mark((function e(t){var r,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),oe&&c._id){e.next=3;break}return e.abrupt("return");case 3:P(!1),U(!1),null!==(r=c.recurrence)&&void 0!==r&&r.rrule?(a="this",f.confirm({title:(0,u.Ru)("delete_recurring_event_title"),content:i.createElement(te.Ay.Group,{defaultValue:"this",onChange:function(e){return a=e.target.value}},i.createElement(re.A,{direction:"vertical"},i.createElement(te.Ay,{value:"this"},(0,u.Ru)("recurring_event_this")),i.createElement(te.Ay,{value:"future"},(0,u.Ru)("recurring_event_following")),i.createElement(te.Ay,{value:"all"},(0,u.Ru)("recurring_event_all")))),onOk:function(){var e=(0,D.A)(S().mark((function e(){var t,r,n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.SX)(c._id,a);case 3:"this"===a?_((0,m.yQ)(c._id)):"future"!==a&&"all"!==a||(n=(null===(t=c.recurrence)||void 0===t?void 0:t.recurrenceId)||c._id,_((0,m.Vw)({recurrenceId:n,deleteType:a,fromStartDate:"future"===a?null===(r=c.startDate)||void 0===r?void 0:r.toISOString():void 0}))),A.invalidateQueries({queryKey:["day-events"]}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),okText:(0,u.Ru)("ok"),okButtonProps:{className:"is-deep"},cancelText:(0,u.Ru)("cancel"),cancelButtonProps:{className:"is-deep"}})):f.confirm({title:(0,u.Ru)("delete_event_confirm_title"),content:(0,u.Ru)("delete_event_confirm_content"),onOk:function(){var e=(0,D.A)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.SX)(c._id);case 3:_((0,m.yQ)(c._id)),A.invalidateQueries({queryKey:["day-events"]}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),okText:(0,u.Ru)("ok"),okButtonProps:{className:"is-deep"},cancelText:(0,u.Ru)("cancel"),cancelButtonProps:{className:"is-deep"}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=(0,D.A)(S().mark((function e(t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c._id){e.next=2;break}return e.abrupt("return");case 2:return G(!1),r=(0,Te.YR)(t),_((0,m.tQ)(je(je({},c),{},{color:r||void 0}))),e.prev=5,e.next=8,(0,s.qM)({_id:c._id,color:r||void 0});case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(5),he.Ay.error((0,u.Ru)("error_updating_events")),e.next=16,A.invalidateQueries({queryKey:["day-events"]});case 16:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=(0,D.A)(S().mark((function e(t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c._id){e.next=2;break}return e.abrupt("return");case 2:return G(!1),r=t?"".concat(t," ").concat(Z):Z,_((0,m.tQ)(je(je({},c),{},{title:r}))),e.prev=5,e.next=8,(0,s.qM)({_id:c._id,title:r});case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(5),he.Ay.error((0,u.Ru)("error_updating_events")),e.next=16,A.invalidateQueries({queryKey:["day-events"]});case 16:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=(0,D.A)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c._id){e.next=2;break}return e.abrupt("return");case 2:return G(!1),_((0,m.tQ)(je(je({},c),{},{title:Z}))),e.prev=4,e.next=7,(0,s.qM)({_id:c._id,title:Z});case 7:e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(4),he.Ay.error((0,u.Ru)("error_updating_events")),e.next=15,A.invalidateQueries({queryKey:["day-events"]});case 15:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}(),ye=i.createElement(re.A,{size:"small"},i.createElement(j.A,{content:i.createElement(Te.Ay,{selectedColor:(0,Te.EC)(c.color||""),selectedIcon:$,onColorSelect:we,onIconSelect:ve,onIconClear:fe}),trigger:"click",placement:"top",open:K,onOpenChange:function(e){G(e),e&&P(!1)}},i.createElement(R.A,{title:oe?(0,u.Ru)("icon_picker_open"):(0,u.Ru)("event_not_owner_tooltip")},i.createElement("span",null,i.createElement(T.Ay,{type:"text",className:"no-effect",icon:i.createElement(be.A,null),size:"small",disabled:!oe})))),i.createElement(R.A,{title:(0,u.Ru)("start_working_on_this")},i.createElement("span",null,i.createElement(T.Ay,{type:"text",className:"no-effect",icon:i.createElement(xe.A,{style:{color:"var(--color-primary)"}}),onClick:function(e){e.stopPropagation(),oe&&(_((0,Re.Lz)((0,Re.l9)(c))),E(k.zb.path))},size:"small",disabled:!oe}))),i.createElement(R.A,{title:(0,u.Ru)(c.status===p.vV?"mark_as_not_done":"mark_as_done")},i.createElement(T.Ay,{type:"text",icon:i.createElement(Ee.A,null),onClick:function(e){return ue(e,c.status)},size:"small",className:"action-done ".concat(c.status===p.vV?"is-done":"")})),i.createElement(R.A,{title:oe?(0,u.Ru)("event_edit"):(0,u.Ru)("event_not_owner_tooltip")},i.createElement("span",null,i.createElement(T.Ay,{type:"text",icon:i.createElement(De.A,null),onClick:function(e){e.stopPropagation(),oe&&(P(!1),U(!1),r(c,t.visibleStartDate))},size:"small",disabled:!oe}))),i.createElement(R.A,{title:oe?(0,u.Ru)("event_remove"):(0,u.Ru)("event_not_owner_tooltip")},i.createElement("span",null,i.createElement(T.Ay,{type:"text",className:"no-effect",icon:i.createElement(_e.A,null),onClick:pe,danger:!0,size:"small",disabled:!oe})))),me=i.createElement("div",{className:"event-details-popover"},i.createElement("h3",null,c.title),i.createElement("p",{className:"event-time-details"},v&&ae?ae:(0,u.Ru)("all_day")),c.description&&i.createElement(Ae.A,{description:c.description}),i.createElement("div",{className:"event-details-actions"},ye)),ge=function(e){return{gridColumn:"".concat(e.startCol+1," / span ").concat(e.spanCols),gridRow:e.row+1}}(t),ke=i.createElement("div",{className:"spanning-all-day-event ".concat(v?"timed":""," ").concat(V?"done-animation":""," ").concat(c.status===p.vV?"is-done":""," ").concat(d?"continues-left":""," ").concat(w?"continues-right":""," ").concat(ne.isLoading?"loading":""," ").concat(ne.isError?"error":""),style:{gridColumn:ge.gridColumn,gridRow:ge.gridRow,backgroundColor:c.color?(0,Te.EC)(c.color):void 0},onClick:function(e){e.stopPropagation(),U(!q)}},d&&i.createElement(R.A,{title:(0,u.Ru)("continues_from_previous_week")},i.createElement(z.A,{className:"continues-indicator left"})),i.createElement("div",{className:"spanning-event-content"},v&&i.createElement(Se.A,{className:"event-time-icon"}),se&&i.createElement("span",{className:"event-emoji"},se),i.createElement("span",{className:"event-title"},de),v&&ae&&i.createElement("span",{className:"event-time-label"},ae),ne.isError&&i.createElement("button",{className:"retry-button",onClick:function(e){e.stopPropagation(),l(c._id)}},(0,u.Ru)("common_retry"))),w&&i.createElement(R.A,{title:(0,u.Ru)("continues_to_next_week")},i.createElement(M.A,{className:"continues-indicator right"})));return i.createElement(j.A,{content:me,title:null,trigger:"click",placement:"bottom",open:q,onOpenChange:U,mouseLeaveDelay:.5,classNames:{root:"event-details-popover"}},i.createElement(j.A,{content:ye,trigger:"hover",placement:"top",open:N&&!q,onOpenChange:P,mouseLeaveDelay:.5,classNames:{root:"event-actions-popover lzv-theme-".concat(x)}},ke))}));ze.displayName="SpanningAllDayEvent";const Me=ze;var Pe=(0,i.memo)((function(e){var t=e.events,r=e.weekDays,a=e.onEdit,n=e.onStatusChange,o=e.getEventStatus,l=e.onRetry,c=(0,i.useMemo)((function(){return function(e,t){if(0===t.length)return[];var r=(0,d.o)(t[0]),a=(0,fe.D)(t[t.length-1]);return e.filter((function(e){if(!e.startDate||!e.endDate)return!1;if(!e.allDayEvent&&!ge(e))return!1;var t=(0,d.o)(new Date(e.startDate)),n=(0,d.o)(new Date(e.endDate));return!((0,we.d)(t,a)||(0,pe.Y)(n,r))}))}(t,r)}),[t,r]),s=(0,i.useMemo)((function(){return ke(c,r)}),[c,r]),p=(0,i.useMemo)((function(){return 0===s.length?1:Math.max.apply(Math,(0,de.A)(s.map((function(e){return e.row}))))+1}),[s]),w=(0,i.useMemo)((function(){return"repeat(".concat(p,", minmax(28px, auto))")}),[p]);return i.createElement("div",{className:"week-all-day-row"},i.createElement("div",{className:"week-all-day-header"},i.createElement(se.A.Text,{className:"all-day-events-label"},(0,u.Ru)("all_day"))),i.createElement("div",{className:"week-all-day-grid",style:{gridTemplateColumns:"repeat(".concat(r.length,", 1fr)"),gridTemplateRows:w}},s.map((function(e){return i.createElement(Me,{key:"".concat(e.event._id,"-").concat(e.startCol),layout:e,onEdit:a,onStatusChange:n,getEventStatus:o,onRetry:l})}))))}));Pe.displayName="AllDayRowsContainer";const He=Pe;var Ie=r(80337),Fe=r(54352),qe=r(67670),Ue=r(79114),Qe=r(1045),We=r(16172);function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.z,r=(0,Ie.k)(e,{weekStartsOn:t}),a=(0,Fe.$)(e,{weekStartsOn:t});return(0,qe.k)({start:r,end:a})}var Ye=r(55285),Le=r(67466);r(70467),r(76837),r(37819);function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ge=(0,i.memo)((function(e){var t=e.date,r=e.onPrevious,n=e.onNext,o=e.onDateChange,l=e.onToday,d=e.showTodayButton,s=void 0===d||d,p=e.config,w=e.onConfigChange,v=(0,y.d4)((function(e){return e.global.weekStartsOn})),f=(0,i.useMemo)((function(){return Ve(t,v)}),[t,v]),m=function(e,t){w(Ke(Ke({},p),{},{visibleDays:Ke(Ke({},p.visibleDays),{},(0,a.A)({},e,t))}))},g=i.createElement("div",{className:"week-calendar-config-popover flex-col gap-x-8"},i.createElement("div",null,i.createElement("div",{className:"flex align-center justify-between gap-x-16"},i.createElement("div",null,(0,u.Ru)("hide_completed_activities")),i.createElement(A.A,{checked:p.hideCompletedActivities,onChange:function(e){w(Ke(Ke({},p),{},{hideCompletedActivities:e}))},size:"small"}))),i.createElement("div",null,i.createElement("div",{className:"mb-8px"},(0,u.Ru)("visible_days")),i.createElement("div",{className:"flex-col pad-left-8px"},i.createElement(O.A,{checked:p.visibleDays.monday,onChange:function(e){return m("monday",e.target.checked)}},(0,u.Ru)("common_monday")),i.createElement(O.A,{checked:p.visibleDays.tuesday,onChange:function(e){return m("tuesday",e.target.checked)}},(0,u.Ru)("common_tuesday")),i.createElement(O.A,{checked:p.visibleDays.wednesday,onChange:function(e){return m("wednesday",e.target.checked)}},(0,u.Ru)("common_wednesday")),i.createElement(O.A,{checked:p.visibleDays.thursday,onChange:function(e){return m("thursday",e.target.checked)}},(0,u.Ru)("common_thursday")),i.createElement(O.A,{checked:p.visibleDays.friday,onChange:function(e){return m("friday",e.target.checked)}},(0,u.Ru)("common_friday")),i.createElement(O.A,{checked:p.visibleDays.saturday,onChange:function(e){return m("saturday",e.target.checked)}},(0,u.Ru)("common_saturday")),i.createElement(O.A,{checked:p.visibleDays.sunday,onChange:function(e){return m("sunday",e.target.checked)}},(0,u.Ru)("common_sunday")))),i.createElement("div",{className:"mt-8px"},i.createElement("div",{className:"mb-8px"},(0,u.Ru)("calendar_days_to_show")),i.createElement(C.A,{value:p.daysToShow||7,style:{width:200},onChange:function(e){return w(Ke(Ke({},p),{},{daysToShow:e}))},options:[{value:7,label:(0,u.Ru)("calendar_days_option_whole_week")},{value:1,label:(0,u.Ru)("calendar_days_option_1")},{value:2,label:(0,u.Ru)("calendar_days_option_2")},{value:3,label:(0,u.Ru)("calendar_days_option_3")},{value:5,label:(0,u.Ru)("calendar_days_option_5")}]})),i.createElement("div",{className:"mt-8px"},i.createElement("div",{className:"mb-8px"},(0,u.Ru)("calendar_hours_range")),i.createElement("div",{className:"flex gap-x-8 align-center"},i.createElement(C.A,{value:p.startHour,style:{width:95},onChange:function(e){return w(Ke(Ke({},p),{},{startHour:e}))},options:Array.from({length:24},(function(e,t){return{value:t,label:"".concat(t.toString().padStart(2,"0"),":00")}}))}),i.createElement("span",null,"-"),i.createElement(C.A,{value:p.endHour,style:{width:95},onChange:function(e){return w(Ke(Ke({},p),{},{endHour:e}))},options:Array.from({length:25},(function(e,t){return{value:t,label:24===t?"24:00":"".concat(t.toString().padStart(2,"0"),":00")}}))})))),h=(0,i.useMemo)((function(){return 7===(p.daysToShow||7)?(0,H.R)(t,new Date):(0,c.r)(t,new Date)}),[p.daysToShow,t]);return i.createElement("div",{className:"week-calendar-toolbar"},i.createElement("div",{className:"week-calendar-toolbar-content full-width flex justify-between"},i.createElement("div",{className:"week-calendar-toolbar-label flex gap-x-4 align-center"},i.createElement("span",null,(0,ie.Sn)((0,I.GP)(f[0],"MMMM",{locale:(0,ie.Ex)((0,k.vv)())}))),i.createElement("span",null,f[0].getFullYear()),i.createElement(R.A,{title:(0,u.Ru)("common_previous_week")},i.createElement(T.Ay,{shape:"circle",type:"text",icon:i.createElement(z.A,null),onClick:r})),i.createElement(R.A,{title:(0,u.Ru)("common_next_week")},i.createElement(T.Ay,{shape:"circle",type:"text",icon:i.createElement(M.A,null),onClick:n}))),i.createElement("div",{className:"flex gap-x-8 align-center"},s&&!h&&i.createElement(T.Ay,{type:"link",onClick:function(){var e=new Date;o(e),null==l||l()}},7===(p.daysToShow||7)?(0,u.Ru)("common_this_week"):(0,u.Ru)("common_today")),i.createElement(N.A,{variant:"filled",value:q()(t),onChange:function(e){e&&o(e.toDate())},allowClear:!1,picker:7===(p.daysToShow||7)?"week":"date",showWeek:!1,format:function(e){if(!e)return"";var t=p.daysToShow||7;if(7===t){var r=e.startOf("week"),a=e.endOf("week");return"".concat(r.format("MMM D")," - ").concat(a.format("MMM D, YYYY"))}var n=e.startOf("day"),o=e.add(t-1,"day").endOf("day");return"".concat(n.format("MMM D")," - ").concat(o.format("MMM D, YYYY"))}}),i.createElement(j.A,{content:g,title:(0,u.Ru)("calendar_settings"),trigger:"click",placement:"bottomRight"},i.createElement(R.A,{title:(0,u.Ru)("calendar_settings")},i.createElement(T.Ay,{shape:"circle",type:"text",icon:i.createElement(P.A,null)}))))))}));const Je=function(e){var t,r,a=e.events,o=e.selectedDateIso,l=e.onDateChange,u=e.height,w=(e.title,e.titleTooltip,e.hideHeader),v=void 0!==w&&w,f=e.weekStartsOn,g=void 0===f?p.z:f,k=e.onToday,b=e.showTodayButton,x=void 0===b||b,E=(0,y.wA)(),_=(0,i.useRef)(null),A=(0,i.useMemo)((function(){return new Date(o)}),[o]),O=(0,Ye.lW)(),C={hideCompletedActivities:!1,visibleDays:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!0,sunday:!0},daysToShow:7,startHour:Q.r.START_HOUR,endHour:Q.r.END_HOUR},R=(0,Le.A)("week-calendar-config",C),T=(0,n.A)(R,2),N=T[0],j=T[1],z=function(e){var t=(0,i.useState)(!1),r=(0,n.A)(t,2),a=r[0],o=r[1],l=(0,i.useState)(!1),c=(0,n.A)(l,2),d=c[0],s=c[1],u=(0,i.useState)(0),p=(0,n.A)(u,2),w=p[0],v=p[1];return(0,i.useEffect)((function(){v(function(){var e,t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var r=document.createElement("div");t.appendChild(r);var a=t.offsetWidth-r.offsetWidth;return null===(e=t.parentNode)||void 0===e||e.removeChild(t),a}())}),[]),(0,i.useEffect)((function(){var t=e.current;if(!t)return o(!1),void s(!1);var r=function(){var e=t.scrollHeight>t.clientHeight,r=t.scrollWidth>t.clientWidth;o(e),s(r)};r();var a=new ResizeObserver((function(){r()}));a.observe(t);var n=new MutationObserver((function(){r()}));return n.observe(t,{childList:!0,subtree:!0,attributes:!0}),function(){a.disconnect(),n.disconnect()}}),[e]),{hasVerticalScrollbar:a,hasHorizontalScrollbar:d,scrollbarWidth:w}}(_),M=z.hasVerticalScrollbar,P=(0,i.useMemo)((function(){var e=["week-calendar-wrapper"];return M&&e.push("has-vertical-scrollbar"),O.width<=768&&e.push("mobile"),e.join(" ")}),[M,O.width]),H=(0,i.useCallback)((function(e){j(e)}),[j]),I=(0,i.useMemo)((function(){var e=N.daysToShow||7;return 7===e?Ve(A,g):function(e,t){for(var r=(0,d.o)(e),a=[],n=0;n<t;n+=1)a.push((0,We.f)(r,n));return a}(A,e)}),[A,g,N.daysToShow]),F=(0,i.useMemo)((function(){if(7!==(N.daysToShow||7))return I;var e={1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday",0:"sunday"};return I.filter((function(t){var r=e[t.getDay()];return N.visibleDays[r]}))}),[I,N.visibleDays,N.daysToShow]),q=(0,i.useMemo)((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.z;return{start:(0,Ie.k)(e,{weekStartsOn:t}),end:(0,Fe.$)(e,{weekStartsOn:t})}}(A,g)}),[A,g]),L=(0,V.p)({initEvents:a}),B=L.events,K=L.updateEventOptimistic,G=L.setEventError,J=L.clearEventStatus,X=L.retryEventUpdate,$=L.getEventStatus,ee=(0,i.useMemo)((function(){return N.hideCompletedActivities?B.filter((function(e){return e.status!==p.vV})):B}),[B,N.hideCompletedActivities]),te=(0,W.f)(),re=te.editingEvent,ae=te.isModalVisible,ne=te.openCreateModal,oe=te.openEditModal,ie=te.closeModal,de=(0,i.useCallback)((function(e){E((0,U.un)(e.toISOString())),null==l||l(e)}),[E,l]),se=(0,i.useCallback)((function(){var e,t=N.daysToShow||7,r=7===t?(e=A,(0,Qe.k)(e,1)):function(e,t){return(0,We.f)(e,-t)}(A,t);de(r)}),[A,de,N.daysToShow]),ue=(0,i.useCallback)((function(){var e,t=N.daysToShow||7,r=7===t?(e=A,(0,Ue.J)(e,1)):function(e,t){return(0,We.f)(e,t)}(A,t);de(r)}),[A,de,N.daysToShow]),pe=(0,i.useCallback)(function(){var e=(0,D.A)(S().mark((function e(t,r){var a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.toString(),e.prev=1,K(a,{status:r},"status"),e.next=5,(0,s.JG)(a,r);case 5:J(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),G(a,"status");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}(),[K,J,G]),we=(0,i.useCallback)(function(){var e=(0,D.A)(S().mark((function e(t){var r,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._id){e.next=3;break}return e.abrupt("return");case 3:if(null!=re&&re._id?E((0,m.tQ)(t)):E((0,m.l2)(t)),e.prev=4,null===(r=t.recurrence)||void 0===r||!r.rrule){e.next=10;break}return e.next=8,(0,s.J7)(q.start,q.end);case 8:a=e.sent,E((0,m.H8)(a));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),[E,re,q.start,q.end]);return i.createElement(Z,null,i.createElement("div",{className:P,style:{maxHeight:u}},!v&&i.createElement(Ge,{date:A,onPrevious:se,onNext:ue,onDateChange:de,onToday:k,showTodayButton:x,config:N,onConfigChange:H}),i.createElement("div",{className:"week-headers-row"},i.createElement("div",{className:"week-time-header"}),i.createElement("div",{className:"week-day-headers"},F.map((function(e){return i.createElement(ce,{key:"header-".concat(e.toISOString()),date:e,isToday:(t=e,(0,c.r)(t,new Date)),onClick:de});var t})))),i.createElement(He,{events:ee,weekDays:F,onEdit:oe,onStatusChange:pe,getEventStatus:$,onRetry:X}),i.createElement("div",{className:"week-calendar-body",ref:_},i.createElement("div",{className:"week-time-column"},i.createElement(Y.A,{startHour:null!==(t=N.startHour)&&void 0!==t?t:Q.r.START_HOUR,endHour:null!==(r=N.endHour)&&void 0!==r?r:Q.r.END_HOUR})),i.createElement("div",{className:"week-days-container"},F.map((function(e){var t,r;return i.createElement(le,{key:e.toISOString(),date:e,events:ee,startHour:null!==(t=N.startHour)&&void 0!==t?t:Q.r.START_HOUR,endHour:null!==(r=N.endHour)&&void 0!==r?r:Q.r.END_HOUR,onEdit:oe,onStatusChange:pe,onCreateEvent:ne,updateEventOptimistic:K,setEventError:G,clearEventStatus:J,retryEventUpdate:X,getEventStatus:$,weekStartDate:q.start,weekEndDate:q.end,scrollContainerRef:_})})))),i.createElement(h.A,{visible:ae,event:re,onClose:ie,onSave:we})))};var Xe=r(59270);function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var et=(0,u.Ru)("week_view_tab_planning"),tt=((0,u.Ru)("week_view_tab_calendar"),(0,u.Ru)("week_view_tab_todo"),(0,i.memo)((function(){var e=(0,g.S)(),t=e.screenWidth,r=e.user,a=(0,y.wA)(),l=(0,X.jE)(),c=(0,i.useState)(!1),d=(0,n.A)(c,2),h=d[0],E=d[1],D=(0,i.useState)(),_=(0,n.A)(D,2),S=_[0],A=_[1],O=(0,i.useState)(null),C=(0,n.A)(O,2),R=C[0],T=C[1];(0,i.useEffect)((function(){E(t<=k.NU.sm)}),[t]),(0,i.useEffect)((function(){if(r){var e=r.preferences||{timezone:void 0,weekStart:p.z},t=e.timezone,a=e.weekStart;A((0,w.Hq)(new Date,t,!a||a===p.z))}}),[r]);var N=null==S?void 0:S.weekStartDate.toISOString(),j=null==S?void 0:S.weekEndDate.toISOString(),z=(0,Xe.I)({queryKey:["week-events",N,j],queryFn:function(){return S?(0,s.J7)(S.weekStartDate,S.weekEndDate):[]},enabled:!!S&&!!r,staleTime:3e5,refetchOnWindowFocus:!1,retry:3,retryDelay:function(e){return Math.min(1e3*Math.pow(2,e),3e4)}}).data,M=void 0===z?[]:z;(0,i.useEffect)((function(){M.length>=0&&a((0,m.H8)(M))}),[M,a]),(0,i.useEffect)((function(){S&&(0,s.cF)(S.weekStartDate,S.weekEndDate).then((function(e){e>0&&l.invalidateQueries({queryKey:["week-events",N,j]})}))}),[S,N,j,l]);var P=(0,i.useMemo)((function(){return{conversation:R,setConversation:T,weekInfo:S,setWeekInfo:A}}),[S,R]),H=i.createElement("div",{className:"flex-col ".concat(h?"gap-row-8":"gap-row-16"," full-width overflow-y-auto")},i.createElement(rt,{isMobile:h})),I=S?i.createElement("div",{className:"sider-panel flex",style:{minHeight:300}},i.createElement(v.A,{type:p.QM,meta:JSON.stringify({type:p.QM,meta:{startDate:S.weekStartDate}})})):i.createElement(o.A,{active:!0});return i.createElement(f.W.Provider,{value:Ze({},P)},i.createElement("div",{className:"weekly-viewer-wrapper"},h?i.createElement(i.Fragment,null,H):i.createElement(i.Fragment,null,H,i.createElement(b.q,{shape:"round",initPosition:{bottom:40,right:24},icon:i.createElement("img",{src:(0,u.ID)(x),width:64}),bubbleSize:68},I))))}))),rt=(0,i.memo)((function(e){var t=e.isMobile,r=(0,i.useState)(et),a=(0,n.A)(r,2);a[0],a[1];return i.createElement("div",{className:"planning-view-wrapper flex-col flex-1"},i.createElement("div",{className:"weekly-viewer-calendar-wrapper"},i.createElement(at,{isMobile:t})))})),at=(0,i.memo)((function(e){var t=e.isMobile,r=(0,y.d4)((function(e){return e.global.weekStartsOn})),a=(0,g.S)().user,o=(0,y.d4)((function(e){return e.weekPlanner.calendarCurrentDate})),s=(0,i.useContext)(f.W).setWeekInfo,u=(0,y.wA)(),v=l.A.useForm(),k=(0,n.A)(v,1)[0],b=i.useRef(null),x=(0,i.useState)(),D=(0,n.A)(x,2),_=D[0],S=D[1],A=(0,i.useState)(!1),O=(0,n.A)(A,2),C=O[0],R=O[1],T=(0,i.useMemo)((function(){return o?new Date(o):new Date}),[o]),N=(0,y.d4)(m.zD),j=(0,i.useMemo)((function(){return N.filter((function(e){return e.startDate&&(0,c.r)(new Date(e.startDate),T)}))}),[N,T]);(0,i.useEffect)((function(){C&&b.current&&setTimeout((function(){var e;return null===(e=b.current)||void 0===e?void 0:e.focus()}),100)}),[C]);var z=(0,i.useCallback)((function(e){R(!1),S(void 0),k.resetFields()}),[k]),M=(0,i.useCallback)((function(){R(!1),S(void 0),k.resetFields()}),[k]),P=(0,i.useCallback)((function(e){if(a){var t=a.preferences||{timezone:void 0,weekStart:p.z},r=t.timezone,n=t.weekStart;s((0,w.Hq)(e,r,!n||n===p.z))}u((0,m.KF)((0,d.o)(e).getTime()))}),[u,s,a]);return i.createElement(i.Fragment,null,i.createElement(h.A,{visible:C,event:_,onClose:M,onSave:z}),t?i.createElement(E.A,{events:j,selectedDateIso:T.toISOString(),height:"100%"}):i.createElement(Je,{events:N,selectedDateIso:T.toISOString(),onDateChange:P,hideHeader:!1,weekStartsOn:r}))}));const nt=(0,i.memo)(tt)},87624:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var a=r(31601),n=r.n(a),o=r(76314),l=r.n(o)()(n());l.push([e.id,".week-todo-header{margin-bottom:32px;background:linear-gradient(135deg, var(--color-primary) 10%, var(--color-primary-bright) 100%);background-size:cover;background-attachment:fixed;width:100%;padding:50px 24px;position:relative;overflow:hidden;border-radius:0 0 85% 85%/30%;text-align:center;box-shadow:0 4px 1rem 0 rgba(0,0,0,.1)}.week-todo-header .week-todo-header-content{width:100%;height:100%;color:#fff}.week-todo-header .week-todo-header-content .week-todo-title{font-size:2rem;font-weight:600;display:block;margin-bottom:16px;color:#fff}.week-todo-header .week-todo-header-content .week-todo-description{font-size:1.2rem;color:rgba(255,255,255,.9);font-weight:400;margin:0}",""]);const i=l},17036:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var a=r(31601),n=r.n(a),o=r(76314),l=r.n(o)()(n());l.push([e.id,".weekly-viewer-wrapper{height:calc(100vh - 80px);padding:16px;background:var(--color-primary-bg);border-radius:10px;overflow:hidden;max-width:100vw;display:flex;flex-direction:column}@media(max-width: 768px){.weekly-viewer-wrapper{padding:8px;height:calc(100vh - 72px)}}.weekly-viewer-wrapper [data-panel-group]{width:100%;height:100%;column-gap:16px;max-width:100%}.weekly-viewer-wrapper [data-panel]{display:flex;overflow:hidden;min-width:0}.weekly-viewer-wrapper .panel-resize-handle{width:4px;background:var(--color-border);transition:background-color .2s;flex-shrink:0}.weekly-viewer-wrapper .panel-resize-handle:hover{background:var(--color-primary)}.weekly-viewer-wrapper .week-view-sider-wrapper{flex:1;height:100%;overflow:hidden;background:var(--color-white);border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);min-width:0}.weekly-viewer-wrapper .week-view-sider-wrapper .ant-card{height:100%;display:flex;flex-direction:column}.weekly-viewer-wrapper .week-view-sider-wrapper .ant-card .ant-card-body{flex:1;padding:0;overflow:hidden;display:flex;flex-direction:column}.weekly-viewer-wrapper .week-view-sider-wrapper .ant-card .ant-card-body .ant-tabs{flex:1;display:flex;flex-direction:column;overflow:hidden}.weekly-viewer-wrapper .week-view-sider-wrapper .ant-card .ant-card-body .ant-tabs .ant-tabs-content-holder{display:flex}.weekly-viewer-wrapper .week-view-sider-wrapper .ant-card .ant-card-body .ant-tabs .ant-tabs-content{flex:1;overflow:hidden}.weekly-viewer-wrapper .week-view-sider-wrapper .ant-card .ant-card-body .ant-tabs .ant-tabs-content .ant-tabs-tabpane{height:100%}.weekly-viewer-wrapper .planning-view-wrapper{flex:1;min-height:0;display:flex;flex-direction:column}@media(max-width: 768px){.weekly-viewer-wrapper .planning-view-wrapper{height:100%}}.weekly-viewer-wrapper .weekly-viewer-calendar-wrapper{flex:1;min-height:0;overflow:auto;background:var(--color-white);border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1)}@media(max-width: 768px){.weekly-viewer-wrapper .weekly-viewer-calendar-wrapper{border-radius:4px;box-shadow:none}.weekly-viewer-wrapper .weekly-viewer-calendar-wrapper .rbc-calendar{height:100%}}.weekly-viewer-wrapper .lzv-chat-conversation{height:100%;overflow:hidden}.ant-drawer .sider-panel{height:100%;border-radius:0;box-shadow:none}@media(max-width: 768px){.rbc-toolbar{flex-direction:column;gap:8px;padding:8px;flex-shrink:0}.rbc-toolbar .rbc-toolbar-label{font-size:18px}.rbc-toolbar .rbc-btn-group{width:100%;display:flex;justify-content:center;gap:4px}.rbc-toolbar .rbc-btn-group button{flex:1}.rbc-calendar{display:flex;flex-direction:column;height:100%}.rbc-calendar .rbc-time-view{flex:1;min-height:0;display:flex;flex-direction:column}.rbc-calendar .rbc-time-view .rbc-time-header{flex-shrink:0}.rbc-calendar .rbc-time-view .rbc-time-content{flex:1;min-height:0;overflow-y:auto}.rbc-time-content .rbc-events-container{margin-right:0}.rbc-time-header-content .rbc-header{padding:4px;font-size:12px}.rbc-time-slot{min-height:40px}.rbc-event{padding:2px 4px}.rbc-event .event-title{font-size:11px}.rbc-event .event-time{font-size:10px}.rbc-time-view .rbc-row{min-height:24px}.rbc-time-header.rbc-overflowing{margin-right:0}}",""]);const i=l},64184:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var a=r(31601),n=r.n(a),o=r(76314),l=r.n(o)()(n());l.push([e.id,".week-calendar-wrapper{--scrollbar-width: 13px;display:flex;flex-direction:column;border-radius:8px;background-color:var(--color-primary-bg);max-height:100%}.week-calendar-wrapper .week-calendar-toolbar{background:var(--color-white);padding:12px 16px;border-radius:8px 8px 0 0}.week-calendar-wrapper .week-calendar-toolbar .week-calendar-toolbar-content{display:flex;align-items:center;justify-content:space-between;width:100%}.week-calendar-wrapper .week-calendar-toolbar .week-calendar-toolbar-content .week-calendar-toolbar-label>span:nth-child(1){font-size:24px;font-weight:bold}.week-calendar-wrapper .week-calendar-toolbar .week-calendar-toolbar-content .week-calendar-toolbar-label>span:nth-child(2){font-size:24px;line-height:1.35;font-weight:lighter}.week-calendar-wrapper .week-calendar-toolbar .week-calendar-toolbar-content .ant-btn{border-radius:6px}.week-calendar-wrapper .week-calendar-toolbar .week-calendar-toolbar-content .ant-picker{border-radius:6px}.week-calendar-wrapper .week-headers-row{display:flex;border-bottom:1px solid var(--color-border);background-color:var(--color-primary-bg);padding-right:0;transition:padding-right .1s ease}.week-calendar-wrapper .week-headers-row .week-time-header{width:60px;min-width:60px;background-color:var(--color-primary-bg)}.week-calendar-wrapper .week-headers-row .week-day-headers{flex:1;display:flex}.week-calendar-wrapper .week-headers-row .week-day-headers .week-day-header{flex:1;padding:8px 4px;background-color:var(--color-primary-bg);cursor:pointer;transition:background-color .2s ease}.week-calendar-wrapper .week-headers-row .week-day-headers .week-day-header:last-child{border-right:none}.week-calendar-wrapper .week-headers-row .week-day-headers .week-day-header.is-today{color:var(--color-primary)}.week-calendar-wrapper .week-headers-row .week-day-headers .week-day-header .day-of-week{font-size:12px;font-weight:500;color:var(--color-text-secondary);line-height:28px;text-transform:uppercase}.week-calendar-wrapper .week-headers-row .week-day-headers .week-day-header .day-of-month{font-size:16px;font-weight:600;color:var(--color-text);display:flex;align-items:center;justify-content:center;width:28px;height:28px;transition:all .2s ease}.week-calendar-wrapper .week-headers-row .week-day-headers .week-day-header .day-of-month.today-circle{background-color:var(--color-primary);color:#fff;border-radius:50%;font-weight:700}.week-calendar-wrapper .week-headers-row .week-day-headers .week-day-header.is-today .day-of-week{color:var(--color-primary)}.week-calendar-wrapper .week-all-day-row{display:flex;border-bottom:1px solid var(--color-border);background-color:var(--color-primary-bg);padding-right:0;transition:padding-right .1s ease;min-height:36px}.week-calendar-wrapper .week-all-day-row .week-all-day-header{width:60px;min-width:60px;display:flex;align-items:center;justify-content:center;border-right:1px solid var(--color-border);background-color:var(--color-primary-bg)}.week-calendar-wrapper .week-all-day-row .week-all-day-header .all-day-events-label{font-size:11px;color:var(--color-text-secondary);font-weight:500;text-align:center;padding:0 4px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid{flex:1;display:grid;gap:2px 4px;padding:4px 8px;position:relative;min-height:28px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event{display:flex;align-items:center;background-color:var(--color-primary-light);border-radius:4px;padding:4px 8px;font-size:12px;font-weight:500;color:var(--color-text);cursor:pointer;transition:all .2s ease;border:1px solid rgba(0,0,0,0);position:relative;overflow:hidden;min-height:24px;box-shadow:0 1px 2px rgba(0,0,0,.05)}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event:hover{background-color:var(--color-primary-hover);transform:translateY(-1px);box-shadow:0 2px 6px rgba(0,0,0,.12);z-index:10}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.is-done{opacity:.7;text-decoration:line-through;background-color:var(--color-success-bg);color:var(--color-text-secondary)}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.loading{opacity:.6;pointer-events:none;background-color:var(--color-bg-gray-light)}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.error{background-color:var(--color-error-bg);border-color:var(--color-error);color:var(--color-error)}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.done-animation{animation:statusChangeAnimation .3s cubic-bezier(0.34, 1.56, 0.64, 1)}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.continues-left{border-top-left-radius:0;border-bottom-left-radius:0;padding-left:24px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.continues-left .continues-indicator.left{position:absolute;left:6px;font-size:10px;opacity:.6}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.continues-right{border-top-right-radius:0;border-bottom-right-radius:0;padding-right:24px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.continues-right .continues-indicator.right{position:absolute;right:6px;font-size:10px;opacity:.6}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.timed{background-color:var(--color-bg-gray-light);border-left:3px solid var(--color-primary);padding-left:6px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.timed:hover{background-color:var(--color-bg-gray)}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content{display:flex;align-items:center;gap:4px;flex:1;overflow:hidden;z-index:1}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .event-time-icon{font-size:11px;color:var(--color-primary);flex-shrink:0;opacity:.8}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .event-emoji{font-size:14px;line-height:1;flex-shrink:0}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .event-title{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.2}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .event-time-label{font-size:10px;color:var(--color-text-secondary);flex-shrink:0;margin-left:4px;white-space:nowrap;opacity:.9}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .retry-button{background:none;border:none;color:inherit;cursor:pointer;font-size:10px;text-decoration:underline;padding:0;margin-left:4px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .retry-button:hover{opacity:.8}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .continues-indicator{display:flex;align-items:center;justify-content:center;color:currentColor;z-index:2}.week-calendar-wrapper .week-calendar-body{flex:1;display:flex;position:relative;overflow-y:auto;overflow-x:hidden}.week-calendar-wrapper .week-calendar-body::-webkit-scrollbar{display:block;width:12px}.week-calendar-wrapper .week-calendar-body::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.week-calendar-wrapper .week-calendar-body::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.week-calendar-wrapper .week-calendar-body::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.week-calendar-wrapper .week-calendar-body::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.week-calendar-wrapper .week-calendar-body .week-days-container{flex:1;display:flex;min-width:0}.week-calendar-wrapper .week-calendar-body .week-days-container .week-day-column{flex:1;display:flex;flex-direction:column;min-width:0}.week-calendar-wrapper .week-calendar-body .week-days-container .week-day-column:last-child{border-right:none}.week-calendar-wrapper .week-calendar-body .week-days-container .week-day-column .week-day-content{flex:1;display:flex;flex-direction:column;border-right:1px solid var(--color-border)}.week-calendar-wrapper .week-calendar-body .week-days-container .week-day-column .week-day-content .week-day-body{flex:1;position:relative}.week-calendar-wrapper .week-calendar-body .week-days-container .week-day-column .week-day-content .week-day-body .cross-day-events-container{width:100%;height:100%;position:relative;pointer-events:auto}.week-calendar-wrapper .week-calendar-body .week-days-container .week-day-column .week-day-content .week-day-body .cross-day-events-container.drop-target{background-color:rgba(var(--color-primary-rgb), 0.3) !important;border:3px dashed var(--color-primary) !important;border-radius:8px;transition:all .2s ease;z-index:10;box-shadow:0 0 20px rgba(var(--color-primary-rgb), 0.3) !important}.week-calendar-wrapper .week-calendar-body .week-days-container .week-day-column .week-day-content .week-day-body .cross-day-events-container.drop-target .cross-day-drop-indicator{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg, transparent 40%, rgba(var(--color-primary-rgb), 0.1) 50%, transparent 60%);background-size:20px 20px;animation:cross-day-drag-indicator 1s linear infinite;pointer-events:none;z-index:11}.week-calendar-wrapper.has-vertical-scrollbar .week-headers-row,.week-calendar-wrapper.has-vertical-scrollbar .week-all-day-row{padding-right:var(--scrollbar-width)}.week-calendar-wrapper.has-vertical-scrollbar.mobile .week-headers-row,.week-calendar-wrapper.has-vertical-scrollbar.mobile .week-all-day-row{padding-right:var(--scrollbar-width)}@keyframes cross-day-drag-indicator{0%{background-position:0 0}100%{background-position:20px 20px}}@media(max-width: 768px){.week-calendar-wrapper .week-calendar-header{padding:8px 12px}.week-calendar-wrapper .week-calendar-header .week-navigation{gap:12px}.week-calendar-wrapper .week-calendar-header .week-navigation .week-title .week-range-title{font-size:16px}.week-calendar-wrapper .week-headers-row .week-time-header{width:50px;min-width:50px}.week-calendar-wrapper .week-headers-row .week-day-headers .week-day-header{padding:6px 2px;min-height:40px}.week-calendar-wrapper .week-headers-row .week-day-headers .week-day-header .day-of-week{font-size:10px}.week-calendar-wrapper .week-headers-row .week-day-headers .week-day-header .day-of-month{font-size:14px;width:24px;height:24px}.week-calendar-wrapper .week-all-day-row{min-height:30px}.week-calendar-wrapper .week-all-day-row .week-all-day-header{width:50px;min-width:50px}.week-calendar-wrapper .week-all-day-row .week-all-day-header .all-day-events-label{font-size:10px;padding:0 2px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid{gap:2px 3px;padding:3px 6px;min-height:24px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event{font-size:10px;padding:3px 6px;min-height:20px;border-radius:3px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.timed{border-left-width:2px;padding-left:4px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.continues-left{padding-left:20px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.continues-left .continues-indicator.left{left:4px;font-size:8px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.continues-right{padding-right:20px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event.continues-right .continues-indicator.right{right:4px;font-size:8px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content{gap:3px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .event-time-icon{font-size:9px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .event-emoji{font-size:12px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .event-title{font-size:10px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .event-time-label{font-size:8px;margin-left:2px}.week-calendar-wrapper .week-all-day-row .week-all-day-grid .spanning-all-day-event .spanning-event-content .retry-button{font-size:9px}}",""]);const i=l},81695:(e,t,r)=>{var a=r(85072),n=r.n(a),o=r(97825),l=r.n(o),i=r(77659),c=r.n(i),d=r(55056),s=r.n(d),u=r(10540),p=r.n(u),w=r(41113),v=r.n(w),f=r(87624),y={};y.styleTagTransform=v(),y.setAttributes=s(),y.insert=c().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=p();var m=n()(f.default,y);if(!f.default.locals||e.hot.invalidate){var g=!f.default.locals,k=g?f:f.default.locals;e.hot.accept(87624,(t=>{f=r(87624),function(e,t,r){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!r||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(r&&"default"===a||e[a]))return!1;return!0}(k,g?f:f.default.locals,g)?(k=g?f:f.default.locals,m(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){m()}));f.default&&f.default.locals&&f.default.locals},51743:(e,t,r)=>{var a=r(85072),n=r.n(a),o=r(97825),l=r.n(o),i=r(77659),c=r.n(i),d=r(55056),s=r.n(d),u=r(10540),p=r.n(u),w=r(41113),v=r.n(w),f=r(17036),y={};y.styleTagTransform=v(),y.setAttributes=s(),y.insert=c().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=p();var m=n()(f.default,y);if(!f.default.locals||e.hot.invalidate){var g=!f.default.locals,k=g?f:f.default.locals;e.hot.accept(17036,(t=>{f=r(17036),function(e,t,r){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!r||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(r&&"default"===a||e[a]))return!1;return!0}(k,g?f:f.default.locals,g)?(k=g?f:f.default.locals,m(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){m()}));f.default&&f.default.locals&&f.default.locals},37819:(e,t,r)=>{var a=r(85072),n=r.n(a),o=r(97825),l=r.n(o),i=r(77659),c=r.n(i),d=r(55056),s=r.n(d),u=r(10540),p=r.n(u),w=r(41113),v=r.n(w),f=r(64184),y={};y.styleTagTransform=v(),y.setAttributes=s(),y.insert=c().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=p();var m=n()(f.default,y);if(!f.default.locals||e.hot.invalidate){var g=!f.default.locals,k=g?f:f.default.locals;e.hot.accept(64184,(t=>{f=r(64184),function(e,t,r){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!r||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(r&&"default"===a||e[a]))return!1;return!0}(k,g?f:f.default.locals,g)?(k=g?f:f.default.locals,m(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){m()}));f.default&&f.default.locals&&f.default.locals}}]);