"use strict";(self.webpackChunklazyvax_ext=self.webpackChunklazyvax_ext||[]).push([[535],{52535:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Mt});var i=n(10467),a=n(5544),o=n(54756),l=n.n(o),r=(n(90017),n(96540)),s=n(55166),c=n(87959),m=n(64132),d=n(84972),u=n(47152),p=n(16370),g=n(6754),f=n(42702),v=n(36552),b=n(78751),x=n(7142),h=n(97072),y=n(25339),w=n(1849),k=n(97665),E=n(57097),_=n(59270),A=n(86220),R=n(95927),N=n(9027),S=n(67230),z=n(47767),C=n(1636),D=n(49237),O=n(36207),P=n(97919),T=n(87942),j=n(82734),I=n(40261),F=n(14103),M=n(31628),Y=n(65710),V=n(47852),K=n(29197),q=n(25834),H=(n(94001),n(4086));const U=function(e){e.goalId;var t=e.onSelectDay,n=e.onAddEvent;return r.createElement("div",{className:"goal-detail-sider"},r.createElement("div",{className:"goal-detail-sider-content"},r.createElement("div",{className:"tab-content"},r.createElement("div",{className:"tab-pane",style:{width:"100%",height:"100%"}},r.createElement(H.A,{onSelectDay:t,onAddEvent:n})))))};var Q=n(10980),W=n(26362),Z=n(66221),L=n(54107),J=n(42569),B=n(63170),G=n(86319),X=(0,J.Ru)("Chat"),$=(0,J.Ru)("calendar");const ee=function(e){var t=e.goalId,n=e.onSelectDay,i=e.onAddEvent,o=(0,r.useState)(X),l=(0,a.A)(o,2),s=l[0],c=l[1],m=[{label:X,value:X,icon:r.createElement(Q.A,null)},{label:$,value:$,icon:r.createElement(W.A,null)}],d={hidden:{opacity:0},visible:{opacity:1}};return r.createElement("div",{className:"goal-detail-sider"},r.createElement("div",{className:"goal-detail-sider-header bot-16px"},r.createElement(y.A,{options:m,value:s,onChange:function(e){return c(e.toString())}})),r.createElement("div",{className:"goal-detail-sider-content"},r.createElement("div",{className:"tab-content"},r.createElement(Z.N,{mode:"wait",initial:!1},s===X&&r.createElement(L.P.div,{key:"chat",variants:d,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.15,ease:"easeInOut"},className:"tab-pane",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column"}},r.createElement(B.A,{type:G.bN,meta:JSON.stringify({type:G.bN,meta:{goalId:t}})})),s===$&&r.createElement(L.P.div,{key:"calendar",variants:d,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.15,ease:"easeInOut"},className:"tab-pane",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},r.createElement(H.A,{onSelectDay:n,onAddEvent:i}))))))};var te=n(38076),ne=n(76531),ie=n(2622),ae=n(71099),oe=n(92089),le=n(83186),re=n(35680),se=n(69975),ce=n(27961),me=n(74353),de=n.n(me),ue=n(64467),pe=n(60436),ge=n(71988),fe=n(33835),ve=n(49222),be=n(17355),xe=n(15622),he=n(36449),ye=n(38811),we=(n(60571),n(62542)),ke=n(38342),Ee=n(71468),_e=n(84129),Ae=n(93145),Re=n(99552),Ne=n(93567),Se=n(16933),ze=n(26067),Ce=n(52629);n(4694);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,ue.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe=function(e){var t=e.className,n=void 0===t?"":t,i=e.item,o=e.includeAiFill,l=e.aiFillFunction,c=e.onTextChange,m=e.onFinished,d=e.onCancel,u=e.labelStyle,p=e.iconStyle,g=void 0===p?{color:"var(--color-text)"}:p,f=(0,r.useState)(i.text),v=(0,a.A)(f,2),b=v[0],x=v[1],h=(0,r.useState)(i.isError),y=(0,a.A)(h,2),w=y[0],k=y[1],E=(0,r.useState)(i.isEditing),_=(0,a.A)(E,2),A=_[0],R=_[1],N=(0,r.useState)(!1),S=(0,a.A)(N,2),z=S[0],C=S[1],D=(0,r.useState)(!1),O=(0,a.A)(D,2),P=O[0],T=O[1];(0,r.useEffect)((function(){x(i.text),k(i.isError),R(i.isEditing)}),[i]),(0,r.useEffect)((function(){z&&i.text!==b&&m(Oe(Oe({},i),{},{text:b})).catch((function(){k(!0)}))}),[z]);var j=function(){R(!0),C(!1)},F=function(){R(!1),C(!0)};return r.createElement(s.A.Paragraph,{className:"editable-paragraph-wrapper ".concat(n),editable:{text:b,editing:A,triggerType:["icon","text"],icon:r.createElement(I.A,{onClick:j,style:g}),onChange:function(e){x(e),null==c||c(e)},onStart:j,onEnd:F,onCancel:function(){R(!1),null==d||d(i)},enterIcon:r.createElement("div",{className:"flex-row gap-row-8"},o&&(P?r.createElement(Ne.A,null):r.createElement(Se.A,{component:q.A,onClick:function(){T(!0),null==l||l().then((function(e){x(e.trim())})).catch(console.error).finally((function(){return T(!1)}))}})),r.createElement(ze.A,{onClick:F}))}},u?r.createElement("span",{style:u},b):b," ",w&&r.createElement(Ce.A,{style:{color:"var(--color-red-light)",margin:"0 4px"},onClick:function(){return m(Oe(Oe({},i),{},{text:b})).then((function(){k(!1)})).catch((function(){k(!0)}))}}))};const Te=function(e){var t,n,o=e.milestone,s=e.onMilestoneChange,c=e.onDeadlineChange,d=e.onActionChange,u=e.onAddAction,p=(0,R.S)().user,g=(0,r.useState)(!1),f=(0,a.A)(g,2),v=f[0],x=f[1],h=(0,r.useState)(null),y=(0,a.A)(h,2),w=y[0],k=y[1];return r.createElement("div",{className:"milestone-item preview"},r.createElement("div",{className:"milestone-content"},r.createElement("div",{className:"milestone-header-row"},r.createElement("div",{className:"milestone-text"},r.createElement(Pe,{item:{text:o.milestone,value:o.milestone},labelStyle:{fontSize:"15px",fontWeight:500,lineHeight:1.4,color:"var(--color-text)"},onFinished:function(){var e=(0,i.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(t.text),e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),o.deadline||v?r.createElement("div",{className:"flex"},r.createElement("div",{className:"milestone-deadline editable-date",onClick:function(e){e.stopPropagation(),x(!0)}},v?r.createElement("div",{className:"date-picker-container"},r.createElement(b.A,{className:"inline-date-picker",defaultValue:o.deadline?de()(o.deadline):void 0,onChange:function(e){c((null==e?void 0:e.toDate())||null),x(!1)},autoFocus:!0,allowClear:!0,disabledDate:function(e){return e&&e<de()().startOf("day")}}),r.createElement(m.Ay,{type:"text",size:"small",className:"close-date-picker",icon:r.createElement(Re.A,null),onClick:function(e){e.stopPropagation(),x(!1)}})):r.createElement(r.Fragment,null,o.deadline?de()(o.deadline).format("MMM D, YYYY"):"",r.createElement(I.A,{className:"date-edit-icon"})))):r.createElement("div",{className:"milestone-add-deadline",onClick:function(e){e.stopPropagation(),x(!0)}},r.createElement(D.A,null)," ",(0,J.Ru)("goal_milestones_add_deadline")),r.createElement("div",{className:"milestone-actions-list expanded"},(null===(t=o.actions)||void 0===t?void 0:t.length)>0?r.createElement(r.Fragment,null,o.actions.map((function(e){return r.createElement("div",{key:e._id,className:"milestone-action-item"},r.createElement("div",{className:"action-content"},r.createElement(Pe,{item:{text:e.action,value:e.action},onFinished:function(){var t=(0,i.A)(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e._id&&d(e._id,n.text,e.deadline),t.abrupt("return",Promise.resolve());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),e.deadline||w===e._id?r.createElement("div",{className:"action-deadline editable-date",onClick:function(t){t.stopPropagation(),k(e._id||null)}},w===e._id?r.createElement("div",{className:"date-picker-container"},r.createElement(b.A,{className:"inline-date-picker",defaultValue:e.deadline?de()(e.deadline):void 0,onChange:function(t){e._id&&d(e._id,e.action,(null==t?void 0:t.toDate())||null),k(null)},autoFocus:!0,allowClear:!0,disabledDate:function(e){return e&&e<de()().startOf("day")}}),r.createElement(m.Ay,{type:"text",size:"small",className:"close-date-picker",icon:r.createElement(Re.A,null),onClick:function(e){e.stopPropagation(),k(null)}})):r.createElement(r.Fragment,null,e.deadline?de()(e.deadline).format("MMM D, YYYY"):"",r.createElement(I.A,{className:"date-edit-icon"}))):r.createElement("div",{className:"action-add-deadline",onClick:function(t){t.stopPropagation(),k(e._id||null)}},r.createElement(D.A,null)," ",(0,J.Ru)("goal_actions_add_deadline"))))}))):r.createElement("div",{className:"no-actions-message"},(0,J.Ru)("goal_actions_empty")),r.createElement(m.Ay,{className:"add-action-button",icon:r.createElement(D.A,null),onClick:u},(0,ie.JT)((0,J.Ru)("goal_actions_add_new"),[{key:"user",value:(null==p||null===(n=p.name)||void 0===n?void 0:n.split(" ")[0])||""}])))))};var je=n(37977),Ie=n(28073),Fe=n(16044),Me=n(68e3),Ye=n(93598),Ve=n(78854),Ke=n(1005),qe=n(16899),He=n(90855);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){(0,ue.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const We=function(e){var t,n,o=(0,k.jE)(),s=(0,R.S)().user,d=(0,Ee.wA)(),u=(0,r.useState)(e.milestone),p=(0,a.A)(u,2),g=p[0],f=p[1],v=(0,r.useState)(e.goalId),x=(0,a.A)(v,2),h=x[0],y=x[1],w=(0,r.useState)(e.isExpanded),E=(0,a.A)(w,2),_=E[0],N=E[1],S=(0,r.useState)(!1),z=(0,a.A)(S,2),C=z[0],O=z[1],P=(0,r.useState)(null),T=(0,a.A)(P,2),j=T[0],M=T[1],Y=(0,r.useState)(!1),V=(0,a.A)(Y,2),K=V[0],H=V[1],U=(0,r.useState)(null),Z=(0,a.A)(U,2),L=Z[0],B=Z[1],G=(0,r.useState)(!1),X=(0,a.A)(G,2),$=X[0],ee=X[1];(0,r.useEffect)((function(){f(e.milestone)}),[e.milestone]),(0,r.useEffect)((function(){y(e.goalId)}),[e.goalId]),(0,r.useEffect)((function(){N(e.isExpanded)}),[e.isExpanded]),(0,r.useEffect)((function(){var e=function(e){e.target.closest(".action-buttons")};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]);var te=function(){var e=(0,i.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.K5)(h,g._id,{isDone:t});case 3:o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,i.A)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.ue)(h,g._id,t._id,{isDone:n});case 3:o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=(0,i.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.K5)(h,g._id,{milestone:t});case 3:f(Qe(Qe({},g),{},{milestone:t})),o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,i.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.VS)(h,g._id);case 3:o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,i.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.K5)(h,g._id,{deadline:t?t.toDate():void 0});case 3:f(Qe(Qe({},g),{},{deadline:t?t.toDate():void 0})),o.invalidateQueries({queryKey:["goal"]}),O(!1),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("error_updating_milestone"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=(0,i.A)(l().mark((function e(t,n){var i,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(i=g.actions)||void 0===i?void 0:i.find((function(e){return e._id===t}))){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,A.ue)(h,g._id,t,Qe(Qe({},a),{},{deadline:n?n.toDate():void 0}));case 6:f(Qe(Qe({},g),{},{actions:null===(r=g.actions)||void 0===r?void 0:r.map((function(e){return e._id===t?Qe(Qe({},e),{},{deadline:n?n.toDate():void 0}):e}))})),o.invalidateQueries({queryKey:["goal"]}),M(null),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),c.Ay.error((0,J.Ru)("error_updating_action"));case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=(0,i.A)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.ue)(h,g._id,t._id,{action:n});case 3:f(Qe(Qe({},g),{},{actions:null===(i=g.actions)||void 0===i?void 0:i.map((function(e){return e._id===t._id?Qe(Qe({},e),{},{action:n}):e}))})),o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),me=function(){var e=(0,i.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.Ec)(h,g._id,t);case 3:f(Qe(Qe({},g),{},{actions:null===(n=g.actions)||void 0===n?void 0:n.filter((function(e){return e._id!==t}))})),o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=(0,i.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),e.next=4,(0,A.rI)(h,g._id,1);case 4:o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("goal_actions_generated_success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 11:return e.prev=11,H(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.createElement("div",{className:"milestone-item ".concat(g.isDone?"is-done":""," ").concat(_?"expanded":""),onClick:function(e){e.target.closest(".elegant-checkbox--wrapper")||e.target.closest(".milestone-actions")||e.target.closest(".action-buttons")||e.target.closest(".ant-btn")||e.target.closest(".ant-picker")||e.target.closest(".ant-picker-panel")||e.target.closest(".ant-popover")||N(!_)}},r.createElement("div",{className:"milestone-content"},r.createElement("div",{className:"milestone-header-row flex align-center justify-between gap-x-8"},r.createElement("div",{className:"milestone-expand-button"},r.createElement(je.A,{title:_?(0,J.Ru)("goal_milestones_collapse"):(0,J.Ru)("goal_milestones_expand")},r.createElement(m.Ay,{type:"text",className:"expand-button",icon:_?r.createElement(F.A,null):r.createElement(Me.A,null),onClick:function(e){e.stopPropagation(),N(!_)}}))),r.createElement("div",{className:"milestone-header-left"},r.createElement(qe.A,{isChecked:g.isDone,onCheckChange:function(e){return te(e)},label:r.createElement(Pe,{item:{text:g.milestone,value:g.milestone},labelStyle:{fontSize:"15px",fontWeight:500,lineHeight:1.4,color:"var(--color-text)",textDecoration:g.isDone?"line-through":"none",transition:"all 0.3s ease"},onFinished:function(){var e=(0,i.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t.text);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})),r.createElement("div",{className:"milestone-actions"},r.createElement(je.A,{title:(0,ie.JT)((0,J.Ru)("common_ask_AI"),[{key:"bot_name",value:le.Zw}])},r.createElement(Ae.A,{style:{borderRadius:8},borderSize:1,type:"text",icon:r.createElement(Q.A,null),onClick:function(e){e.stopPropagation(),d((0,He.DV)(g)),d((0,He.wK)(!0))}})),r.createElement(Ie.A,{content:r.createElement("div",{className:"milestone-actions-menu",style:{display:"flex",flexDirection:"column",gap:"4px"}},r.createElement(m.Ay,{type:"text",icon:r.createElement(D.A,null),onClick:function(t){t.stopPropagation(),ee(!1),e.onAddMilestone(g.order||0)},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_milestones_add_new")),r.createElement(m.Ay,{type:"text",icon:r.createElement(I.A,null),onClick:function(t){t.stopPropagation(),ee(!1),e.onEditMilestone(g)},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_milestones_edit")),r.createElement(Fe.A,{title:(0,J.Ru)("goal_milestones_delete_confirm"),onConfirm:function(e){null==e||e.stopPropagation(),ee(!1),oe()},okText:(0,J.Ru)("common_yes"),cancelText:(0,J.Ru)("common_no")},r.createElement(m.Ay,{type:"text",className:"delete-button",icon:r.createElement(Ye.A,null),onClick:function(e){return e.stopPropagation()},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_milestones_delete")))),trigger:"click",placement:"bottomRight",open:$,onOpenChange:function(e){ee(e)}},r.createElement(m.Ay,{type:"text",icon:r.createElement(Ve.A,null),onClick:function(e){return e.stopPropagation()}})))),r.createElement("div",{className:"flex"},r.createElement("div",{className:"milestone-deadline editable-date",onClick:function(e){e.stopPropagation(),O(!0)}},C?r.createElement("div",{className:"date-picker-container"},r.createElement(b.A,{className:"inline-date-picker",defaultValue:de()(g.deadline),onChange:function(e){re(e)},autoFocus:!0,allowClear:!0,open:!0,disabledDate:function(e){return e&&e<de()().startOf("day")}}),r.createElement(m.Ay,{type:"text",size:"small",className:"close-date-picker",icon:r.createElement(Re.A,null),onClick:function(e){e.stopPropagation(),O(!1)}})):g.deadline?r.createElement(r.Fragment,null,de()(g.deadline).format("MMM D, YYYY"),r.createElement(I.A,{className:"date-edit-icon"})):r.createElement(r.Fragment,null,r.createElement(D.A,null)," ",(0,J.Ru)("goal_milestones_add_deadline")))),_&&r.createElement("div",{className:"milestone-actions-list expanded",onClick:function(e){return e.stopPropagation()}},(null===(t=g.actions)||void 0===t?void 0:t.length)>0?r.createElement(r.Fragment,null,g.actions.map((function(t){return r.createElement("div",{key:t._id,className:"milestone-action-item"},r.createElement("div",{className:"action-content"},r.createElement(qe.A,{isChecked:t.isDone,onCheckChange:function(e){return ne(t,e)},label:r.createElement("div",{className:"action-label-wrapper"},t.recurrence&&r.createElement(je.A,{title:(0,J.Ru)("recurring_action")},r.createElement(Ke.A,{className:"recurring-icon"})),r.createElement(Pe,{item:{text:t.action,value:t.action},onFinished:function(){var e=(0,i.A)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t,n.text);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),color:"var(--color-success)",size:"small",checkboxAlign:"start",labelStyle:{fontSize:"14px",lineHeight:1.3,color:t.isDone?"var(--color-text-secondary)":"var(--color-text)",textDecoration:t.isDone?"line-through":"none"}}),r.createElement("div",{className:"action-deadline editable-date",onClick:function(e){e.stopPropagation(),M({actionId:t._id})}},(null==j?void 0:j.actionId)===t._id?r.createElement("div",{className:"date-picker-container"},r.createElement(b.A,{className:"inline-date-picker",defaultValue:de()(t.deadline),onChange:function(e){se(t._id,e)},autoFocus:!0,allowClear:!0,open:!0,disabledDate:function(e){return e&&e<de()().startOf("day")}}),r.createElement(m.Ay,{type:"text",size:"small",className:"close-date-picker",icon:r.createElement(Re.A,null),onClick:function(e){e.stopPropagation(),M(null)}})):t.deadline?r.createElement(r.Fragment,null,de()(t.deadline).format("MMM D, YYYY"),r.createElement(I.A,{className:"date-edit-icon"})):r.createElement(r.Fragment,null,r.createElement(D.A,null)," ",(0,J.Ru)("goal_actions_add_deadline")))),r.createElement("div",{className:"action-buttons"},r.createElement(je.A,{title:(0,ie.JT)((0,J.Ru)("common_ask_AI"),[{key:"bot_name",value:le.Zw}])},r.createElement(Ae.A,{type:"text",size:"small",borderSize:1,icon:r.createElement(Q.A,null),onClick:function(e){e.stopPropagation(),d((0,He.XA)(t)),d((0,He.wK)(!0))}})),r.createElement(Ie.A,{content:r.createElement("div",{className:"action-actions-menu",style:{display:"flex",flexDirection:"column",gap:"4px"}},r.createElement(m.Ay,{type:"text",icon:r.createElement(W.A,null),onClick:function(n){n.stopPropagation(),B(null),e.onSyncAction(g,t)},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_actions_create_event")),r.createElement(m.Ay,{type:"text",icon:r.createElement(I.A,null),onClick:function(n){n.stopPropagation(),B(null),e.onEditAction(g,t)},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_actions_edit")),r.createElement(Fe.A,{title:(0,J.Ru)("goal_actions_delete_confirm"),onConfirm:function(e){null==e||e.stopPropagation(),B(null),me(t._id)},okText:(0,J.Ru)("common_yes"),cancelText:(0,J.Ru)("common_no")},r.createElement(m.Ay,{type:"text",className:"delete-button",icon:r.createElement(Ye.A,null),onClick:function(e){return e.stopPropagation()},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_actions_delete")))),trigger:"click",placement:"bottomRight",open:L===t._id,onOpenChange:function(e){B(e?t._id:null)}},r.createElement(m.Ay,{type:"text",size:"small",icon:r.createElement(Ve.A,null),onClick:function(e){return e.stopPropagation()}}))))}))):r.createElement("div",{className:"no-actions-message"},(0,J.Ru)("goal_actions_empty")),r.createElement("div",{className:"add-action-button-container flex justify-center align-center gap-x-12"},r.createElement(m.Ay,{className:"add-action-button",icon:r.createElement(D.A,null),onClick:function(){var t;return e.onAddAction(g,(null===(t=g.actions)||void 0===t?void 0:t.length)||0)}},(0,ie.JT)((0,J.Ru)("goal_actions_add_new"),[{key:"user",value:(null==s||null===(n=s.name)||void 0===n?void 0:n.split(" ")[0])||""}])),r.createElement(Ae.A,{style:{borderRadius:8},icon:r.createElement(q.A,{style:{width:14,height:14,marginRight:8}}),onClick:function(e){e.stopPropagation(),ue()},loading:K},(0,ie.JT)((0,J.Ru)("goal_actions_generate"),[{key:"bot_name",value:le.Zw}]))))))};var Ze=n(19166),Le=n(68346);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,ue.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=s.A.Title;var Xe=function(e){var t=e.actionForm,n=ge.A.useWatch("firstStartTime",t),i=ge.A.useWatch("repeat",t),a=(0,r.useMemo)((function(){var e=n&&n.isValid()?(0,ie.JT)((0,J.Ru)("repeat_weekly_on"),[{key:"day",value:(0,oe.GP)(n.toDate(),"EEEE")}]):(0,J.Ru)("repeat_weekly"),t=n&&n.isValid()?(0,ie.JT)((0,J.Ru)("repeat_monthly_on"),[{key:"day",value:n.date()}]):(0,J.Ru)("repeat_monthly"),i=n&&n.isValid()?(0,ie.JT)((0,J.Ru)("repeat_yearly_on"),[{key:"date",value:(0,oe.GP)(n.toDate(),"MMMM d")}]):(0,J.Ru)("repeat_yearly");return[{value:"none",label:(0,J.Ru)("repeat_none")},{value:"daily",label:(0,J.Ru)("repeat_daily")},{value:"weekday",label:(0,J.Ru)("repeat_weekday")},{value:"weekly",label:e},{value:"monthly",label:t},{value:"yearly",label:i},{value:"custom",label:(0,J.Ru)("repeat_custom")}]}),[n]);return r.createElement(r.Fragment,null,r.createElement(ge.A.Item,{label:(0,J.Ru)("repeat"),name:"repeat"},r.createElement(d.A,{options:a})),"custom"===i&&r.createElement(Le.A,null))};const $e=function(e){var t,n=e.goal,o=(0,R.S)().user,s=(0,k.jE)(),d=(0,Ee.wA)(),g=(0,r.useState)(!1),f=(0,a.A)(g,2),v=f[0],h=f[1],y=(0,r.useState)(!1),w=(0,a.A)(y,2),E=w[0],_=w[1],N=(0,r.useState)(null),S=(0,a.A)(N,2),z=S[0],C=S[1],O=(0,r.useState)((0,pe.A)(n.milestones||[]).sort((function(e,t){return(e.order||0)-(t.order||0)}))),P=(0,a.A)(O,2),T=P[0],I=P[1],F=(0,r.useState)(null),M=(0,a.A)(F,2),Y=M[0],V=M[1],K=(0,r.useState)(null),H=(0,a.A)(K,2),U=H[0],Q=H[1],W=(0,r.useState)(0),Z=(0,a.A)(W,2),L=Z[0],B=Z[1],X=(0,r.useState)(0),$=(0,a.A)(X,2),ee=$[0],te=$[1],ne=(0,r.useState)({}),re=(0,a.A)(ne,2),se=re[0],ce=re[1],me=(0,r.useState)(null),Re=(0,a.A)(me,2),Ne=Re[0],Se=Re[1],ze=(0,r.useState)(null),Ce=(0,a.A)(ze,2),De=Ce[0],Oe=Ce[1],Pe=ge.A.useForm(),je=(0,a.A)(Pe,1)[0],Ie=ge.A.useForm(),Fe=(0,a.A)(Ie,1)[0],Me=(0,r.useState)(!1),Ye=(0,a.A)(Me,2),Ve=Ye[0],Ke=Ye[1],qe=(0,r.useState)(null),He=(0,a.A)(qe,2),Ue=He[0],Qe=He[1],Le=(0,r.useState)(),Je=(0,a.A)(Le,2),$e=Je[0],et=Je[1],tt=(0,r.useState)(!1),nt=(0,a.A)(tt,2),it=nt[0],at=nt[1],ot=(0,r.useCallback)((function(e,t){if(!e)return"none";var n=function(e){return e?e.startsWith("RRULE:")?e.slice(6):e:""}(e),i=/FREQ=([A-Z]+)/.exec(n),a=/BYDAY=([A-Z,]+)/.exec(n),o=null==i?void 0:i[1];if(!o)return"custom";if("DAILY"===o)return"daily";if("WEEKLY"===o){var l=null==a?void 0:a[1];if("MO,TU,WE,TH,FR"===l)return"weekday";if(t&&l)if(l===(0,oe.GP)(t,"EEEEEE").toUpperCase().slice(0,2))return"weekly";return"custom"}return"MONTHLY"===o?"monthly":"YEARLY"===o?"yearly":"custom"}),[]);(0,r.useEffect)((function(){var e;if(null!==(e=n.milestones)&&void 0!==e&&e.length){var t=(0,pe.A)(n.milestones).sort((function(e,t){return(e.order||0)-(t.order||0)}));I(t);var i=t.find((function(e){return!e.isDone}));i&&ce((0,ue.A)({},i._id,!0))}}),[n.milestones]),(0,r.useEffect)((function(){var e=function(e){!Ne||e.target.closest(".ant-picker")||e.target.closest(".milestone-deadline")||e.target.closest(".ant-picker-ranges")||e.target.closest(".ant-picker-panel")||Se(null),!De||e.target.closest(".ant-picker")||e.target.closest(".action-deadline")||e.target.closest(".ant-picker-ranges")||e.target.closest(".ant-picker-panel")||Oe(null)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[Ne,De]);var lt,rt=function(e){B(e),C(null),je.resetFields(),h(!0)},st=function(e){C(e),B(0),je.setFieldsValue({milestone:e.milestone,deadline:e.deadline?de()(e.deadline):void 0}),h(!0)},ct=function(e,t){Q(e),te(t),V(null),Fe.resetFields(),_(!0)},mt=function(e,t){var n,i;Q(e),V(t);var a=null!==(n=t.recurrence)&&void 0!==n&&n.rrule?ot(t.recurrence.rrule,t.recurrence.startDate):"none",o="custom"===a?(0,ae.kB)(null===(i=t.recurrence)||void 0===i?void 0:i.rrule):void 0,l={action:t.action,deadline:t.deadline?de()(t.deadline):void 0,duration_minutes:t.duration_minutes,firstStartTime:t.firstStartTime?de()(t.firstStartTime,"HH:mm"):void 0,firstEndTime:t.firstEndTime?de()(t.firstEndTime,"HH:mm"):void 0,repeat:a,customRecurrence:o?Be(Be({},o),{},{endDate:o.endDate?de()(o.endDate):void 0}):void 0};Fe.setFieldsValue(l),_(!0)},dt=function(){var e=(0,i.A)(l().mark((function e(){var t,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ke(!0),e.next=4,(0,A.ti)(n._id,1);case 4:(t=e.sent).length>0&&(i=t[0],je.setFieldsValue({milestone:i.milestone,deadline:i.deadline?de()(i.deadline):void 0}),Qe(i)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 12:return e.prev=12,Ke(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=(0,i.A)(l().mark((function e(){var t,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.validateFields();case 3:if(i=e.sent,!z){e.next=13;break}return a=Be(Be({},z),{},{milestone:i.milestone,deadline:i.deadline?i.deadline.toDate():void 0}),e.next=8,(0,A.K5)(n._id,z._id,a);case 8:return s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),h(!1),Qe(null),e.abrupt("return");case 13:return o={milestone:i.milestone,deadline:i.deadline?i.deadline.toDate():void 0,order:L+1},null!=Ue&&null!==(t=Ue.actions)&&void 0!==t&&t.length&&(o.actions=Ue.actions.map((function(e){return{action:e.action,order:e.order,deadline:e.deadline}}))),e.next=17,(0,A.kH)(n._id,o);case 17:s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),h(!1),Qe(null),e.next=28;break;case 23:if(e.prev=23,e.t0=e.catch(0),!e.t0.errorFields){e.next=27;break}return e.abrupt("return");case 27:c.Ay.error((0,J.Ru)("unexpected_error_message"));case 28:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=(0,i.A)(l().mark((function e(){var t,i,a,r,m,d,u,p,g;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Fe.validateFields();case 5:if(t=e.sent,"none"!==(i=t.repeat||"none")&&t.firstStartTime&&(m=(null==o||null===(r=o.preferences)||void 0===r?void 0:r.timezone)||(0,ae.C7)(),d=t.firstStartTime.toDate(),u="custom"===i?(0,ae.yK)(d,t.customRecurrence):(0,ae.g_)(d,i),a={rrule:u,tzid:m,startDate:d}),!Y){e.next=16;break}return p=Be(Be({},Y),{},{action:t.action,deadline:t.deadline?t.deadline.toDate():void 0,duration_minutes:t.duration_minutes,firstStartTime:t.firstStartTime?t.firstStartTime.format("HH:mm"):void 0,firstEndTime:t.firstEndTime?t.firstEndTime.format("HH:mm"):void 0,recurrence:a}),e.next=12,(0,A.ue)(n._id,U._id,Y._id,p);case 12:return s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),_(!1),e.abrupt("return");case 16:return g={action:t.action,deadline:t.deadline?t.deadline.toDate():void 0,duration_minutes:t.duration_minutes,firstStartTime:t.firstStartTime?t.firstStartTime.format("HH:mm"):void 0,firstEndTime:t.firstEndTime?t.firstEndTime.format("HH:mm"):void 0,recurrence:a,order:ee+1},e.next=19,(0,A.n)(n._id,U._id,g);case 19:s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),_(!1),e.next=29;break;case 24:if(e.prev=24,e.t0=e.catch(2),!e.t0.errorFields){e.next=28;break}return e.abrupt("return");case 28:c.Ay.error((0,J.Ru)("unexpected_error_message"));case 29:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(){return e.apply(this,arguments)}}(),gt=function(e,t){Q(e),V(t),t.eventId?(0,we.Z8)(t.eventId).then((function(e){et(e),at(!0)})).catch((function(n){c.Ay.error((0,J.Ru)("unexpected_error_message")||"Failed to load event data"),ft(e,t)})):ft(e,t)},ft=function(e,t){var i,o,l=t.deadline?new Date(t.deadline):new Date;if(t.firstStartTime){var r=t.firstStartTime.split(":").map(Number),s=(0,a.A)(r,2),c=s[0],m=s[1];(o=new Date(l)).setHours(c,m,0,0)}else o=l;var d,u=t.duration_minutes||60;if(t.firstEndTime){var p=t.firstEndTime.split(":").map(Number),g=(0,a.A)(p,2),f=g[0],v=g[1];(d=new Date(l)).setHours(f,v,0,0)}else d=(0,ke.z)(o,u);var b={title:t.action,description:"From goal: ".concat(n.title).concat(e?"\n- Milestone: ".concat(e.milestone):""),startDate:o,endDate:d};null!==(i=t.recurrence)&&void 0!==i&&i.rrule&&(b.recurrence={rrule:t.recurrence.rrule,tzid:t.recurrence.tzid}),et(b),at(!0)},vt=function(){at(!1),et(void 0),Q(null),V(null)},bt=function(){var e=(0,i.A)(l().mark((function e(t){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i={_id:t._id||"",title:t.title,startDate:t.startDate,endDate:t.endDate,description:t.description,status:G.c},null==Y||!Y.eventId){e.next=13;break}if(d((0,_e.tQ)(Be(Be({},i),{},{_id:Y.eventId}))),!U||!Y){e.next=11;break}if(a=Y.deadline?new Date(Y.deadline):null,a&&a.getDate()===t.startDate.getDate()&&a.getMonth()===t.startDate.getMonth()&&a.getFullYear()===t.startDate.getFullYear()){e.next=11;break}return e.next=10,(0,A.ue)(n._id,U._id,Y._id,{deadline:t.startDate});case 10:s.invalidateQueries({queryKey:["goal"]});case 11:e.next=18;break;case 13:if(d((0,_e.l2)(Be(Be({},i),{},{_id:t._id}))),!U||!Y){e.next=18;break}return e.next=17,(0,A.ue)(n._id,U._id,Y._id,{eventId:t._id,deadline:t.startDate});case 17:s.invalidateQueries({queryKey:["goal"]});case 18:vt(),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",{className:"goal-milestones"},r.createElement("div",{className:"milestone-header flex-row gap-x-8 align-center"},r.createElement("div",{className:"flex items-center gap-x-8"},r.createElement(Ge,{level:4},(0,J.Ru)("goal_milestones_title"))),r.createElement(m.Ay,{color:"primary",variant:"filled",icon:r.createElement(D.A,null),onClick:function(){var e;return rt((null===(e=n.milestones)||void 0===e?void 0:e.length)||0)}},(0,J.Ru)("goal_milestones_add_new"))),r.createElement("div",{className:"milestones-timeline"},r.createElement(fe.A,{items:null!==(lt=n.milestones)&&void 0!==lt&&lt.length?T.map((function(e){return{key:e._id,dot:e.isDone?r.createElement(ye.A,{className:"milestone-done-icon"}):r.createElement(j.A,{className:"milestone-pending-icon"}),children:r.createElement(We,{isExpanded:se[e._id],goalId:n._id,milestone:e,onAddMilestone:rt,onEditMilestone:st,onAddAction:ct,onEditAction:mt,onSyncAction:gt})}})):[{key:"empty",dot:r.createElement(j.A,null),children:r.createElement("div",{className:"milestone-empty"},(0,J.Ru)("goal_milestones_empty"))}]})),r.createElement(ve.A,{title:z?(0,J.Ru)("goal_milestones_edit"):(0,J.Ru)("goal_milestones_add_new"),centered:!0,keyboard:!1,open:v,onOk:ut,onCancel:function(){h(!1),Qe(null)},okText:(0,J.Ru)("common_save_changes"),cancelText:(0,J.Ru)("common_no"),wrapClassName:"lzv-theme-light lzv-theme-dark goal-milestone-modal"},r.createElement(ge.A,{form:je,layout:"vertical",className:"milestone-form"},r.createElement("div",{className:"flex gap-x-8 items-center"},r.createElement(ge.A.Item,{name:"milestone",className:"flex-1",label:(0,J.Ru)("goal_milestones_milestone"),rules:[{required:!0,message:(0,J.Ru)("common_required_field")}]},r.createElement(be.A.TextArea,{autoSize:{minRows:2,maxRows:6}})),r.createElement(Ae.A,{style:{borderRadius:8},icon:r.createElement(q.A,{style:{width:14,height:14}}),onClick:dt,loading:Ve},(0,ie.JT)((0,J.Ru)("common_bot_suggests"),[{key:"bot_name",value:le.Zw}]))),r.createElement(ge.A.Item,{name:"deadline",label:(0,J.Ru)("goal_milestones_deadline")},r.createElement(b.A,{className:"w-full",format:{format:"YYYY-MM-DD",type:"mask"},disabledDate:function(e){return e&&e<de()().startOf("day")}})),Ue&&r.createElement("div",{className:"milestone-preview-container"},r.createElement(Te,{milestone:Ue,onMilestoneChange:function(e){Ue&&(Qe(Be(Be({},Ue),{},{milestone:e})),je.setFieldsValue({milestone:e}))},onDeadlineChange:function(e){Ue&&(Qe(Be(Be({},Ue),{},{deadline:e||void 0})),je.setFieldsValue({deadline:e?de()(e):void 0}))},onActionChange:function(e,t,n){var i;Ue&&Qe(Be(Be({},Ue),{},{actions:null===(i=Ue.actions)||void 0===i?void 0:i.map((function(i){return i._id===e?Be(Be({},i),{},{action:t,deadline:n||void 0}):i}))}))},onAddAction:function(){if(Ue){var e,t={_id:"temp-".concat(Date.now()),action:"",order:((null===(e=Ue.actions)||void 0===e?void 0:e.length)||0)+1,isDone:!1,createdAt:new Date};Qe(Be(Be({},Ue),{},{actions:[].concat((0,pe.A)(Ue.actions||[]),[t])}))}}})))),r.createElement(ve.A,{title:Y?(0,J.Ru)("goal_actions_edit"):(0,ie.JT)((0,J.Ru)("goal_actions_add_new"),[{key:"user",value:(null==o||null===(t=o.name)||void 0===t?void 0:t.split(" ")[0])||""}]),open:E,onOk:pt,onCancel:function(){return _(!1)},okText:(0,J.Ru)("common_save_changes"),cancelText:(0,J.Ru)("common_cancel"),width:500},r.createElement(ge.A,{form:Fe,layout:"vertical",className:"action-form"},r.createElement(ge.A.Item,{name:"action",rules:[{required:!0,message:(0,J.Ru)("common_required_field")}]},r.createElement(be.A.TextArea,{placeholder:(0,J.Ru)("goal_actions_action_placeholder"),autoSize:{minRows:2,maxRows:6}})),r.createElement(ge.A.Item,{name:"deadline",label:(0,J.Ru)("goal_actions_deadline_placeholder")},r.createElement(b.A,{className:"w-full",placeholder:(0,J.Ru)("goal_actions_deadline_placeholder"),disabledDate:function(e){return e&&e<de()().startOf("day")}})),r.createElement(ge.A.Item,{name:"duration_minutes",label:(0,J.Ru)("week_view_activity_duration")},r.createElement("div",{className:"duration-control",style:{display:"flex",gap:"8px",alignItems:"center"}},r.createElement(m.Ay,{icon:r.createElement(he.A,null),onClick:function(){var e=Fe.getFieldValue("duration_minutes")||60;Fe.setFieldValue("duration_minutes",Math.max(15,e-15))}}),r.createElement(x.A,{min:15,step:15,style:{flex:1},addonAfter:(0,J.Ru)("week_view_activity_duration_minutes")}),r.createElement(m.Ay,{icon:r.createElement(D.A,null),onClick:function(){var e=Fe.getFieldValue("duration_minutes")||60;Fe.setFieldValue("duration_minutes",e+15)}}))),r.createElement(u.A,{gutter:16},r.createElement(p.A,{span:12},r.createElement(ge.A.Item,{label:(0,J.Ru)("common_start_time"),name:"firstStartTime"},r.createElement(xe.A,{format:"HH:mm",minuteStep:15,style:{width:"100%"},needConfirm:!1}))),r.createElement(p.A,{span:12},r.createElement(ge.A.Item,{label:(0,J.Ru)("common_end_time"),name:"firstEndTime"},r.createElement(xe.A,{format:"HH:mm",minuteStep:15,style:{width:"100%"},needConfirm:!1})))),r.createElement(Xe,{actionForm:Fe}))),r.createElement(Ze.A,{visible:it,event:$e,onClose:vt,onSave:bt}))};var et=n(49409),tt=n(66672),nt=n(58168),it=n(58256),at=n(40377),ot=n(14154),lt=function(e){return"/goals/".concat(e,"/knowledge-base")};function rt(e,t){return st.apply(this,arguments)}function st(){return(st=(0,i.A)(l().mark((function e(t,n){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new FormData).append("file",n),e.next=4,(0,ot.PA)().post("".concat(lt(t),"/upload"),i);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return mt.apply(this,arguments)}function mt(){return(mt=(0,i.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ot.PA)().get(lt(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t){return ut.apply(this,arguments)}function ut(){return(ut=(0,i.A)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ot.PA)().delete("".concat(lt(t),"/").concat(n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e){return gt.apply(this,arguments)}function gt(){return(gt=(0,i.A)(l().mark((function e(t){var n,i,a,o,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="".concat(le.Fh).concat(lt(t),"/stream"),i=le.yi,le.ZX!==le.mE.web){e.next=5;break}return a="".concat(n,"?loginType=").concat(i),e.abrupt("return",new at.EventSourcePolyfill(a,{withCredentials:!0,heartbeatTimeout:45e3}));case 5:return e.next=7,J.u9.getGoogleAuthTokenSilent();case 7:return o=e.sent,r="".concat(n,"?token=").concat(encodeURIComponent(o),"&loginType=").concat(i),e.abrupt("return",new EventSource(r));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(53959);var ft=function(e){var t=e.goalId,n=e.onUploadComplete,o=(0,r.useState)(!1),s=(0,a.A)(o,2),c=s[0],m=s[1],d=(0,r.useState)(0),u=(0,a.A)(d,2),p=u[0],g=u[1],f=(0,r.useState)(null),v=(0,a.A)(f,2),b=v[0],x=v[1],h=(0,r.useCallback)(function(){var e=(0,i.A)(l().mark((function e(i){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.length){e.next=2;break}return e.abrupt("return");case 2:return a=i[0],m(!0),x(null),g(0),e.prev=6,g(50),e.next=10,rt(t,a);case 10:g(100),setTimeout((function(){n(),m(!1),g(0)}),500),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),x(e.t0.message||(0,J.Ru)("knowledge_base_upload_failed")),m(!1),g(0);case 19:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),[t,n]),y=(0,it.VB)({onDrop:h,accept:{"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"],"text/plain":[".txt"],"text/markdown":[".md"],"text/html":[".html"],"text/csv":[".csv"],"text/xml":[".xml",".rss"]},maxSize:52428800,multiple:!1,disabled:c}),w=y.getRootProps,k=y.getInputProps,E=y.isDragActive;return r.createElement("div",{className:"knowledge-base-uploader"},r.createElement("div",(0,nt.A)({},w(),{className:"dropzone ".concat(E?"active":""," ").concat(c?"disabled":"")}),r.createElement("input",k()),c?r.createElement("div",{className:"upload-progress"},r.createElement("div",{className:"spinner"}),r.createElement("p",null,(0,J.Ru)("knowledge_base_uploading",[{key:"progress",value:p.toString()}])),r.createElement("div",{className:"progress-bar"},r.createElement("div",{className:"progress-fill",style:{width:"".concat(p,"%")}}))):r.createElement("div",{className:"upload-prompt"},r.createElement("svg",{className:"upload-icon",width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor"},r.createElement("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"})),E?r.createElement("p",null,(0,J.Ru)("knowledge_base_drop_file_here")):r.createElement(r.Fragment,null,r.createElement("p",null,(0,J.Ru)("knowledge_base_drag_drop_prompt")),r.createElement("p",{className:"file-types"},(0,J.Ru)("knowledge_base_supported_formats"))))),b&&r.createElement("div",{className:"error-message"},r.createElement("span",{className:"error-icon"},"\u26a0\ufe0f"),b))},vt="pending",bt="processing",xt="ready",ht="failed",yt=n(77796),wt=n(17308),kt=n(42652),Et=n(63316),_t=n(36029);n(21696);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){(0,ue.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt=s.A.Text,St=s.A.Title,zt=function(e){var t=e.goalId,n=(0,r.useState)([]),o=(0,a.A)(n,2),s=o[0],c=o[1],d=(0,r.useState)(!0),u=(0,a.A)(d,2),p=u[0],g=u[1],v=(0,r.useRef)(null),b=r.useCallback((0,i.A)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ct(t);case 3:n=e.sent,c(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:return e.prev=10,g(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])}))),[t]),x=function(e){return e.some((function(e){return e.status===vt||e.status===bt}))},y=r.useCallback((0,i.A)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.current&&(v.current.close(),v.current=null),x(s)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,pt(t);case 6:n=e.sent,v.current=n,n.onopen=function(){},n.onmessage=function(e){try{var t=JSON.parse(e.data);if("connected"===t.type)return;t.kbId&&t.status&&(c((function(e){return e.map((function(e){return e._id===t.kbId?Rt(Rt({},e),{},{status:t.status,chunkCount:t.chunkCount||e.chunkCount}):e}))})),c((function(e){return x(e)||(n.close(),v.current=null),e})))}catch(e){}},n.onerror=function(e){n.close(),v.current=null,setTimeout((function(){x(s)&&y()}),5e3)},e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),[t,s]);(0,r.useEffect)((function(){return b(),function(){v.current&&(v.current.close(),v.current=null)}}),[t,b]),(0,r.useEffect)((function(){x(s)&&!v.current?y():!x(s)&&v.current&&(v.current.close(),v.current=null)}),[s,y]);var w=function(){var e=(0,i.A)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt(t,n);case 3:return e.next=5,b();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",{className:"knowledge-base-section animate-fade"},r.createElement(f.A,{direction:"vertical",size:"large",className:"full-width"},r.createElement("div",{className:"kb-header"},r.createElement(St,{level:4,className:"margin-0 kb-title"},(0,J.Ru)("knowledge_base_section_title")),r.createElement(Nt,{type:"secondary",className:"kb-description"},(0,J.Ru)("knowledge_base_section_description"))),r.createElement(ft,{goalId:t,onUploadComplete:b}),s.some((function(e){return e.status===ht}))&&r.createElement(yt.A,{message:(0,J.Ru)("knowledge_base_error_notice"),type:"error",showIcon:!0,closable:!0}),p?r.createElement(f.A,{direction:"vertical",className:"full-width",size:"middle"},r.createElement(h.A,{active:!0,paragraph:{rows:2}}),r.createElement(h.A,{active:!0,paragraph:{rows:2}})):0===s.length?r.createElement(wt.A,{image:wt.A.PRESENTED_IMAGE_SIMPLE,description:(0,J.Ru)("knowledge_base_empty_state"),className:"kb-empty-state"}):r.createElement(kt.A,{className:"kb-list",dataSource:s,renderItem:function(e){var t,n=(t=e.status,(0,ue.A)((0,ue.A)((0,ue.A)((0,ue.A)({},vt,{icon:r.createElement(Et.A,{style:{color:"var(--color-warning)"}}),text:(0,J.Ru)("knowledge_base_status_pending"),color:"var(--color-warning)"}),bt,{icon:r.createElement(Ke.A,{spin:!0,style:{color:"var(--color-info)"}}),text:(0,J.Ru)("knowledge_base_status_processing"),color:"var(--color-info)"}),xt,{icon:r.createElement(ye.A,{style:{color:"var(--color-success)"}}),text:(0,J.Ru)("knowledge_base_status_ready"),color:"var(--color-success)"}),ht,{icon:r.createElement(_t.A,{style:{color:"var(--color-error)"}}),text:(0,J.Ru)("knowledge_base_status_failed"),color:"var(--color-error)"})[t]);return r.createElement(kt.A.Item,{key:e._id,className:"kb-list-item"},r.createElement("div",{className:"kb-item-content"},r.createElement("div",{className:"kb-item-main"},r.createElement("div",{className:"kb-item-icon"},r.createElement(Y.A,null)),r.createElement("div",{className:"kb-item-details"},r.createElement("div",{className:"kb-item-header"},r.createElement(Nt,{strong:!0,className:"kb-item-name"},e.fileName)),r.createElement("div",{className:"kb-item-meta"},r.createElement(Nt,{type:"secondary",className:"kb-item-meta-text"},e.chunkCount?"".concat(e.chunkCount," ").concat((0,J.Ru)("knowledge_base_table_chunks").toLowerCase()):"-"),r.createElement("span",{className:"kb-item-separator"},"\u2022"),r.createElement(Nt,{type:"secondary",className:"kb-item-meta-text"},(0,oe.GP)(new Date(e.uploadedAt),"MMM d, yyyy"))))),r.createElement("div",{className:"kb-item-status"},n.icon,r.createElement(Nt,{style:{color:n.color,fontSize:13}},n.text)),r.createElement("div",{className:"kb-item-actions"},r.createElement(Fe.A,{title:(0,J.Ru)("knowledge_base_delete_confirm"),onConfirm:function(){return w(e._id)},okText:(0,J.Ru)("common_delete"),cancelText:(0,J.Ru)("common_cancel")},r.createElement(m.Ay,{type:"text",danger:!0,icon:r.createElement(Ye.A,null),size:"small",className:"kb-delete-btn"})))))}})))},Ct=n(85015),Dt=n(91196),Ot=n(34665),Pt=n(56179),Tt=s.A.Text,jt=function(e){var t=e.visible,n=e.onClose,o=e.goalId,s=e.goalTitle,c=Ct.A.useApp().message,d=(0,r.useState)(""),u=(0,a.A)(d,2),p=u[0],g=u[1],b=(0,r.useState)(""),x=(0,a.A)(b,2),h=x[0],y=x[1],w=(0,r.useState)(!1),k=(0,a.A)(w,2),E=k[0],_=k[1],R=(0,r.useState)(!1),N=(0,a.A)(R,2),S=N[0],z=N[1],C=(0,r.useState)(!1),D=(0,a.A)(C,2),O=D[0],P=D[1],T=(0,r.useState)([]),j=(0,a.A)(T,2),I=j[0],F=j[1],M=(0,r.useState)([]),Y=(0,a.A)(M,2),V=Y[0],K=Y[1],q=(0,r.useState)(!1),H=(0,a.A)(q,2),U=H[0],Q=H[1],W=(0,r.useRef)(null),Z=(0,r.useCallback)((0,i.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.prev=1,e.next=4,(0,A.GN)(o);case 4:t=e.sent,F(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:return e.prev=11,Q(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])}))),[o]),L=(0,r.useCallback)((0,i.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,(0,A.FZ)(o,V.length>0?V:void 0);case 4:t=e.sent,g(t.shareUrl),y(t.shareToken),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c.error((0,J.Ru)("unexpected_error_message"));case 12:return e.prev=12,_(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),[o,V,c]);(0,r.useEffect)((function(){t&&o&&Z()}),[t,o,Z]),(0,r.useEffect)((function(){t&&o&&!U&&L()}),[t,o,U,L]),(0,r.useEffect)((function(){t&&p&&W.current&&setTimeout((function(){var e;null===(e=W.current)||void 0===e||e.select()}),100)}),[t,p]);var B=function(){var e=(0,i.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(p);case 3:P(!0),c.success((0,J.Ru)("goal_share_link_copied")),setTimeout((function(){P(!1)}),2e3),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.error((0,J.Ru)("unexpected_error_message"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,i.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return z(!0),e.prev=3,e.next=6,(0,A.k5)(h);case 6:c.success((0,J.Ru)("goal_share_stopped")),X(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),c.error((0,J.Ru)("unexpected_error_message"));case 13:return e.prev=13,z(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),X=function(){P(!1),g(""),y(""),F([]),K([]),n()};return r.createElement(ve.A,{title:(0,J.Ru)("goal_share_modal_title"),open:t,onCancel:X,footer:null,width:"min(800px, 80vw)"},r.createElement(f.A,{direction:"vertical",style:{width:"100%"},size:"large"},r.createElement("div",null,r.createElement(Tt,{type:"secondary",style:{fontSize:14,marginBottom:8,display:"block"}},s),r.createElement(f.A.Compact,{style:{width:"100%"}},r.createElement(be.A,{ref:W,value:p,readOnly:!0,placeholder:E?(0,J.Ru)("common_loading"):"",style:{flex:1},onFocus:function(e){return e.target.select()}}),r.createElement(m.Ay,{type:"primary",icon:O?r.createElement(ze.A,null):r.createElement(Ot.A,null),onClick:B,disabled:E||!p},(0,J.Ru)("goal_share_copy_link")))),I.length>0&&r.createElement(r.Fragment,null,r.createElement(v.A,{style:{margin:"12px 0"}}),r.createElement("div",null,r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12}},r.createElement(Tt,{strong:!0,style:{fontSize:14}},(0,J.Ru)("goal_share_include_kb")),r.createElement(f.A,{size:"small"},r.createElement(m.Ay,{size:"small",type:"link",onClick:function(){K(I.map((function(e){return e._id})))},disabled:E},(0,J.Ru)("goal_share_kb_select_all")),r.createElement(m.Ay,{size:"small",type:"link",onClick:function(){K([])},disabled:E},(0,J.Ru)("goal_share_kb_clear")))),r.createElement(Dt.A.Group,{value:V,onChange:function(e){K(e)},style:{width:"100%"},disabled:E},r.createElement(f.A,{direction:"vertical",style:{width:"100%"}},I.map((function(e){return r.createElement(Dt.A,{key:e._id,value:e._id,style:{width:"100%"}},r.createElement(f.A,null,r.createElement(Pt.A,null),r.createElement("span",null,e.fileName),r.createElement(Tt,{type:"secondary",style:{fontSize:12}},"(",e.chunkCount," chunks, ",new Date(e.uploadedAt).toLocaleDateString(),")")))})))),r.createElement(Tt,{type:"secondary",style:{fontSize:12,display:"block",marginTop:8}},"Selected files will be available to users who clone this goal."))),0===I.length&&!U&&r.createElement(r.Fragment,null,r.createElement(v.A,{style:{margin:"12px 0"}}),r.createElement("div",null,r.createElement(Tt,{strong:!0,style:{fontSize:14,display:"block",marginBottom:8}},(0,J.Ru)("goal_share_include_kb")),r.createElement(Tt,{type:"secondary",style:{fontSize:12}},(0,J.Ru)("goal_share_kb_none")))),r.createElement("div",{style:{textAlign:"center",paddingTop:8}},r.createElement(Fe.A,{title:(0,J.Ru)("goal_share_stop_confirm_title"),description:(0,J.Ru)("goal_share_stop_confirm_description"),onConfirm:G,okText:(0,J.Ru)("common_yes"),cancelText:(0,J.Ru)("common_no"),okButtonProps:{danger:!0}},r.createElement(m.Ay,{type:"text",danger:!0,icon:r.createElement(Ye.A,null),loading:S,disabled:E||!p},(0,J.Ru)("goal_share_stop_button"))))))},It=s.A.Text,Ft=function(e){var t=e.goal,n=e.onShareClick,o=(0,R.S)().screenWidth,s=(0,z.Zp)(),h=(0,k.jE)(),y=(0,r.useState)([]),w=(0,a.A)(y,2),_=w[0],N=w[1],S=(0,r.useState)(null),Y=(0,a.A)(S,2),V=Y[0],K=Y[1],H=(0,r.useState)(1),U=(0,a.A)(H,2),Q=U[0],W=U[1],Z=(0,r.useState)("hour"),L=(0,a.A)(Z,2),B=L[0],X=L[1],$=(0,r.useState)(1),ee=(0,a.A)($,2),te=ee[0],se=ee[1],me=(0,r.useState)("week"),ue=(0,a.A)(me,2),pe=ue[0],ge=ue[1],fe=(0,r.useState)(0),ve=(0,a.A)(fe,2),be=ve[0],xe=ve[1],he=(0,r.useState)(!1),ye=(0,a.A)(he,2),we=ye[0],ke=ye[1],Ee=(0,r.useState)(!1),_e=(0,a.A)(Ee,2),Ae=_e[0],Re=_e[1],Ne=(0,r.useState)(!1),Se=(0,a.A)(Ne,2),ze=Se[0],Ce=Se[1];(0,r.useEffect)((function(){Ce(o<=le.NU.sm)}),[o]);var De=(0,E.n)({mutationFn:function(e){return(0,A.lB)(e)},onSuccess:function(){h.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("goal_milestones_generated_success"))},onError:function(){c.Ay.error((0,J.Ru)("unexpected_error_message"))}});(0,r.useEffect)((function(){var e,n=[],i=function(e,n){var i=(null===(e=t.milestones)||void 0===e?void 0:e.length)||0;if(0===i)return 0;var a=100/i;return(null===(n=t.milestones)||void 0===n?void 0:n.reduce((function(e,t){if(t.isDone)return e+a;var n=t.actions||[];return n.length>0?e+n.filter((function(e){return e.isDone})).length/n.length*a:e}),0))||0}();xe(5*Math.floor(i/5)),null!==(e=t.milestones)&&void 0!==e&&e.length||n.push({id:"milestones",type:"milestones",content:(0,J.Ru)("goal_detail_suggestion_add_milestones"),icon:r.createElement(C.A,null),description:(0,J.Ru)("goal_detail_suggestion_add_milestones_description")}),N(n)}),[t]),(0,r.useEffect)((function(){t.allocationValue&&(W(t.allocationValue),X(t.allocationUnit||"hour"),se(t.allocationValuePerUnit||1),ge(t.allocationValuePerUnitUnit||"week")),t.deadline&&K(new Date(t.deadline))}),[t]);var Oe,Te,je=function(e){if("milestones"===e)De.mutate(t._id)},Ie=function(e){return"milestones"===e.type?r.createElement(m.Ay,{type:"primary",className:"is-deep",onClick:function(){return je(e.type)},icon:r.createElement(q.A,{style:{width:14,height:14,marginRight:8}}),loading:De.isPending,disabled:De.isPending},(0,J.Ru)("common_generate")):r.createElement(m.Ay,{type:"primary",className:"is-deep",onClick:function(){return je(e.type)},icon:r.createElement(D.A,null)},(0,J.Ru)("common_add"))};return r.createElement("div",{className:"goal-detail-content"},r.createElement("div",{className:"goal-header ".concat(ze?"bot-16px":"top-bot-16px")},r.createElement("div",{className:"goal-header--main-layout"},r.createElement("div",{className:"goal-header--back-button"},r.createElement(m.Ay,{color:"default",variant:"filled",icon:r.createElement(O.A,null),shape:"circle",onClick:function(){return s("/goals")},size:ze?"small":"middle"})),r.createElement("div",{className:"goal-header--content"},r.createElement("div",{className:"goal-header--title-row"},r.createElement("div",{className:"goal-header--title"},t.emoji&&r.createElement("span",{className:"goal-emoji"},t.emoji),r.createElement(Pe,{className:"flex-1",item:{text:t.title,value:t.title},labelStyle:{fontSize:"24px",fontWeight:600,lineHeight:1.4,color:"var(--color-text)",margin:0},onFinished:function(){var e=(0,i.A)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.TO)(t._id,{title:n.text.trim()});case 2:h.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),r.createElement("div",{className:"goal-meta-tags gap-x-8"},r.createElement(d.A,{suffixIcon:null,value:t.priority,onChange:function(e){(0,A.TO)(t._id,{priority:e}).then((function(){h.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved"))}))},optionRender:function(e){return r.createElement("div",{style:{textAlign:"center"}},e.label)},labelRender:function(e){return r.createElement("div",{style:{textAlign:"center"}},e.label)},style:{width:120},options:ne.Z}),r.createElement(tt.A,{position:"end",speed:"slow"},r.createElement(m.Ay,{icon:r.createElement(P.A,null),type:"text",onClick:n,size:ze?"small":"middle"},!ze&&(0,J.Ru)("goal_share_button"))))),t.detail&&r.createElement("p",{className:"goal-detail--subtitle"},t.detail)))),r.createElement("div",{className:"overflow-x-auto"},r.createElement(u.A,{gutter:[12,12],className:"goal-meta-info no-wrap"},r.createElement(p.A,{xs:20,sm:20,md:{flex:1},style:ze?{}:{minWidth:300}},r.createElement("div",{className:"meta-item"},r.createElement(T.A,null),r.createElement("div",{className:"meta-content"},r.createElement("div",{className:"meta-title"},(0,J.Ru)("goal_detail_progress")),r.createElement(g.A,{percent:be,status:"active"})))),r.createElement(p.A,{xs:24,sm:24,md:{flex:1},style:ze?{minWidth:380}:{minWidth:280}},r.createElement("div",{className:"meta-item"},r.createElement(j.A,null),r.createElement("div",{className:"meta-content"},r.createElement("div",{className:"meta-title flex justify-between align-center"},t.deadline?(0,J.Ru)("goal_detail_time_remaining"):(0,J.Ru)("goal_detail_suggestion_add_deadline"),t.deadline&&!we&&r.createElement(m.Ay,{type:"text",icon:r.createElement(I.A,null),onClick:function(){return ke(!0)},size:"small"})),t.deadline&&!we?r.createElement(f.A,{direction:"vertical",size:4},(Oe=new Date,Te=new Date(t.deadline),Oe>Te?r.createElement(It,{type:"danger"},(0,J.Ru)("goal_detail_time_remaining_overdue")):r.createElement(It,null,(0,ie.JT)((0,J.Ru)("goal_detail_time_remaining_format"),[{key:"time_remaining",value:(0,ae.U0)({toDate:Te,fromDate:Oe,locale:(0,le.vv)()})},{key:"due_date",value:(0,oe.GP)(Te,le.Yu[(0,le.vv)()],{locale:(0,ie.Ex)((0,le.vv)())})}])))):r.createElement(f.A.Compact,{className:"full-width"},r.createElement(d.A,{style:{flex:1},placeholder:(0,J.Ru)("select"),suffixIcon:r.createElement(F.A,null),value:V?de()(V).format("YYYY-MM-DD"):void 0,onChange:function(e){if(e){var t=de()();if(e.includes("week")){var n=parseInt(e);K(t.add(n,"week").toDate())}else if(e.includes("month")){var i=parseInt(e);K(t.add(i,"month").toDate())}else if(e.includes("year")){var a=parseInt(e);K(t.add(a,"year").toDate())}}else K(null)},dropdownRender:function(e){return r.createElement(r.Fragment,null,e,r.createElement(v.A,{style:{margin:"8px 0"}}),r.createElement("div",{style:{padding:"0 8px 4px"}},r.createElement(b.A,{style:{width:"100%"},placeholder:(0,J.Ru)("goal_input_deadline_custom"),value:V?de()(V):null,onChange:function(e){K(e?e.toDate():null)},disabledDate:function(e){return e&&e<de()().startOf("day")},allowClear:!0})))},options:et.k,allowClear:!0}),r.createElement(m.Ay,{type:"primary",disabled:!V,onClick:function(){V&&(0,A.TO)(t._id,{deadline:V}).then((function(){h.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),ke(!1)}))}},(0,J.Ru)("common_save")))))),r.createElement(p.A,{xs:24,sm:24,md:{flex:t.allocationValue?1:"auto"},style:ze?{maxWidth:600}:{minWidth:480,maxWidth:600}},r.createElement("div",{className:"meta-item"},r.createElement(M.A,null),r.createElement("div",{className:"meta-content"},r.createElement("div",{className:"meta-title flex justify-between align-center"},(0,J.Ru)("goal_detail_suggestion_allocation"),t.allocationValue&&!Ae&&r.createElement(m.Ay,{type:"text",icon:r.createElement(I.A,null),onClick:function(){return Re(!0)},size:"small"})),t.allocationValue&&!Ae?r.createElement(It,null,t.allocationValue," ",(0,J.Ru)("common_".concat(t.allocationUnit).concat(1===t.allocationValue?"":"s"))," ",(0,J.Ru)("common_every")," ",t.allocationValuePerUnit," ",(0,J.Ru)("common_".concat(t.allocationValuePerUnitUnit).concat(1===t.allocationValuePerUnit?"":"s"))):r.createElement(f.A,{direction:"vertical",style:{width:"100%"}},r.createElement("div",{className:"suggestion-action flex gap-x-4 align-center no-wrap"},r.createElement("div",{className:"time-inputs"},r.createElement(x.A,{min:1,value:Q,onChange:function(e){return W(e||1)},addonAfter:r.createElement(d.A,{defaultValue:"hour",value:B,onChange:X},G.KR.map((function(e){return r.createElement(d.A.Option,{key:e,value:e},(0,J.Ru)("common_".concat(e)))})))})),r.createElement("span",{style:{color:"var(--color-text-secondary)"}},(0,J.Ru)("common_every")),r.createElement(x.A,{min:1,value:te,onChange:function(e){return se(e||1)},addonAfter:r.createElement(d.A,{defaultValue:"week",value:pe,onChange:ge},G.aG.map((function(e){return r.createElement(d.A.Option,{key:e,value:e},(0,J.Ru)("common_".concat(e)))})))}),r.createElement(m.Ay,{type:"primary",onClick:function(){(0,A.TO)(t._id,{allocationValue:Q,allocationUnit:B,allocationValuePerUnit:te,allocationValuePerUnitUnit:pe}).then((function(){h.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),Re(!1)}))}},(0,J.Ru)("common_save"))))))))),_.length>0&&r.createElement("div",{className:"goal-detail--suggestions"},r.createElement(ce.g,{bubblePointSize:"small",shibImgUrl:(0,J.ID)(re),imgWidth:ze?28:128,text:(0,J.Ru)("goal_detail_suggestion_message"),bubbleProperties:{background:"var(--color-blue)",borderColor:"var(--color-blue) var(--color-blue) transparent transparent",borderRadius:12},style:ze?{marginBottom:0}:{},extraContent:r.createElement("div",{className:"margin-8px"},!ze&&r.createElement(u.A,{gutter:[12,12]},_.map((function(e){return r.createElement(p.A,{xs:20,sm:20,md:12,lg:12,key:e.id},r.createElement("div",{className:"suggestion-button-wrapper"},r.createElement("div",{className:"suggestion-content"},r.createElement("span",{className:"suggestion-icon"},e.icon),r.createElement("div",{className:"suggestion-text-content"},r.createElement("div",{className:"suggestion-title"},e.content),e.description&&r.createElement("div",{className:"suggestion-description"},e.description))),Ie(e)))}))))}),ze&&r.createElement(u.A,{gutter:[12,12]},_.map((function(e){return r.createElement(p.A,{xs:24,sm:24,md:12,lg:12,key:e.id,style:ze?{padding:0}:{}},r.createElement("div",{className:"suggestion-button-wrapper"},r.createElement("div",{className:"suggestion-content"},r.createElement("span",{className:"suggestion-icon"},e.icon),r.createElement("div",{className:"suggestion-text-content"},r.createElement("div",{className:"suggestion-title"},e.content),e.description&&r.createElement("div",{className:"suggestion-description"},e.description))),Ie(e)))})))))};const Mt=function(){var e=(0,R.S)(),t=e.user,n=e.themeColor,o=e.screenWidth,d=(0,z.g)().goal_id,u=(0,r.useState)(20),p=(0,a.A)(u,2),g=p[0],v=p[1],b=(0,k.jE)(),x=(0,Ee.wA)(),D=(0,Ee.d4)((function(e){return e.goals.goalDetailDrawerVisible})),O=(0,Ee.d4)((function(e){return e.goals})),P=O.mentioningMilestone,T=O.mentioningAction,j=(0,r.useState)(!1),I=(0,a.A)(j,2),F=I[0],M=I[1],q=(0,r.useState)(!1),H=(0,a.A)(q,2),Q=H[0],W=H[1],B=(0,r.useState)(!1),X=(0,a.A)(B,2),$=X[0],ne=X[1],ie=(0,r.useState)((0,J.Ru)("goal_detail_tab_milestones")),ae=(0,a.A)(ie,2),oe=ae[0],re=ae[1];(0,r.useEffect)((function(){M(o<=le.NU.sm)}),[o]),(0,r.useEffect)((function(){(P||T)&&(F?x((0,He.wK)(!0)):ne(!0))}),[P,T,F,x]);var ce=(0,E.n)({mutationFn:function(e){return(0,A.lB)(e)},onSuccess:function(){b.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("goal_milestones_generated_success"))},onError:function(){c.Ay.error((0,J.Ru)("unexpected_error_message"))}});(0,r.useLayoutEffect)((function(){var e=document.querySelector(".goal-detail-wrapper [data-panel-group]"),t=document.querySelectorAll(".goal-detail-wrapper [data-panel-resize-handle]"),n=new ResizeObserver((function(){if(e){var n=e.offsetWidth;t.forEach((function(e){n-=e.offsetWidth})),v(320/n*100)}}));return e&&(n.observe(e),t.forEach((function(e){n.observe(e)}))),function(){n.disconnect()}}),[]);var me,de=(0,_.I)({queryKey:["goal"],queryFn:(me=(0,i.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.kr)(d));case 1:case"end":return e.stop()}}),e)}))),function(){return me.apply(this,arguments)}),enabled:!!d,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),ue=de.data,pe=de.isLoading;if(!t||!d)return r.createElement(h.A,{active:!0});var ge=[{label:r.createElement(f.A,{size:4},r.createElement(C.A,null),(0,J.Ru)("goal_detail_tab_milestones")),value:(0,J.Ru)("goal_detail_tab_milestones")},{label:r.createElement(f.A,{size:4},r.createElement(Y.A,null),(0,J.Ru)("goal_detail_tab_knowledge_base")),value:(0,J.Ru)("goal_detail_tab_knowledge_base")}],fe=r.createElement("div",{className:"flex-col ".concat(F?"gap-row-8":"gap-row-16"," full-width overflow-y-auto")},pe?r.createElement(h.A,{active:!0}):ue?r.createElement(r.Fragment,null,r.createElement(Ft,{goal:ue,onShareClick:function(){return W(!0)}}),r.createElement("div",{className:"goal-tabs-section"},r.createElement("div",{className:"goal-tabs-wrapper"},r.createElement(y.A,{options:ge,value:oe,onChange:re,className:"goal-detail-tabs"})),r.createElement("div",{className:"goal-tab-content"},r.createElement(Z.N,{mode:"wait"},oe===(0,J.Ru)("goal_detail_tab_milestones")?r.createElement(L.P.div,{key:"milestones",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"}},ce.isPending?r.createElement("div",{className:"goal-milestones"},r.createElement("div",{className:"milestone-header"},r.createElement("div",{className:"flex items-center gap-x-8"},r.createElement(s.A.Title,{level:4},(0,J.Ru)("goal_milestones_title")))),r.createElement(h.A,{active:!0,paragraph:{rows:6}})):r.createElement($e,{goal:ue})):r.createElement(L.P.div,{key:"knowledge-base",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"}},r.createElement(zt,{goalId:d})))))):null),ve=r.createElement("div",{className:"sider-panel"},r.createElement(U,{goalId:d,onSelectDay:function(){},onAddEvent:function(){}})),be=r.createElement("div",{className:"sider-panel"},r.createElement(ee,{goalId:d,onSelectDay:function(){},onAddEvent:function(){}})),xe=r.createElement("div",{className:"chat-panel"},r.createElement(te.A,{includeHeader:!1,includeAvatar:!1,conversationType:G.bN,conversationMeta:{type:G.bN,meta:{goalId:d}},variant:"compact"}));return r.createElement(r.Fragment,null,ue&&r.createElement(jt,{visible:Q,onClose:function(){return W(!1)},goalId:d,goalTitle:ue.title}),r.createElement("div",{className:"goal-detail-wrapper pointer-events-none"},F?r.createElement(r.Fragment,null,fe,r.createElement(w.A,{title:r.createElement(s.A.Text,{ellipsis:{suffix:""}},(null==ue?void 0:ue.title)||""),rootClassName:"lazyvax lzv-theme-".concat(n),placement:"right",onClose:function(){return x((0,He.wK)(!1))},open:D,width:"100vw",styles:{body:{padding:0}}},be)):r.createElement(N.YZ,{direction:"horizontal"},r.createElement(N.Zk,{defaultSize:80,minSize:50},fe),r.createElement(N.TW,{className:"panel-resize-handle"}),r.createElement(N.Zk,{defaultSize:20,minSize:g},ve))),!F&&r.createElement(S.q,{shape:"round",initPosition:{bottom:40,right:24},icon:r.createElement("img",{src:(0,J.ID)(se),width:64}),bubbleSize:68,popoverSize:"min(500px, 100vw)",open:$,onPopoverOpenChange:ne},xe),F&&r.createElement("div",{style:{position:"fixed",right:8,top:8,zIndex:9999}},r.createElement(m.Ay,{style:{color:"var(--color-primary-bg)"},size:"large",icon:D?r.createElement(V.A,null):r.createElement(K.A,null),onClick:function(){return x((0,He.wK)(!D))},type:"text"})))}},6495:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(31601),a=n.n(i),o=n(76314),l=n.n(o)()(a());l.push([e.id,".editable-paragraph-wrapper{inset-inline-start:unset !important;margin-top:unset !important;margin-bottom:unset !important}.editable-paragraph-wrapper .ant-typography-edit-content-confirm{display:flex;align-items:center;column-gap:8px;pointer-events:unset}.editable-paragraph-wrapper .ant-typography-edit-content-confirm>span:first-child:hover{color:var(--color-gold)}.editable-paragraph-wrapper .ant-typography-edit-content-confirm>span:last-child:hover{color:var(--color-green)}",""]);const r=l},79811:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(31601),a=n.n(i),o=n(76314),l=n.n(o)()(a());l.push([e.id,'.goal-milestones :global(.ant-picker-panel){z-index:1100 !important}.goal-milestones :global(.ant-picker-footer){padding:8px 12px}.goal-milestones :global(.ant-picker-footer) .date-picker-options{margin:-8px -12px}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container{padding:0}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .horizontal-list{padding:8px 16px;gap:6px;max-height:120px;overflow-y:auto}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .horizontal-list .ant-btn{font-size:11px;padding:0 6px;height:22px;border-radius:11px;color:var(--color-primary);border-color:var(--color-primary-light);background:var(--color-white);white-space:nowrap}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .horizontal-list .ant-btn:hover{color:var(--color-primary-hover);border-color:var(--color-primary);background:var(--color-primary-ultralight)}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .scroll-button{width:24px;height:24px;background:var(--color-white);box-shadow:0 1px 4px rgba(0,0,0,.1)}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .scroll-button.left{left:4px}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .scroll-button.right{right:4px}.goal-milestones .milestone-header{margin-bottom:24px}@media(max-width: 768px){.goal-milestones .milestone-header{gap:8px;margin-bottom:16px}.goal-milestones .milestone-header>button{width:100%}}.goal-milestones .milestone-header h4.ant-typography{margin:0;color:var(--color-text)}@media(max-width: 768px){.goal-milestones .milestone-header h4.ant-typography{font-size:1rem}}.goal-milestones .milestones-timeline{padding:0 24px}@media(max-width: 768px){.goal-milestones .milestones-timeline{padding:2px}.goal-milestones .milestones-timeline .ant-timeline-item-content{margin-inline-start:18px}}.goal-milestones .milestones-timeline .milestone-empty{color:var(--color-text-secondary);font-style:italic;padding:16px;text-align:center;background:var(--color-bg-gray-ultralight);border-radius:12px;border:1px dashed var(--color-border)}.goal-milestones .milestones-timeline .ant-timeline-item-last{padding-bottom:0}.goal-milestones .milestones-timeline .milestone-item{display:flex;align-items:flex-start;gap:16px;padding:16px;background:var(--color-white);border:1px solid rgba(var(--color-primary-rgb), 0.1);box-shadow:0 2px 6px rgba(0,0,0,.04);border-radius:12px;transition:all .3s cubic-bezier(0.4, 0, 0.2, 1);position:relative;overflow:hidden;cursor:pointer}@media(max-width: 768px){.goal-milestones .milestones-timeline .milestone-item{padding:8px;gap:8px}}.goal-milestones .milestones-timeline .milestone-item::before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:var(--color-primary);opacity:0;transition:opacity .3s ease}.goal-milestones .milestones-timeline .milestone-item:hover{transform:translateY(-1px);border-color:rgba(var(--color-primary-rgb), 0.2);box-shadow:0 4px 12px rgba(0,0,0,.08);background:linear-gradient(to right, rgba(var(--color-primary-rgb), 0.02), rgba(var(--color-primary-rgb), 0.01))}.goal-milestones .milestones-timeline .milestone-item:hover::before{opacity:.3}.goal-milestones .milestones-timeline .milestone-item::after{display:none}.goal-milestones .milestones-timeline .milestone-item:has(.milestone-actions-list:not(.expanded)) .goal-milestones .milestones-timeline .milestone-item::after{display:none}.goal-milestones .milestones-timeline .milestone-item.is-done{background:linear-gradient(to right, rgba(var(--color-success-rgb), 0.04), rgba(var(--color-success-rgb), 0.02));border-color:rgba(var(--color-success-rgb), 0.2)}.goal-milestones .milestones-timeline .milestone-item.is-done::before{background:var(--color-success);opacity:1}.goal-milestones .milestones-timeline .milestone-item.is-done .milestone-deadline{text-decoration:line-through;opacity:.7}.goal-milestones .milestones-timeline .milestone-item.is-done .milestone-done-icon{color:var(--color-success);filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))}.goal-milestones .milestones-timeline .milestone-item .milestone-content{flex:1;min-width:0}.goal-milestones .milestones-timeline .milestone-item .milestone-content .editable-paragraph-wrapper{width:100%;inset-inline-start:unset;margin-top:unset;margin-bottom:unset}.goal-milestones .milestones-timeline .milestone-item .milestone-content .editable-paragraph-wrapper .ant-typography-edit{opacity:0;transition:opacity .2s ease}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-expand-button{display:flex;justify-content:flex-start}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-expand-button .expand-button{padding:4px;height:auto;line-height:1;border:none;background:var(--color-bg-gray-ultralight);border-radius:6px;transition:all .2s ease}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-expand-button .expand-button:hover{color:var(--color-primary);background:var(--color-bg-gray)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-expand-button .expand-button:active{transform:scale(0.95)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-expand-button .expand-button .anticon{font-size:12px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-header-row{margin-bottom:8px;position:relative}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-header-row:hover .editable-paragraph-wrapper .ant-typography-edit{opacity:1}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline{font-size:13px;color:var(--color-text-secondary);display:flex;align-items:center;gap:6px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline::before{content:"";display:inline-block;width:6px;height:6px;background:var(--color-primary);border-radius:50%;opacity:.6}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date{position:relative;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:6px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date:hover{color:var(--color-primary);background-color:rgba(var(--color-primary-rgb), 0.05);border-radius:4px;padding:2px 6px;margin-left:-6px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .date-edit-icon{font-size:12px;opacity:0;margin-left:4px;color:var(--color-text-secondary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date:hover .date-edit-icon{opacity:1;color:var(--color-primary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .date-picker-container{display:flex;align-items:center;position:relative;z-index:10}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .date-picker-container .close-date-picker{position:absolute;right:-24px;top:0;padding:2px;height:20px;width:20px;display:flex;align-items:center;justify-content:center;color:var(--color-text-secondary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .date-picker-container .close-date-picker:hover{color:var(--color-red)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .date-picker-container .close-date-picker .anticon{font-size:14px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .inline-date-picker{margin-left:-6px;margin-top:-4px;margin-bottom:-4px;z-index:10}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .inline-date-picker .ant-picker-input input{font-size:13px;height:24px;padding:0 8px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-add-deadline{font-size:13px;color:var(--color-text-secondary);display:flex;align-items:center;gap:6px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;opacity:.7}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-add-deadline:hover{color:var(--color-primary);opacity:1}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-add-deadline .anticon{font-size:11px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list{margin-top:12px;padding-top:12px;border-top:1px dashed rgba(var(--color-border-rgb), 0.5);display:flex;flex-direction:column;gap:10px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .no-actions-message{color:var(--color-text-secondary);font-style:italic;padding:8px 12px;text-align:center;background:var(--color-bg-gray-ultralight);border-radius:8px;font-size:13px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item{padding:8px 10px;border-radius:8px;background:var(--color-bg-gray-ultralight);transition:all .2s ease;display:flex;align-items:flex-start;justify-content:space-between}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item:hover{background:var(--color-bg-gray-light)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item:hover .action-buttons{opacity:1;transform:translateX(0)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content{flex:1;min-width:0;padding-right:8px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-label-wrapper{display:flex;align-items:center;gap:8px;width:100%}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-label-wrapper .recurring-icon{font-size:13px;color:var(--color-primary);flex-shrink:0;animation:recurring-flow 4s ease-in-out infinite}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-label-wrapper .recurring-icon:hover{animation-play-state:paused;opacity:1;filter:brightness(1.2)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-label-wrapper .editable-paragraph-wrapper{flex:1;min-width:0}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content .editable-paragraph-wrapper .ant-typography-edit{opacity:0;transition:opacity .2s ease}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content:hover .editable-paragraph-wrapper .ant-typography-edit{opacity:1}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-buttons{display:flex;gap:4px;opacity:0;transform:translateX(10px);transition:all .2s ease}@media(max-width: 768px){.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-buttons{opacity:1;transform:translateX(0)}}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-buttons .ant-btn{padding:4px;height:24px;width:24px;display:flex;align-items:center;justify-content:center;border-radius:4px;background:var(--color-white);box-shadow:0 1px 2px rgba(0,0,0,.05)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-buttons .ant-btn:hover{background:var(--color-primary-light);color:var(--color-primary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-buttons .ant-btn.delete-button:hover{background:var(--color-red-light-bg);color:var(--color-red)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline{font-size:12px;color:var(--color-text-secondary);margin-top:4px;margin-left:24px;display:flex;align-items:center;gap:4px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline::before{content:"";display:inline-block;width:4px;height:4px;background:var(--color-text-secondary);border-radius:50%;opacity:.6}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date{position:relative;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:4px;width:fit-content}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date:hover{color:var(--color-primary);background-color:rgba(var(--color-primary-rgb), 0.05);border-radius:4px;padding:2px 6px;margin-left:18px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .date-edit-icon{font-size:11px;opacity:0;margin-left:4px;color:var(--color-text-secondary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date:hover .date-edit-icon{opacity:1;color:var(--color-primary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .date-picker-container{display:flex;align-items:center;position:relative;z-index:10}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .date-picker-container .close-date-picker{position:absolute;right:-24px;top:0;padding:2px;height:20px;width:20px;display:flex;align-items:center;justify-content:center;color:var(--color-text-secondary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .date-picker-container .close-date-picker:hover{color:var(--color-red)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .date-picker-container .close-date-picker .anticon{font-size:12px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .inline-date-picker{margin-left:-6px;margin-top:-2px;margin-bottom:-2px;z-index:10}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .inline-date-picker .ant-picker-input input{font-size:12px;height:22px;padding:0 6px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-add-deadline{font-size:12px;color:var(--color-text-secondary);margin-top:4px;margin-left:24px;display:flex;align-items:center;gap:4px;cursor:pointer;transition:all .2s ease;opacity:.7}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-add-deadline:hover{color:var(--color-primary);opacity:1}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-add-deadline .anticon{font-size:10px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .add-action-button-container{margin-top:12px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .add-action-button-container .add-action-button{border:2px solid var(--color-primary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .add-action-button-container .animated-border-button{height:28px}.goal-milestones .milestones-timeline .milestone-item .milestone-actions{display:flex;gap:4px;align-items:center;flex-shrink:0}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .ant-btn{padding:6px;height:auto;line-height:1;border:none;background:var(--color-bg-gray-ultralight);border-radius:8px;transition:all .2s ease}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .ant-btn:hover{color:var(--color-primary);background:var(--color-bg-gray)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .ant-btn:active{transform:scale(0.95)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .ant-btn .anticon{font-size:14px}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .milestone-actions-menu .ant-btn{border:none;box-shadow:none;background:rgba(0,0,0,0);text-align:left;padding:8px 12px;height:auto;border-radius:4px}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .milestone-actions-menu .ant-btn:hover{background:var(--color-bg-gray-ultralight)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .milestone-actions-menu .ant-btn.delete-button{color:var(--color-red-light)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .milestone-actions-menu .ant-btn.delete-button:hover{background:var(--color-red-bg);color:var(--color-red)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .action-actions-menu .ant-btn{border:none;box-shadow:none;background:rgba(0,0,0,0);text-align:left;padding:8px 12px;height:auto;border-radius:4px}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .action-actions-menu .ant-btn:hover{background:var(--color-bg-gray-ultralight)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .action-actions-menu .ant-btn.delete-button{color:var(--color-red-light)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .action-actions-menu .ant-btn.delete-button:hover{background:var(--color-red-bg);color:var(--color-red)}.goal-milestones .milestones-timeline .milestone-pending-icon{color:var(--color-primary);filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))}.goal-milestones .milestone-form .ant-form-item:last-child,.goal-milestones .action-form .ant-form-item:last-child{margin-bottom:0}@media(max-width: 768px){.goal-milestones .milestone-item .milestone-actions{opacity:1;transform:translateX(0)}.goal-milestones .milestone-item .milestone-action-item .action-buttons{opacity:1;transform:translateX(0)}.goal-milestones .milestone-item .expand-button{opacity:1}.goal-milestones .milestone-item .milestone-content .milestone-header-row .editable-paragraph-wrapper .ant-typography-edit{opacity:1}.goal-milestones .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content .editable-paragraph-wrapper .ant-typography-edit{opacity:1}}@keyframes animate-fade{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.milestone-preview-container .milestone-item.preview{border:1px solid rgba(var(--color-primary-rgb), 0.1);padding:16px;margin:0;background:var(--color-white);border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,.04);position:relative;overflow:hidden}.milestone-preview-container .milestone-item.preview::before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:var(--color-primary);opacity:.3}.milestone-preview-container .milestone-item.preview .milestone-content{padding:0}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-header-row{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:6px;position:relative}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-header-row .milestone-text{font-size:15px;font-weight:500;line-height:1.4;color:var(--color-text)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-header-row .milestone-text .editable-paragraph-wrapper{width:100%;inset-inline-start:unset;margin-top:unset;margin-bottom:unset}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline{font-size:13px;color:var(--color-text-secondary);display:flex;align-items:center;gap:6px;cursor:pointer;transition:all .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline:hover,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline:hover{color:var(--color-text)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline.editable-date .date-edit-icon,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline.editable-date .date-edit-icon{opacity:0;margin-left:4px;font-size:12px;transition:opacity .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline.editable-date:hover .date-edit-icon,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline.editable-date:hover .date-edit-icon{opacity:1}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline::before,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline::before{content:"";display:inline-block;width:6px;height:6px;background:var(--color-primary);border-radius:50%;opacity:.6}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline .date-picker-container,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline .date-picker-container{display:flex;align-items:center;gap:4px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline .date-picker-container .inline-date-picker,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline .date-picker-container .inline-date-picker{margin-left:-6px;margin-top:-4px;margin-bottom:-4px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline .date-picker-container .inline-date-picker .ant-picker-input input,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline .date-picker-container .inline-date-picker .ant-picker-input input{font-size:13px;height:24px;padding:0 8px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline .date-picker-container .close-date-picker,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline .date-picker-container .close-date-picker{padding:0 4px;height:24px;min-width:24px;color:var(--color-text-secondary)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline .date-picker-container .close-date-picker:hover,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline .date-picker-container .close-date-picker:hover{color:var(--color-text);background:var(--color-bg-gray-light)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline{color:var(--color-primary);opacity:.8}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline:hover{opacity:1}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline::before{display:none}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list{margin-top:12px;padding-top:12px;border-top:1px dashed rgba(var(--color-border-rgb), 0.5);display:flex;flex-direction:column;gap:10px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item{padding:8px 10px;border-radius:8px;background:var(--color-bg-gray-ultralight);transition:all .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item:hover{background:var(--color-bg-gray-light)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content{flex:1;min-width:0;padding-right:8px;font-size:14px;line-height:1.3;color:var(--color-text)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .editable-paragraph-wrapper{width:100%;inset-inline-start:unset;margin-top:unset;margin-bottom:unset}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .editable-paragraph-wrapper .ant-typography-edit{opacity:0;transition:opacity .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline{font-size:13px;color:var(--color-text-secondary);display:flex;align-items:center;gap:6px;margin-top:6px;cursor:pointer;transition:all .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline:hover,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline:hover{color:var(--color-text)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline.editable-date .date-edit-icon,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline.editable-date .date-edit-icon{opacity:0;margin-left:4px;font-size:12px;transition:opacity .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline.editable-date:hover .date-edit-icon,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline.editable-date:hover .date-edit-icon{opacity:1}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline .date-picker-container,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline .date-picker-container{display:flex;align-items:center;gap:4px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline .date-picker-container .inline-date-picker,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline .date-picker-container .inline-date-picker{margin-left:-6px;margin-top:-4px;margin-bottom:-4px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline .date-picker-container .inline-date-picker .ant-picker-input input,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline .date-picker-container .inline-date-picker .ant-picker-input input{font-size:13px;height:24px;padding:0 8px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline .date-picker-container .close-date-picker,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline .date-picker-container .close-date-picker{padding:0 4px;height:24px;min-width:24px;color:var(--color-text-secondary)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline .date-picker-container .close-date-picker:hover,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline .date-picker-container .close-date-picker:hover{color:var(--color-text);background:var(--color-bg-gray-light)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline{color:var(--color-primary);opacity:.8}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline:hover{opacity:1}.goal-milestone-modal .ant-modal{width:100vw !important;max-width:800px}',""]);const r=l},76156:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(31601),a=n.n(i),o=n(76314),l=n.n(o)()(a());l.push([e.id,".goal-detail-wrapper{display:flex;flex-direction:column;padding:16px;height:calc(100vh - 90px);background:var(--color-primary-bg);border-radius:10px;overflow:hidden;max-width:100vw}@media(max-width: 768px){.goal-detail-wrapper{height:calc(100vh - 148px)}}.goal-detail-wrapper [data-panel-group]{width:100%;height:100%;column-gap:8px;max-width:100%}.goal-detail-wrapper [data-panel]{display:flex;overflow:hidden;min-width:0}.goal-detail-wrapper .panel-resize-handle{width:4px;background:var(--color-border);transition:background-color .2s;flex-shrink:0}.goal-detail-wrapper .panel-resize-handle:hover{background:var(--color-primary)}.goal-detail-wrapper .goal-detail-content{width:100%;min-width:0}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--main-layout{display:flex;align-items:flex-start;gap:12px}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--back-button{flex-shrink:0;padding-top:4px}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--content{flex:1;min-width:0}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--title-row{display:flex;align-items:flex-start;justify-content:space-between;gap:16px}@media(max-width: 768px){.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--title-row{flex-direction:column;gap:12px;align-items:flex-start}}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--title{display:flex;align-items:center;gap:8px;flex:1;min-width:0}.goal-detail-wrapper .goal-detail-content .goal-header .goal-meta-tags{display:flex;align-items:center;flex-shrink:0}@media(max-width: 768px){.goal-detail-wrapper .goal-detail-content .goal-header .goal-meta-tags{align-self:flex-end}}.goal-detail-wrapper .goal-detail-content .goal-header h1{margin-bottom:8px;font-size:24px;font-weight:600}@media(max-width: 768px){.goal-detail-wrapper .goal-detail-content .goal-header h1{font-size:1.2rem}}.goal-detail-wrapper .goal-detail-content .goal-header .goal-detail--subtitle{color:var(--color-text-secondary);margin:0 0 24px 0;font-size:16px;line-height:1.5;font-weight:400}@media(max-width: 768px){.goal-detail-wrapper .goal-detail-content .goal-header .goal-detail--subtitle{font-size:15px;margin-bottom:16px}}.goal-detail-wrapper .goal-detail-content .goal-header .goal-emoji{font-size:24px;line-height:1}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item{display:flex;align-items:flex-start;gap:12px;padding:16px;background:var(--color-bg-gray-ultralight);border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.03);height:100%}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item>.anticon{font-size:24px;color:var(--color-primary);background:var(--color-white);padding:12px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.06);flex-shrink:0}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item .meta-content{flex:1;min-width:0}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item .meta-content .meta-title{font-size:14px;color:var(--color-text-secondary);margin-bottom:8px;text-transform:uppercase;letter-spacing:1px}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item .meta-content .ant-tag{margin:0;padding:6px 16px;border-radius:20px;font-size:14px;border:none;background:var(--color-white);box-shadow:0 2px 8px rgba(0,0,0,.04);transition:all .3s ease}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item .meta-content .ant-typography{margin:0;font-size:15px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions{margin-top:24px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper{width:100%;height:100%;padding:16px;border-radius:12px;background:var(--color-white);border:1px solid var(--color-border);transition:all .3s ease;display:flex;flex-direction:column;gap:12px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper:hover{box-shadow:0 4px 12px rgba(0,0,0,.06);border-color:var(--color-primary)}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-content{display:flex;align-items:flex-start;gap:12px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-content .suggestion-icon{font-size:20px;color:var(--color-primary);padding:8px;border-radius:8px;background:var(--color-bg-gray-ultralight);flex-shrink:0}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-content .suggestion-text-content{flex:1;min-width:0}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-content .suggestion-text-content .suggestion-title{font-size:15px;color:var(--color-text);font-weight:500;line-height:1.4;margin-bottom:4px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-content .suggestion-text-content .suggestion-description{font-size:13px;color:var(--color-text-secondary);line-height:1.4;margin-top:4px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-action{display:flex;gap:8px;align-items:center}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-action .ant-select .ant-select-selection-placeholder{display:flex;align-items:center;justify-content:center;gap:4px;color:var(--color-text)}.goal-detail-wrapper .goal-detail-content::-webkit-scrollbar{display:block;width:12px}.goal-detail-wrapper .goal-detail-content::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.goal-detail-wrapper .goal-detail-content::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.goal-detail-wrapper .goal-detail-content::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.goal-detail-wrapper .goal-detail-content::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.goal-detail-wrapper .goal-tabs-section{margin-top:16px}.goal-detail-wrapper .goal-tabs-section .goal-tabs-wrapper{display:flex;justify-content:center;margin-bottom:20px}.goal-detail-wrapper .goal-tabs-section .goal-tab-content .knowledge-base-section{padding:0 24px}.goal-detail-wrapper .sider-panel{flex:1;height:100%;overflow:hidden;background:var(--color-primary-bg);border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);min-width:0;min-height:500px}.goal-detail-wrapper .sider-panel .sider-title{display:flex;align-items:center;font-size:16px;font-weight:600;color:var(--color-text);padding:0 4px}.goal-detail-wrapper .chat-panel{flex:1;height:100%;overflow:hidden;background:var(--color-primary-bg);border-radius:8px;min-width:0;min-height:400px}.goal-detail-wrapper .milestone-item .milestone-header-row .milestone-header-left{flex:1;min-width:0}.goal-detail-wrapper .milestone-item .milestone-content .milestone-expand-button .expand-button{width:24px;height:24px;min-width:24px;padding:0;display:flex;align-items:center;justify-content:center}.goal-detail-wrapper .milestone-item .milestone-actions{display:flex;gap:4px;align-items:center;position:relative;flex-shrink:0}.goal-detail-wrapper .milestone-item .milestone-actions .ant-btn.delete-button{color:var(--color-red-light)}.goal-detail-wrapper .milestone-item .milestone-actions .ant-btn.delete-button:hover{background:var(--color-red-bg)}.goal-detail-wrapper .milestone-item .milestone-actions .action-buttons{display:flex;gap:4px;align-items:center;position:relative;flex-shrink:0}.goal-detail-wrapper .milestone-item .milestone-actions .action-buttons .ant-btn.delete-button{color:var(--color-red-light)}.goal-detail-wrapper .milestone-item .milestone-actions .action-buttons .ant-btn.delete-button:hover{background:var(--color-red-bg)}.goal-detail-wrapper .milestone-item .milestone-actions .milestone-action-item{display:flex;align-items:flex-start;gap:8px;width:100%}.goal-detail-wrapper .milestone-item .milestone-actions .milestone-action-item .action-content{flex:1;min-width:0}.goal-detail-wrapper .milestone-item .milestone-actions .milestone-action-item .action-buttons{margin-top:4px}@media(max-width: 768px){.goal-detail-wrapper{padding:8px}.goal-detail-wrapper .goal-detail-content{padding:8px}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--main-layout{gap:8px}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--title-row{margin-bottom:8px}.goal-detail-wrapper .goal-detail-content .goal-header .goal-emoji{font-size:20px}.goal-detail-wrapper .goal-detail-content .goal-tabs-section{margin-top:12px}.goal-detail-wrapper .goal-detail-content .goal-tabs-section .goal-tabs-wrapper{margin-bottom:16px}.goal-detail-wrapper .goal-detail-content .goal-tabs-section .goal-detail-tabs .ant-segmented-item{padding:4px 12px}.goal-detail-wrapper .goal-detail-content .goal-tabs-section .goal-detail-tabs .ant-segmented-item .ant-space{font-size:13px}.goal-detail-wrapper .goal-detail-content .goal-tabs-section .goal-detail-tabs .ant-segmented-item .anticon{font-size:13px}.ant-drawer .sider-panel{height:100%;border-radius:0;box-shadow:none}}",""]);const r=l},68144:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(31601),a=n.n(i),o=n(76314),l=n.n(o)()(a());l.push([e.id,".goal-detail-sider{display:flex;flex-direction:column;width:100%;height:100%;min-height:400px;overflow:hidden;position:relative}.goal-detail-sider .goal-detail-sider-header{display:flex;justify-content:center;flex-shrink:0;position:relative;z-index:2}@media(max-width: 768px){.goal-detail-sider .goal-detail-sider-header{margin:8px 0 !important}}.goal-detail-sider .goal-detail-sider-header .ant-segmented{background:var(--color-layout-bg);padding:4px;border-radius:8px}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item{transition:all .3s ease;border-radius:6px;color:var(--color-text-secondary)}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item:hover{color:var(--color-text)}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item.ant-segmented-item-selected{background:var(--color-primary);color:var(--color-white)}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item.ant-segmented-item-selected svg path{fill:var(--color-white)}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item .ant-segmented-item-label{align-items:center;display:flex}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item .ant-segmented-item-icon{font-size:16px;margin-right:6px;display:inline-flex}.goal-detail-sider .goal-detail-sider-content{flex:1;position:relative;overflow:hidden;display:flex;flex-direction:column;transform:translateZ(0);will-change:transform}.goal-detail-sider .goal-detail-sider-content .tab-content{position:relative;width:100%;height:100%;overflow:hidden;flex:1}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane{width:100%;height:100%;overflow-y:auto;position:absolute;top:0;left:0;will-change:opacity,transform;transform:translateZ(0);backface-visibility:hidden;-webkit-backface-visibility:hidden}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane::-webkit-scrollbar{display:block;width:12px}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}",""]);const r=l},43861:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(31601),a=n.n(i),o=n(76314),l=n.n(o)()(a());l.push([e.id,".knowledge-base-section .ant-space-vertical{width:100%}.knowledge-base-section .kb-header .kb-title{font-size:18px;font-weight:600;margin-bottom:4px}.knowledge-base-section .kb-header .kb-description{font-size:14px;line-height:1.6}.knowledge-base-section .kb-list .ant-list-item{padding:0;border:none;margin-bottom:12px}.knowledge-base-section .kb-list .ant-list-item:last-child{margin-bottom:0}.knowledge-base-section .kb-list .kb-list-item .kb-item-content{width:100%;display:flex;align-items:center;justify-content:space-between;gap:16px;padding:16px 20px;background:var(--color-primary-bg);border:1px solid var(--color-border);border-radius:12px;transition:all .2s ease}.knowledge-base-section .kb-list .kb-list-item .kb-item-content:hover{border-color:var(--color-primary)}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main{display:flex;align-items:center;gap:16px;flex:1;min-width:0}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-icon{display:flex;align-items:center;justify-content:center;width:44px;height:44px;min-width:44px;background:linear-gradient(135deg, var(--color-primary-light, var(--color-bg-gray-ultralight)), var(--color-bg-gray-ultralight));border-radius:10px;color:var(--color-primary);font-size:20px;box-shadow:0 2px 8px rgba(0,0,0,.04)}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details{flex:1;min-width:0;display:flex;flex-direction:column;gap:6px}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details .kb-item-header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details .kb-item-header .kb-item-name{font-size:15px;font-weight:500;color:var(--color-text);line-height:1.4;word-break:break-word}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details .kb-item-meta{display:flex;align-items:center;gap:8px;font-size:13px}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details .kb-item-meta .kb-item-meta-text{font-size:13px}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details .kb-item-meta .kb-item-separator{color:var(--color-text-secondary);opacity:.5}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-status{display:flex;align-items:center;gap:6px;padding:4px 10px;background:var(--color-bg-gray-ultralight);border-radius:6px;flex-shrink:0}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-status .anticon{font-size:14px}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-actions{flex-shrink:0}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-actions .kb-delete-btn{opacity:.6;transition:all .2s ease}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-actions .kb-delete-btn:hover{opacity:1;transform:scale(1.1)}.knowledge-base-section .kb-empty-state{padding:3rem 0}.knowledge-base-section .kb-empty-state .ant-empty-description{color:var(--color-text-secondary)}@media(max-width: 768px){.knowledge-base-section .kb-list .kb-list-item .kb-item-content{padding:12px 16px;gap:12px}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main{gap:12px}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-icon{width:40px;height:40px;min-width:40px;font-size:18px}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details .kb-item-header{flex-direction:column;align-items:flex-start;gap:8px}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details .kb-item-header .kb-item-name{font-size:14px}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details .kb-item-header .kb-item-status{align-self:flex-start}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details .kb-item-meta{flex-wrap:wrap;font-size:12px}.knowledge-base-section .kb-list .kb-list-item .kb-item-content .kb-item-main .kb-item-details .kb-item-meta .kb-item-meta-text{font-size:12px}}",""]);const r=l},82352:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(31601),a=n.n(i),o=n(76314),l=n.n(o)()(a());l.push([e.id,".knowledge-base-uploader{margin-bottom:2rem}.knowledge-base-uploader .dropzone{border:2px dashed var(--color-border);border-radius:8px;padding:2rem;text-align:center;cursor:pointer;transition:all .2s;background:var(--color-secondary-bg);color:var(--color-text)}.knowledge-base-uploader .dropzone:hover:not(.disabled){border-color:var(--color-primary);background:var(--color-bg-gray-ultralight)}.knowledge-base-uploader .dropzone.active{border-color:var(--color-primary);background:var(--color-bg-gray-ultralight)}.knowledge-base-uploader .dropzone.disabled{cursor:not-allowed;opacity:.6}.knowledge-base-uploader .upload-icon{margin:0 auto 1rem;display:block;opacity:.5;color:var(--color-text-secondary)}.knowledge-base-uploader .file-types{font-size:.875rem;opacity:.6;margin-top:.5rem;color:var(--color-text-secondary)}.knowledge-base-uploader .upload-progress{color:var(--color-text)}.knowledge-base-uploader .upload-progress .spinner{width:24px;height:24px;border:3px solid var(--color-border);border-top-color:var(--color-primary);border-radius:50%;animation:spin .8s linear infinite;margin:0 auto 1rem}.knowledge-base-uploader .upload-progress .progress-bar{width:100%;height:4px;background:var(--color-border);border-radius:2px;margin-top:1rem;overflow:hidden}.knowledge-base-uploader .upload-progress .progress-bar .progress-fill{height:100%;background:var(--color-primary);transition:width .3s}.knowledge-base-uploader .error-message{margin-top:1rem;padding:.75rem;background:var(--color-red-light-bg);color:var(--color-error);border-radius:4px;display:flex;align-items:center;gap:.5rem}@keyframes spin{to{transform:rotate(360deg)}}",""]);const r=l},4694:(e,t,n)=>{var i=n(85072),a=n.n(i),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),m=n.n(c),d=n(10540),u=n.n(d),p=n(41113),g=n.n(p),f=n(6495),v={};v.styleTagTransform=g(),v.setAttributes=m(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=u();var b=a()(f.default,v);if(!f.default.locals||e.hot.invalidate){var x=!f.default.locals,h=x?f:f.default.locals;e.hot.accept(6495,(t=>{f=n(6495),function(e,t,n){if(!e&&t||e&&!t)return!1;var i;for(i in e)if((!n||"default"!==i)&&e[i]!==t[i])return!1;for(i in t)if(!(n&&"default"===i||e[i]))return!1;return!0}(h,x?f:f.default.locals,x)?(h=x?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals},60571:(e,t,n)=>{var i=n(85072),a=n.n(i),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),m=n.n(c),d=n(10540),u=n.n(d),p=n(41113),g=n.n(p),f=n(79811),v={};v.styleTagTransform=g(),v.setAttributes=m(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=u();var b=a()(f.default,v);if(!f.default.locals||e.hot.invalidate){var x=!f.default.locals,h=x?f:f.default.locals;e.hot.accept(79811,(t=>{f=n(79811),function(e,t,n){if(!e&&t||e&&!t)return!1;var i;for(i in e)if((!n||"default"!==i)&&e[i]!==t[i])return!1;for(i in t)if(!(n&&"default"===i||e[i]))return!1;return!0}(h,x?f:f.default.locals,x)?(h=x?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals},90017:(e,t,n)=>{var i=n(85072),a=n.n(i),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),m=n.n(c),d=n(10540),u=n.n(d),p=n(41113),g=n.n(p),f=n(76156),v={};v.styleTagTransform=g(),v.setAttributes=m(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=u();var b=a()(f.default,v);if(!f.default.locals||e.hot.invalidate){var x=!f.default.locals,h=x?f:f.default.locals;e.hot.accept(76156,(t=>{f=n(76156),function(e,t,n){if(!e&&t||e&&!t)return!1;var i;for(i in e)if((!n||"default"!==i)&&e[i]!==t[i])return!1;for(i in t)if(!(n&&"default"===i||e[i]))return!1;return!0}(h,x?f:f.default.locals,x)?(h=x?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals},94001:(e,t,n)=>{var i=n(85072),a=n.n(i),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),m=n.n(c),d=n(10540),u=n.n(d),p=n(41113),g=n.n(p),f=n(68144),v={};v.styleTagTransform=g(),v.setAttributes=m(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=u();var b=a()(f.default,v);if(!f.default.locals||e.hot.invalidate){var x=!f.default.locals,h=x?f:f.default.locals;e.hot.accept(68144,(t=>{f=n(68144),function(e,t,n){if(!e&&t||e&&!t)return!1;var i;for(i in e)if((!n||"default"!==i)&&e[i]!==t[i])return!1;for(i in t)if(!(n&&"default"===i||e[i]))return!1;return!0}(h,x?f:f.default.locals,x)?(h=x?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals},21696:(e,t,n)=>{var i=n(85072),a=n.n(i),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),m=n.n(c),d=n(10540),u=n.n(d),p=n(41113),g=n.n(p),f=n(43861),v={};v.styleTagTransform=g(),v.setAttributes=m(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=u();var b=a()(f.default,v);if(!f.default.locals||e.hot.invalidate){var x=!f.default.locals,h=x?f:f.default.locals;e.hot.accept(43861,(t=>{f=n(43861),function(e,t,n){if(!e&&t||e&&!t)return!1;var i;for(i in e)if((!n||"default"!==i)&&e[i]!==t[i])return!1;for(i in t)if(!(n&&"default"===i||e[i]))return!1;return!0}(h,x?f:f.default.locals,x)?(h=x?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals},53959:(e,t,n)=>{var i=n(85072),a=n.n(i),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),m=n.n(c),d=n(10540),u=n.n(d),p=n(41113),g=n.n(p),f=n(82352),v={};v.styleTagTransform=g(),v.setAttributes=m(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=u();var b=a()(f.default,v);if(!f.default.locals||e.hot.invalidate){var x=!f.default.locals,h=x?f:f.default.locals;e.hot.accept(82352,(t=>{f=n(82352),function(e,t,n){if(!e&&t||e&&!t)return!1;var i;for(i in e)if((!n||"default"!==i)&&e[i]!==t[i])return!1;for(i in t)if(!(n&&"default"===i||e[i]))return!1;return!0}(h,x?f:f.default.locals,x)?(h=x?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals}}]);