"use strict";(self.webpackChunklazyvax_ext=self.webpackChunklazyvax_ext||[]).push([[382],{27382:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ct});var a=n(10467),i=n(5544),o=n(54756),l=n.n(o),r=(n(90017),n(96540)),s=n(55166),c=n(87959),d=n(64132),m=n(84972),p=n(47152),u=n(16370),g=n(6754),f=n(42702),v=n(36552),b=n(78751),h=n(7142),x=n(97072),y=n(1849),w=n(97665),k=n(57097),E=n(59270),A=n(86220),_=n(95927),N=n(9027),R=n(67230),z=n(47767),S=n(63411),C=n(49237),D=n(36207),P=n(87942),O=n(82734),j=n(40261),I=n(14103),F=n(31628),T=n(47852),K=n(29197),q=n(25834),M=(n(94001),n(4086));const V=function(e){e.goalId;var t=e.onSelectDay,n=e.onAddEvent;return r.createElement("div",{className:"goal-detail-sider"},r.createElement("div",{className:"goal-detail-sider-content"},r.createElement("div",{className:"tab-content"},r.createElement("div",{className:"tab-pane",style:{width:"100%",height:"100%"}},r.createElement(M.A,{onSelectDay:t,onAddEvent:n})))))};var Y=n(25339),Q=n(10980),U=n(26362),W=n(66221),Z=n(54107),J=n(42569),L=n(63170),H=n(86319),B=(0,J.Ru)("Chat"),X=(0,J.Ru)("calendar");const G=function(e){var t=e.goalId,n=e.onSelectDay,a=e.onAddEvent,o=(0,r.useState)(B),l=(0,i.A)(o,2),s=l[0],c=l[1],d=[{label:B,value:B,icon:r.createElement(Q.A,null)},{label:X,value:X,icon:r.createElement(U.A,null)}],m={hidden:{opacity:0},visible:{opacity:1}};return r.createElement("div",{className:"goal-detail-sider"},r.createElement("div",{className:"goal-detail-sider-header bot-16px"},r.createElement(Y.A,{options:d,value:s,onChange:function(e){return c(e.toString())}})),r.createElement("div",{className:"goal-detail-sider-content"},r.createElement("div",{className:"tab-content"},r.createElement(W.N,{mode:"wait",initial:!1},s===B&&r.createElement(Z.P.div,{key:"chat",variants:m,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.15,ease:"easeInOut"},className:"tab-pane",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column"}},r.createElement(L.A,{type:H.bN,meta:JSON.stringify({type:H.bN,meta:{goalId:t}})})),s===X&&r.createElement(Z.P.div,{key:"calendar",variants:m,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.15,ease:"easeInOut"},className:"tab-pane",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},r.createElement(M.A,{onSelectDay:n,onAddEvent:a}))))))};var $=n(38076),ee=n(76531),te=n(2622),ne=n(71099),ae=n(92089),ie=n(35680),oe=n(69975),le=n(27961),re=n(74353),se=n.n(re),ce=n(64467),de=n(60436),me=n(71988),pe=n(33835),ue=n(49222),ge=n(17355),fe=n(83186),ve=n(38811),be=(n(60571),n(62542)),he=n(38342),xe=n(71468),ye=n(84129),we=n(93145),ke=n(99552),Ee=n(93567),Ae=n(16933),_e=n(26067),Ne=n(52629);n(4694);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,ce.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(e){var t=e.className,n=void 0===t?"":t,a=e.item,o=e.includeAiFill,l=e.aiFillFunction,c=e.onTextChange,d=e.onFinished,m=e.onCancel,p=e.labelStyle,u=e.iconStyle,g=void 0===u?{color:"var(--color-text)"}:u,f=(0,r.useState)(a.text),v=(0,i.A)(f,2),b=v[0],h=v[1],x=(0,r.useState)(a.isError),y=(0,i.A)(x,2),w=y[0],k=y[1],E=(0,r.useState)(a.isEditing),A=(0,i.A)(E,2),_=A[0],N=A[1],R=(0,r.useState)(!1),z=(0,i.A)(R,2),S=z[0],C=z[1],D=(0,r.useState)(!1),P=(0,i.A)(D,2),O=P[0],I=P[1];(0,r.useEffect)((function(){h(a.text),k(a.isError),N(a.isEditing)}),[a]),(0,r.useEffect)((function(){S&&a.text!==b&&d(ze(ze({},a),{},{text:b})).catch((function(){k(!0)}))}),[S]);var F=function(){N(!0),C(!1)},T=function(){N(!1),C(!0)};return r.createElement(s.A.Paragraph,{className:"editable-paragraph-wrapper ".concat(n),editable:{text:b,editing:_,triggerType:["icon","text"],icon:r.createElement(j.A,{onClick:F,style:g}),onChange:function(e){h(e),null==c||c(e)},onStart:F,onEnd:T,onCancel:function(){N(!1),null==m||m(a)},enterIcon:r.createElement("div",{className:"flex-row gap-row-8"},o&&(O?r.createElement(Ee.A,null):r.createElement(Ae.A,{component:q.A,onClick:function(){I(!0),null==l||l().then((function(e){h(e.trim())})).catch(console.error).finally((function(){return I(!1)}))}})),r.createElement(_e.A,{onClick:T}))}},p?r.createElement("span",{style:p},b):b," ",w&&r.createElement(Ne.A,{style:{color:"var(--color-red-light)",margin:"0 4px"},onClick:function(){return d(ze(ze({},a),{},{text:b})).then((function(){k(!1)})).catch((function(){k(!0)}))}}))};const Ce=function(e){var t,n,o=e.milestone,s=e.onMilestoneChange,c=e.onDeadlineChange,m=e.onActionChange,p=e.onAddAction,u=(0,_.S)().user,g=(0,r.useState)(!1),f=(0,i.A)(g,2),v=f[0],h=f[1],x=(0,r.useState)(null),y=(0,i.A)(x,2),w=y[0],k=y[1];return r.createElement("div",{className:"milestone-item preview"},r.createElement("div",{className:"milestone-content"},r.createElement("div",{className:"milestone-header-row"},r.createElement("div",{className:"milestone-text"},r.createElement(Se,{item:{text:o.milestone,value:o.milestone},labelStyle:{fontSize:"15px",fontWeight:500,lineHeight:1.4,color:"var(--color-text)"},onFinished:function(){var e=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(t.text),e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),o.deadline||v?r.createElement("div",{className:"flex"},r.createElement("div",{className:"milestone-deadline editable-date",onClick:function(e){e.stopPropagation(),h(!0)}},v?r.createElement("div",{className:"date-picker-container"},r.createElement(b.A,{className:"inline-date-picker",defaultValue:o.deadline?se()(o.deadline):void 0,onChange:function(e){c((null==e?void 0:e.toDate())||null),h(!1)},autoFocus:!0,allowClear:!0,disabledDate:function(e){return e&&e<se()().startOf("day")}}),r.createElement(d.Ay,{type:"text",size:"small",className:"close-date-picker",icon:r.createElement(ke.A,null),onClick:function(e){e.stopPropagation(),h(!1)}})):r.createElement(r.Fragment,null,o.deadline?se()(o.deadline).format("MMM D, YYYY"):"",r.createElement(j.A,{className:"date-edit-icon"})))):r.createElement("div",{className:"milestone-add-deadline",onClick:function(e){e.stopPropagation(),h(!0)}},r.createElement(C.A,null)," ",(0,J.Ru)("goal_milestones_add_deadline")),r.createElement("div",{className:"milestone-actions-list expanded"},(null===(t=o.actions)||void 0===t?void 0:t.length)>0?r.createElement(r.Fragment,null,o.actions.map((function(e){return r.createElement("div",{key:e._id,className:"milestone-action-item"},r.createElement("div",{className:"action-content"},r.createElement(Se,{item:{text:e.action,value:e.action},onFinished:function(){var t=(0,a.A)(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e._id&&m(e._id,n.text,e.deadline),t.abrupt("return",Promise.resolve());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),e.deadline||w===e._id?r.createElement("div",{className:"action-deadline editable-date",onClick:function(t){t.stopPropagation(),k(e._id||null)}},w===e._id?r.createElement("div",{className:"date-picker-container"},r.createElement(b.A,{className:"inline-date-picker",defaultValue:e.deadline?se()(e.deadline):void 0,onChange:function(t){e._id&&m(e._id,e.action,(null==t?void 0:t.toDate())||null),k(null)},autoFocus:!0,allowClear:!0,disabledDate:function(e){return e&&e<se()().startOf("day")}}),r.createElement(d.Ay,{type:"text",size:"small",className:"close-date-picker",icon:r.createElement(ke.A,null),onClick:function(e){e.stopPropagation(),k(null)}})):r.createElement(r.Fragment,null,e.deadline?se()(e.deadline).format("MMM D, YYYY"):"",r.createElement(j.A,{className:"date-edit-icon"}))):r.createElement("div",{className:"action-add-deadline",onClick:function(t){t.stopPropagation(),k(e._id||null)}},r.createElement(C.A,null)," ",(0,J.Ru)("goal_actions_add_deadline"))))}))):r.createElement("div",{className:"no-actions-message"},(0,J.Ru)("goal_actions_empty")),r.createElement(d.Ay,{className:"add-action-button",icon:r.createElement(C.A,null),onClick:p},(0,te.JT)((0,J.Ru)("goal_actions_add_new"),[{key:"user",value:(null==u||null===(n=u.name)||void 0===n?void 0:n.split(" ")[0])||""}])))))};var De=n(37977),Pe=n(28073),Oe=n(16044),je=n(68e3),Ie=n(93598),Fe=n(78854),Te=n(16899),Ke=n(90855);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,ce.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ve=function(e){var t,n,o=(0,w.jE)(),s=(0,_.S)().user,m=(0,xe.wA)(),p=(0,r.useState)(e.milestone),u=(0,i.A)(p,2),g=u[0],f=u[1],v=(0,r.useState)(e.goalId),h=(0,i.A)(v,2),x=h[0],y=h[1],k=(0,r.useState)(e.isExpanded),E=(0,i.A)(k,2),N=E[0],R=E[1],z=(0,r.useState)(!1),S=(0,i.A)(z,2),D=S[0],P=S[1],O=(0,r.useState)(null),F=(0,i.A)(O,2),T=F[0],K=F[1],M=(0,r.useState)(!1),V=(0,i.A)(M,2),Y=V[0],W=V[1],Z=(0,r.useState)(null),L=(0,i.A)(Z,2),H=L[0],B=L[1],X=(0,r.useState)(!1),G=(0,i.A)(X,2),$=G[0],ee=G[1];(0,r.useEffect)((function(){f(e.milestone)}),[e.milestone]),(0,r.useEffect)((function(){y(e.goalId)}),[e.goalId]),(0,r.useEffect)((function(){R(e.isExpanded)}),[e.isExpanded]),(0,r.useEffect)((function(){var e=function(e){e.target.closest(".action-buttons")};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]);var ne=function(){var e=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.K5)(x,g._id,{isDone:t});case 3:o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,a.A)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.ue)(x,g._id,t._id,{isDone:n});case 3:o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.K5)(x,g._id,{milestone:t});case 3:f(Me(Me({},g),{},{milestone:t})),o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,a.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.VS)(x,g._id);case 3:o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.K5)(x,g._id,{deadline:t?t.toDate():void 0});case 3:f(Me(Me({},g),{},{deadline:t?t.toDate():void 0})),o.invalidateQueries({queryKey:["goal"]}),P(!1),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("error_updating_milestone"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,a.A)(l().mark((function e(t,n){var a,i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(a=g.actions)||void 0===a?void 0:a.find((function(e){return e._id===t}))){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,A.ue)(x,g._id,t,Me(Me({},i),{},{deadline:n?n.toDate():void 0}));case 6:f(Me(Me({},g),{},{actions:null===(r=g.actions)||void 0===r?void 0:r.map((function(e){return e._id===t?Me(Me({},e),{},{deadline:n?n.toDate():void 0}):e}))})),o.invalidateQueries({queryKey:["goal"]}),K(null),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),c.Ay.error((0,J.Ru)("error_updating_action"));case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=(0,a.A)(l().mark((function e(t,n){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.ue)(x,g._id,t._id,{action:n});case 3:f(Me(Me({},g),{},{actions:null===(a=g.actions)||void 0===a?void 0:a.map((function(e){return e._id===t._id?Me(Me({},e),{},{action:n}):e}))})),o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=(0,a.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.Ec)(x,g._id,t);case 3:f(Me(Me({},g),{},{actions:null===(n=g.actions)||void 0===n?void 0:n.filter((function(e){return e._id!==t}))})),o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=(0,a.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,W(!0),e.next=4,(0,A.rI)(x,g._id,1);case 4:o.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("goal_actions_generated_success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 11:return e.prev=11,W(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.createElement("div",{className:"milestone-item ".concat(g.isDone?"is-done":""," ").concat(N?"expanded":""),onClick:function(e){e.target.closest(".elegant-checkbox--wrapper")||e.target.closest(".milestone-actions")||e.target.closest(".action-buttons")||e.target.closest(".ant-btn")||e.target.closest(".ant-picker")||e.target.closest(".ant-picker-panel")||e.target.closest(".ant-popover")||R(!N)}},r.createElement("div",{className:"milestone-content"},r.createElement("div",{className:"milestone-header-row flex align-center justify-between gap-x-8"},r.createElement("div",{className:"milestone-expand-button"},r.createElement(De.A,{title:N?(0,J.Ru)("goal_milestones_collapse"):(0,J.Ru)("goal_milestones_expand")},r.createElement(d.Ay,{type:"text",className:"expand-button",icon:N?r.createElement(I.A,null):r.createElement(je.A,null),onClick:function(e){e.stopPropagation(),R(!N)}}))),r.createElement("div",{className:"milestone-header-left"},r.createElement(Te.A,{isChecked:g.isDone,onCheckChange:function(e){return ne(e)},label:r.createElement(Se,{item:{text:g.milestone,value:g.milestone},labelStyle:{fontSize:"15px",fontWeight:500,lineHeight:1.4,color:"var(--color-text)",textDecoration:g.isDone?"line-through":"none",transition:"all 0.3s ease"},onFinished:function(){var e=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t.text);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})),r.createElement("div",{className:"milestone-actions"},r.createElement(De.A,{title:(0,te.JT)((0,J.Ru)("common_ask_AI"),[{key:"bot_name",value:fe.Zw}])},r.createElement(we.A,{style:{borderRadius:8},borderSize:1,type:"text",icon:r.createElement(Q.A,null),onClick:function(e){e.stopPropagation(),m((0,Ke.DV)(g)),m((0,Ke.wK)(!0))}})),r.createElement(Pe.A,{content:r.createElement("div",{className:"milestone-actions-menu",style:{display:"flex",flexDirection:"column",gap:"4px"}},r.createElement(d.Ay,{type:"text",icon:r.createElement(C.A,null),onClick:function(t){t.stopPropagation(),ee(!1),e.onAddMilestone(g.order||0)},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_milestones_add_new")),r.createElement(d.Ay,{type:"text",icon:r.createElement(j.A,null),onClick:function(t){t.stopPropagation(),ee(!1),e.onEditMilestone(g)},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_milestones_edit")),r.createElement(Oe.A,{title:(0,J.Ru)("goal_milestones_delete_confirm"),onConfirm:function(e){null==e||e.stopPropagation(),ee(!1),oe()},okText:(0,J.Ru)("common_yes"),cancelText:(0,J.Ru)("common_no")},r.createElement(d.Ay,{type:"text",className:"delete-button",icon:r.createElement(Ie.A,null),onClick:function(e){return e.stopPropagation()},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_milestones_delete")))),trigger:"click",placement:"bottomRight",open:$,onOpenChange:function(e){ee(e)}},r.createElement(d.Ay,{type:"text",icon:r.createElement(Fe.A,null),onClick:function(e){return e.stopPropagation()}})))),r.createElement("div",{className:"flex"},r.createElement("div",{className:"milestone-deadline editable-date",onClick:function(e){e.stopPropagation(),P(!0)}},D?r.createElement("div",{className:"date-picker-container"},r.createElement(b.A,{className:"inline-date-picker",defaultValue:se()(g.deadline),onChange:function(e){le(e)},autoFocus:!0,allowClear:!0,open:!0,disabledDate:function(e){return e&&e<se()().startOf("day")}}),r.createElement(d.Ay,{type:"text",size:"small",className:"close-date-picker",icon:r.createElement(ke.A,null),onClick:function(e){e.stopPropagation(),P(!1)}})):g.deadline?r.createElement(r.Fragment,null,se()(g.deadline).format("MMM D, YYYY"),r.createElement(j.A,{className:"date-edit-icon"})):r.createElement(r.Fragment,null,r.createElement(C.A,null)," ",(0,J.Ru)("goal_milestones_add_deadline")))),N&&r.createElement("div",{className:"milestone-actions-list expanded",onClick:function(e){return e.stopPropagation()}},(null===(t=g.actions)||void 0===t?void 0:t.length)>0?r.createElement(r.Fragment,null,g.actions.map((function(t){return r.createElement("div",{key:t._id,className:"milestone-action-item"},r.createElement("div",{className:"action-content"},r.createElement(Te.A,{isChecked:t.isDone,onCheckChange:function(e){return ae(t,e)},label:r.createElement(Se,{item:{text:t.action,value:t.action},onFinished:function(){var e=(0,a.A)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t,n.text);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),color:"var(--color-success)",size:"small",checkboxAlign:"start",labelStyle:{fontSize:"14px",lineHeight:1.3,color:t.isDone?"var(--color-text-secondary)":"var(--color-text)",textDecoration:t.isDone?"line-through":"none"}}),r.createElement("div",{className:"action-deadline editable-date",onClick:function(e){e.stopPropagation(),K({actionId:t._id})}},(null==T?void 0:T.actionId)===t._id?r.createElement("div",{className:"date-picker-container"},r.createElement(b.A,{className:"inline-date-picker",defaultValue:se()(t.deadline),onChange:function(e){re(t._id,e)},autoFocus:!0,allowClear:!0,open:!0,disabledDate:function(e){return e&&e<se()().startOf("day")}}),r.createElement(d.Ay,{type:"text",size:"small",className:"close-date-picker",icon:r.createElement(ke.A,null),onClick:function(e){e.stopPropagation(),K(null)}})):t.deadline?r.createElement(r.Fragment,null,se()(t.deadline).format("MMM D, YYYY"),r.createElement(j.A,{className:"date-edit-icon"})):r.createElement(r.Fragment,null,r.createElement(C.A,null)," ",(0,J.Ru)("goal_actions_add_deadline")))),r.createElement("div",{className:"action-buttons"},r.createElement(De.A,{title:(0,te.JT)((0,J.Ru)("common_ask_AI"),[{key:"bot_name",value:fe.Zw}])},r.createElement(we.A,{type:"text",size:"small",borderSize:1,icon:r.createElement(Q.A,null),onClick:function(e){e.stopPropagation(),m((0,Ke.XA)(t)),m((0,Ke.wK)(!0))}})),r.createElement(Pe.A,{content:r.createElement("div",{className:"action-actions-menu",style:{display:"flex",flexDirection:"column",gap:"4px"}},r.createElement(d.Ay,{type:"text",icon:r.createElement(U.A,null),onClick:function(n){n.stopPropagation(),B(null),e.onSyncAction(g,t)},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_actions_create_event")),r.createElement(d.Ay,{type:"text",icon:r.createElement(j.A,null),onClick:function(n){n.stopPropagation(),B(null),e.onEditAction(g,t)},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_actions_edit")),r.createElement(Oe.A,{title:(0,J.Ru)("goal_actions_delete_confirm"),onConfirm:function(e){null==e||e.stopPropagation(),B(null),de(t._id)},okText:(0,J.Ru)("common_yes"),cancelText:(0,J.Ru)("common_no")},r.createElement(d.Ay,{type:"text",className:"delete-button",icon:r.createElement(Ie.A,null),onClick:function(e){return e.stopPropagation()},style:{justifyContent:"flex-start",width:"100%"}},(0,J.Ru)("goal_actions_delete")))),trigger:"click",placement:"bottomRight",open:H===t._id,onOpenChange:function(e){B(e?t._id:null)}},r.createElement(d.Ay,{type:"text",size:"small",icon:r.createElement(Fe.A,null),onClick:function(e){return e.stopPropagation()}}))))}))):r.createElement("div",{className:"no-actions-message"},(0,J.Ru)("goal_actions_empty")),r.createElement("div",{className:"add-action-button-container flex justify-center align-center gap-x-12"},r.createElement(d.Ay,{className:"add-action-button",icon:r.createElement(C.A,null),onClick:function(){var t;return e.onAddAction(g,(null===(t=g.actions)||void 0===t?void 0:t.length)||0)}},(0,te.JT)((0,J.Ru)("goal_actions_add_new"),[{key:"user",value:(null==s||null===(n=s.name)||void 0===n?void 0:n.split(" ")[0])||""}])),r.createElement(we.A,{style:{borderRadius:8},icon:r.createElement(q.A,{style:{width:14,height:14,marginRight:8}}),onClick:function(e){e.stopPropagation(),me()},loading:Y},(0,te.JT)((0,J.Ru)("goal_actions_generate"),[{key:"bot_name",value:fe.Zw}]))))))};var Ye=n(40864);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,ce.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=s.A.Title;const Ze=function(e){var t,n=e.goal,o=(0,_.S)().user,s=(0,w.jE)(),m=(0,xe.wA)(),p=(0,r.useState)(!1),u=(0,i.A)(p,2),g=u[0],f=u[1],v=(0,r.useState)(!1),h=(0,i.A)(v,2),x=h[0],y=h[1],k=(0,r.useState)(null),E=(0,i.A)(k,2),N=E[0],R=E[1],z=(0,r.useState)((0,de.A)(n.milestones||[]).sort((function(e,t){return(e.order||0)-(t.order||0)}))),D=(0,i.A)(z,2),P=D[0],j=D[1],I=(0,r.useState)(null),F=(0,i.A)(I,2),T=F[0],K=F[1],M=(0,r.useState)(null),V=(0,i.A)(M,2),Y=V[0],Q=V[1],U=(0,r.useState)(0),W=(0,i.A)(U,2),Z=W[0],L=W[1],B=(0,r.useState)(0),X=(0,i.A)(B,2),G=X[0],$=X[1],ee=(0,r.useState)({}),ne=(0,i.A)(ee,2),ae=ne[0],ie=ne[1],oe=(0,r.useState)(null),le=(0,i.A)(oe,2),re=le[0],ke=le[1],Ee=(0,r.useState)(null),Ae=(0,i.A)(Ee,2),_e=Ae[0],Ne=Ae[1],Re=me.A.useForm(),ze=(0,i.A)(Re,1)[0],Se=me.A.useForm(),De=(0,i.A)(Se,1)[0],Pe=(r.useRef(null),(0,r.useState)(!1)),Oe=(0,i.A)(Pe,2),je=Oe[0],Ie=Oe[1],Fe=(0,r.useState)(null),Te=(0,i.A)(Fe,2),Ke=Te[0],qe=Te[1],Me=(0,r.useState)(),Qe=(0,i.A)(Me,2),Ze=Qe[0],Je=Qe[1],Le=(0,r.useState)(!1),He=(0,i.A)(Le,2),Be=He[0],Xe=He[1];(0,r.useEffect)((function(){var e;if(null!==(e=n.milestones)&&void 0!==e&&e.length){var t=(0,de.A)(n.milestones).sort((function(e,t){return(e.order||0)-(t.order||0)}));j(t);var a=t.find((function(e){return!e.isDone}));a&&ie((0,ce.A)({},a._id,!0))}}),[n.milestones]),(0,r.useEffect)((function(){var e=function(e){!re||e.target.closest(".ant-picker")||e.target.closest(".milestone-deadline")||e.target.closest(".ant-picker-ranges")||e.target.closest(".ant-picker-panel")||ke(null),!_e||e.target.closest(".ant-picker")||e.target.closest(".action-deadline")||e.target.closest(".ant-picker-ranges")||e.target.closest(".ant-picker-panel")||Ne(null)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[re,_e]);var Ge,$e=function(e){L(e),R(null),ze.resetFields(),f(!0)},et=function(e){R(e),L(0),ze.setFieldsValue({milestone:e.milestone,deadline:e.deadline?se()(e.deadline):void 0}),f(!0)},tt=function(e,t){Q(e),$(t),K(null),De.resetFields(),y(!0)},nt=function(e,t){Q(e),K(t),De.setFieldsValue({action:t.action,deadline:t.deadline?se()(t.deadline):void 0}),y(!0)},at=function(){var e=(0,a.A)(l().mark((function e(){var t,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ie(!0),e.next=4,(0,A.ti)(n._id,1);case 4:(t=e.sent).length>0&&(a=t[0],ze.setFieldsValue({milestone:a.milestone,deadline:a.deadline?se()(a.deadline):void 0}),qe(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 12:return e.prev=12,Ie(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=(0,a.A)(l().mark((function e(){var t,a,i,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze.validateFields();case 3:if(a=e.sent,!N){e.next=13;break}return i=Ue(Ue({},N),{},{milestone:a.milestone,deadline:a.deadline?a.deadline.toDate():void 0}),e.next=8,(0,A.K5)(n._id,N._id,i);case 8:return s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),f(!1),qe(null),e.abrupt("return");case 13:return o={milestone:a.milestone,deadline:a.deadline?a.deadline.toDate():void 0,order:Z+1},null!=Ke&&null!==(t=Ke.actions)&&void 0!==t&&t.length&&(o.actions=Ke.actions.map((function(e){return{action:e.action,order:e.order,deadline:e.deadline}}))),e.next=17,(0,A.kH)(n._id,o);case 17:s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),f(!1),qe(null),e.next=28;break;case 23:if(e.prev=23,e.t0=e.catch(0),!e.t0.errorFields){e.next=27;break}return e.abrupt("return");case 27:c.Ay.error((0,J.Ru)("unexpected_error_message"));case 28:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=(0,a.A)(l().mark((function e(){var t,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,De.validateFields();case 5:if(t=e.sent,!T){e.next=14;break}return a=Ue(Ue({},T),{},{action:t.action,deadline:t.deadline?t.deadline.toDate():void 0}),e.next=10,(0,A.ue)(n._id,Y._id,T._id,a);case 10:return s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),y(!1),e.abrupt("return");case 14:return i={action:t.action,deadline:t.deadline?t.deadline.toDate():void 0,order:G+1},e.next=17,(0,A.n)(n._id,Y._id,i);case 17:s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),y(!1),e.next=27;break;case 22:if(e.prev=22,e.t0=e.catch(2),!e.t0.errorFields){e.next=26;break}return e.abrupt("return");case 26:c.Ay.error((0,J.Ru)("unexpected_error_message"));case 27:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(){return e.apply(this,arguments)}}(),lt=function(e,t){Q(e),K(t),t.eventId?(0,be.Z8)(t.eventId).then((function(e){Je(e),Xe(!0)})).catch((function(n){c.Ay.error((0,J.Ru)("unexpected_error_message")||"Failed to load event data"),rt(e,t)})):rt(e,t)},rt=function(e,t){var a=t.deadline?new Date(t.deadline):new Date,i={title:t.action,description:"From goal: ".concat(n.title).concat(e?"\n- Milestone: ".concat(e.milestone):""),startDate:a,endDate:(0,he.z)(a,60)};Je(i),Xe(!0)},st=function(){Xe(!1),Je(void 0),Q(null),K(null)},ct=function(){var e=(0,a.A)(l().mark((function e(t){var a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a={_id:t._id||"",title:t.title,startDate:t.startDate,endDate:t.endDate,description:t.description,status:H.c},null==T||!T.eventId){e.next=13;break}if(m((0,ye.tQ)(Ue(Ue({},a),{},{_id:T.eventId}))),!Y||!T){e.next=11;break}if(i=T.deadline?new Date(T.deadline):null,i&&i.getDate()===t.startDate.getDate()&&i.getMonth()===t.startDate.getMonth()&&i.getFullYear()===t.startDate.getFullYear()){e.next=11;break}return e.next=10,(0,A.ue)(n._id,Y._id,T._id,{deadline:t.startDate});case 10:s.invalidateQueries({queryKey:["goal"]});case 11:e.next=18;break;case 13:if(m((0,ye.l2)(Ue(Ue({},a),{},{_id:t._id}))),!Y||!T){e.next=18;break}return e.next=17,(0,A.ue)(n._id,Y._id,T._id,{eventId:t._id,deadline:t.startDate});case 17:s.invalidateQueries({queryKey:["goal"]});case 18:st(),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),c.Ay.error((0,J.Ru)("unexpected_error_message"));case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",{className:"goal-milestones animate-fade"},r.createElement("div",{className:"milestone-header flex-row gap-x-8 align-center"},r.createElement("div",{className:"flex items-center gap-x-8"},r.createElement(S.A,{className:"milestone-header-icon"}),r.createElement(We,{level:4},(0,J.Ru)("goal_milestones_title"))),r.createElement(d.Ay,{color:"primary",variant:"filled",icon:r.createElement(C.A,null),onClick:function(){var e;return $e((null===(e=n.milestones)||void 0===e?void 0:e.length)||0)}},(0,J.Ru)("goal_milestones_add_new"))),r.createElement("div",{className:"milestones-timeline"},r.createElement(pe.A,{items:null!==(Ge=n.milestones)&&void 0!==Ge&&Ge.length?P.map((function(e){return{key:e._id,dot:e.isDone?r.createElement(ve.A,{className:"milestone-done-icon"}):r.createElement(O.A,{className:"milestone-pending-icon"}),children:r.createElement(Ve,{isExpanded:ae[e._id],goalId:n._id,milestone:e,onAddMilestone:$e,onEditMilestone:et,onAddAction:tt,onEditAction:nt,onSyncAction:lt})}})):[{key:"empty",dot:r.createElement(O.A,null),children:r.createElement("div",{className:"milestone-empty"},(0,J.Ru)("goal_milestones_empty"))}]})),r.createElement(ue.A,{title:N?(0,J.Ru)("goal_milestones_edit"):(0,J.Ru)("goal_milestones_add_new"),centered:!0,keyboard:!1,open:g,onOk:it,onCancel:function(){f(!1),qe(null)},okText:(0,J.Ru)("common_save_changes"),cancelText:(0,J.Ru)("common_no"),wrapClassName:"lzv-theme-light lzv-theme-dark goal-milestone-modal"},r.createElement(me.A,{form:ze,layout:"vertical",className:"milestone-form"},r.createElement("div",{className:"flex gap-x-8 items-center"},r.createElement(me.A.Item,{name:"milestone",className:"flex-1",label:(0,J.Ru)("goal_milestones_milestone"),rules:[{required:!0,message:(0,J.Ru)("common_required_field")}]},r.createElement(ge.A.TextArea,{autoSize:{minRows:2,maxRows:6}})),r.createElement(we.A,{style:{borderRadius:8},icon:r.createElement(q.A,{style:{width:14,height:14}}),onClick:at,loading:je},(0,te.JT)((0,J.Ru)("common_bot_suggests"),[{key:"bot_name",value:fe.Zw}]))),r.createElement(me.A.Item,{name:"deadline",label:(0,J.Ru)("goal_milestones_deadline")},r.createElement(b.A,{className:"w-full",format:{format:"YYYY-MM-DD",type:"mask"},disabledDate:function(e){return e&&e<se()().startOf("day")}})),Ke&&r.createElement("div",{className:"milestone-preview-container"},r.createElement(Ce,{milestone:Ke,onMilestoneChange:function(e){Ke&&(qe(Ue(Ue({},Ke),{},{milestone:e})),ze.setFieldsValue({milestone:e}))},onDeadlineChange:function(e){Ke&&(qe(Ue(Ue({},Ke),{},{deadline:e||void 0})),ze.setFieldsValue({deadline:e?se()(e):void 0}))},onActionChange:function(e,t,n){var a;Ke&&qe(Ue(Ue({},Ke),{},{actions:null===(a=Ke.actions)||void 0===a?void 0:a.map((function(a){return a._id===e?Ue(Ue({},a),{},{action:t,deadline:n||void 0}):a}))}))},onAddAction:function(){if(Ke){var e,t={_id:"temp-".concat(Date.now()),action:"",order:((null===(e=Ke.actions)||void 0===e?void 0:e.length)||0)+1,isDone:!1,createdAt:new Date};qe(Ue(Ue({},Ke),{},{actions:[].concat((0,de.A)(Ke.actions||[]),[t])}))}}})))),r.createElement(ue.A,{title:T?(0,J.Ru)("goal_actions_edit"):(0,te.JT)((0,J.Ru)("goal_actions_add_new"),[{key:"user",value:(null==o||null===(t=o.name)||void 0===t?void 0:t.split(" ")[0])||""}]),open:x,onOk:ot,onCancel:function(){return y(!1)},okText:(0,J.Ru)("common_save_changes"),cancelText:(0,J.Ru)("common_cancel")},r.createElement(me.A,{form:De,layout:"vertical",className:"action-form"},r.createElement(me.A.Item,{name:"action",rules:[{required:!0,message:(0,J.Ru)("common_required_field")}]},r.createElement(ge.A.TextArea,{placeholder:(0,J.Ru)("goal_actions_action_placeholder"),autoSize:{minRows:2,maxRows:6}})),r.createElement(me.A.Item,{name:"deadline"},r.createElement(b.A,{className:"w-full",placeholder:(0,J.Ru)("goal_actions_deadline_placeholder"),disabledDate:function(e){return e&&e<se()().startOf("day")}})))),r.createElement(Ye.A,{visible:Be,event:Ze,onClose:st,onSave:ct}))};var Je=n(95602),Le=n(66672),He=n(58168),Be=n(58256),Xe=n(14154),Ge=function(e){return"/goals/".concat(e,"/knowledge-base")};function $e(e,t){return et.apply(this,arguments)}function et(){return(et=(0,a.A)(l().mark((function e(t,n){var a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",n),e.next=4,(0,Xe.PA)().post("".concat(Ge(t),"/upload"),a);case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=(0,a.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Xe.PA)().get(Ge(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e,t){return it.apply(this,arguments)}function it(){return(it=(0,a.A)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Xe.PA)().delete("".concat(Ge(t),"/").concat(n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(53959);var ot=function(e){var t=e.goalId,n=e.onUploadComplete,o=(0,r.useState)(!1),s=(0,i.A)(o,2),c=s[0],d=s[1],m=(0,r.useState)(0),p=(0,i.A)(m,2),u=p[0],g=p[1],f=(0,r.useState)(null),v=(0,i.A)(f,2),b=v[0],h=v[1],x=(0,r.useCallback)(function(){var e=(0,a.A)(l().mark((function e(a){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=2;break}return e.abrupt("return");case 2:return i=a[0],d(!0),h(null),g(0),e.prev=6,g(50),e.next=10,$e(t,i);case 10:g(100),setTimeout((function(){n(),d(!1),g(0)}),500),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),h(e.t0.message||(0,J.Ru)("knowledge_base_upload_failed")),d(!1),g(0);case 19:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),[t,n]),y=(0,Be.VB)({onDrop:x,accept:{"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"],"text/plain":[".txt"],"text/markdown":[".md"],"text/html":[".html"],"text/csv":[".csv"],"text/xml":[".xml",".rss"]},maxSize:52428800,multiple:!1,disabled:c}),w=y.getRootProps,k=y.getInputProps,E=y.isDragActive;return r.createElement("div",{className:"knowledge-base-uploader"},r.createElement("div",(0,He.A)({},w(),{className:"dropzone ".concat(E?"active":""," ").concat(c?"disabled":"")}),r.createElement("input",k()),c?r.createElement("div",{className:"upload-progress"},r.createElement("div",{className:"spinner"}),r.createElement("p",null,(0,J.Ru)("knowledge_base_uploading",[{key:"progress",value:u.toString()}])),r.createElement("div",{className:"progress-bar"},r.createElement("div",{className:"progress-fill",style:{width:"".concat(u,"%")}}))):r.createElement("div",{className:"upload-prompt"},r.createElement("svg",{className:"upload-icon",width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor"},r.createElement("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"})),E?r.createElement("p",null,(0,J.Ru)("knowledge_base_drop_file_here")):r.createElement(r.Fragment,null,r.createElement("p",null,(0,J.Ru)("knowledge_base_drag_drop_prompt")),r.createElement("p",{className:"file-types"},(0,J.Ru)("knowledge_base_supported_formats"))))),b&&r.createElement("div",{className:"error-message"},r.createElement("span",{className:"error-icon"},"\u26a0\ufe0f"),b))},lt=(n(21696),function(e){var t=e.goalId,n=(0,r.useState)([]),o=(0,i.A)(n,2),s=o[0],c=o[1],d=(0,r.useState)(!0),m=(0,i.A)(d,2),p=m[0],u=m[1],g=function(){var e=(0,a.A)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt(t);case 3:n=e.sent,c(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:return e.prev=10,u(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){g();var e=setInterval(g,5e3);return function(){return clearInterval(e)}}),[t]);var f=function(){var e=(0,a.A)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Delete this knowledge base document?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,at(t,n);case 5:return e.next=7,g();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",{className:"knowledge-base-section"},r.createElement("h3",null,"Knowledge Base"),r.createElement("p",{className:"section-description"},"Upload documents to help the AI assistant answer questions about your goal."),r.createElement(ot,{goalId:t,onUploadComplete:g}),r.createElement("div",{className:"knowledge-base-list"},p?r.createElement("div",{className:"loading"},"Loading documents..."):0===s.length?r.createElement("div",{className:"empty-state"},r.createElement("p",null,"No documents uploaded yet")):r.createElement("table",{className:"kb-table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"File Name"),r.createElement("th",null,"Chunks"),r.createElement("th",null,"Status"),r.createElement("th",null,"Uploaded"),r.createElement("th",null,"Actions"))),r.createElement("tbody",null,s.map((function(e){return r.createElement("tr",{key:e._id},r.createElement("td",{className:"file-name"},e.fileName),r.createElement("td",null,e.chunkCount||"-"),r.createElement("td",null,(t=e.status,n={pending:{text:"Pending",class:"status-pending"},processing:{text:"Processing...",class:"status-processing"},ready:{text:"Ready",class:"status-ready"},failed:{text:"Failed",class:"status-failed"}}[t],r.createElement("span",{className:"status-badge ".concat(n.class)},n.text))),r.createElement("td",null,new Date(e.uploadedAt).toLocaleDateString()),r.createElement("td",null,r.createElement("button",{className:"btn-delete",onClick:function(){return f(e._id)},title:"Delete"},"\u{1f5d1}\ufe0f")));var t,n}))))),s.some((function(e){return"failed"===e.status}))&&r.createElement("div",{className:"error-notice"},"Some documents failed to process. Try re-uploading them."))}),rt=s.A.Text,st=function(e){var t=e.goal,n=(0,_.S)().screenWidth,o=(0,z.Zp)(),s=(0,w.jE)(),x=(0,r.useState)([]),y=(0,i.A)(x,2),E=y[0],N=y[1],R=(0,r.useState)(null),T=(0,i.A)(R,2),K=T[0],M=T[1],V=(0,r.useState)(1),Y=(0,i.A)(V,2),Q=Y[0],U=Y[1],W=(0,r.useState)("hour"),Z=(0,i.A)(W,2),L=Z[0],B=Z[1],X=(0,r.useState)(1),G=(0,i.A)(X,2),$=G[0],oe=G[1],re=(0,r.useState)("week"),ce=(0,i.A)(re,2),de=ce[0],me=ce[1],pe=(0,r.useState)(0),ue=(0,i.A)(pe,2),ge=ue[0],ve=ue[1],be=(0,r.useState)(!1),he=(0,i.A)(be,2),xe=he[0],ye=he[1],we=(0,r.useState)(!1),ke=(0,i.A)(we,2),Ee=ke[0],Ae=ke[1],_e=(0,r.useState)(!1),Ne=(0,i.A)(_e,2),Re=Ne[0],ze=Ne[1];(0,r.useEffect)((function(){ze(n<=fe.NU.sm)}),[n]);var Ce=(0,k.n)({mutationFn:function(e){return(0,A.lB)(e)},onSuccess:function(){s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("goal_milestones_generated_success"))},onError:function(){c.Ay.error((0,J.Ru)("unexpected_error_message"))}});(0,r.useEffect)((function(){var e,n=[],a=function(e,n){var a=(null===(e=t.milestones)||void 0===e?void 0:e.length)||0;if(0===a)return 0;var i=100/a;return(null===(n=t.milestones)||void 0===n?void 0:n.reduce((function(e,t){if(t.isDone)return e+i;var n=t.actions||[];return n.length>0?e+n.filter((function(e){return e.isDone})).length/n.length*i:e}),0))||0}();ve(5*Math.floor(a/5)),null!==(e=t.milestones)&&void 0!==e&&e.length||n.push({id:"milestones",type:"milestones",content:(0,J.Ru)("goal_detail_suggestion_add_milestones"),icon:r.createElement(S.A,null),description:(0,J.Ru)("goal_detail_suggestion_add_milestones_description")}),N(n)}),[t]),(0,r.useEffect)((function(){t.allocationValue&&(U(t.allocationValue),B(t.allocationUnit||"hour"),oe(t.allocationValuePerUnit||1),me(t.allocationValuePerUnitUnit||"week")),t.deadline&&M(new Date(t.deadline))}),[t]);var De,Pe,Oe=function(e){if("milestones"===e)Ce.mutate(t._id)},je=function(e){return"milestones"===e.type?r.createElement(d.Ay,{type:"primary",className:"is-deep",onClick:function(){return Oe(e.type)},icon:r.createElement(q.A,{style:{width:14,height:14,marginRight:8}}),loading:Ce.isPending,disabled:Ce.isPending},(0,J.Ru)("common_generate")):r.createElement(d.Ay,{type:"primary",className:"is-deep",onClick:function(){return Oe(e.type)},icon:r.createElement(C.A,null)},(0,J.Ru)("common_add"))};return r.createElement("div",{className:"goal-detail-content"},r.createElement("div",{className:"goal-header animate-fade ".concat(Re?"bot-16px":"top-bot-16px")},r.createElement("div",{className:"goal-header--main-layout"},r.createElement("div",{className:"goal-header--back-button"},r.createElement(d.Ay,{color:"default",variant:"filled",icon:r.createElement(D.A,null),shape:"circle",onClick:function(){return o("/goals")},size:Re?"small":"middle"})),r.createElement("div",{className:"goal-header--content"},r.createElement("div",{className:"goal-header--title-row"},r.createElement("div",{className:"goal-header--title"},t.emoji&&r.createElement("span",{className:"goal-emoji"},t.emoji),r.createElement(Se,{className:"flex-1",item:{text:t.title,value:t.title},labelStyle:{fontSize:"24px",fontWeight:600,lineHeight:1.4,color:"var(--color-text)",margin:0},onFinished:function(){var e=(0,a.A)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.TO)(t._id,{title:n.text.trim()});case 2:s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),r.createElement("div",{className:"goal-meta-tags"},r.createElement(Le.A,{position:"end",speed:"slow"},r.createElement(m.A,{suffixIcon:null,value:t.priority,onChange:function(e){(0,A.TO)(t._id,{priority:e}).then((function(){s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved"))}))},optionRender:function(e){return r.createElement("div",{style:{textAlign:"center"}},e.label)},labelRender:function(e){return r.createElement("div",{style:{textAlign:"center"}},e.label)},style:{width:120},options:ee.Z})))),t.detail&&r.createElement("p",{className:"goal-detail--subtitle animate-fade"},t.detail)))),r.createElement("div",{className:"overflow-x-auto"},r.createElement(p.A,{gutter:[12,12],className:"goal-meta-info animate-fade no-wrap"},r.createElement(u.A,{xs:20,sm:20,md:{flex:1},style:Re?{}:{minWidth:300}},r.createElement("div",{className:"meta-item"},r.createElement(P.A,null),r.createElement("div",{className:"meta-content"},r.createElement("div",{className:"meta-title"},(0,J.Ru)("goal_detail_progress")),r.createElement(g.A,{percent:ge,status:"active"})))),r.createElement(u.A,{xs:24,sm:24,md:{flex:1},style:Re?{minWidth:380}:{minWidth:280}},r.createElement("div",{className:"meta-item"},r.createElement(O.A,null),r.createElement("div",{className:"meta-content"},r.createElement("div",{className:"meta-title flex justify-between align-center"},t.deadline?(0,J.Ru)("goal_detail_time_remaining"):(0,J.Ru)("goal_detail_suggestion_add_deadline"),t.deadline&&!xe&&r.createElement(d.Ay,{type:"text",icon:r.createElement(j.A,null),onClick:function(){return ye(!0)},size:"small"})),t.deadline&&!xe?r.createElement(f.A,{direction:"vertical",size:4},(De=new Date,Pe=new Date(t.deadline),De>Pe?r.createElement(rt,{type:"danger"},(0,J.Ru)("goal_detail_time_remaining_overdue")):r.createElement(rt,null,(0,te.JT)((0,J.Ru)("goal_detail_time_remaining_format"),[{key:"time_remaining",value:(0,ne.U0)({toDate:Pe,fromDate:De})},{key:"due_date",value:(0,ae.GP)(Pe,"MMM d, yyyy")}])))):r.createElement(f.A.Compact,{className:"full-width"},r.createElement(m.A,{style:{flex:1},placeholder:(0,J.Ru)("select"),suffixIcon:r.createElement(I.A,null),value:K?se()(K).format("YYYY-MM-DD"):void 0,onChange:function(e){if(e){var t=se()();if(e.includes("week")){var n=parseInt(e);M(t.add(n,"week").toDate())}else if(e.includes("month")){var a=parseInt(e);M(t.add(a,"month").toDate())}else if(e.includes("year")){var i=parseInt(e);M(t.add(i,"year").toDate())}}else M(null)},dropdownRender:function(e){return r.createElement(r.Fragment,null,e,r.createElement(v.A,{style:{margin:"8px 0"}}),r.createElement("div",{style:{padding:"0 8px 4px"}},r.createElement(b.A,{style:{width:"100%"},placeholder:(0,J.Ru)("goal_input_deadline_custom"),value:K?se()(K):null,onChange:function(e){M(e?e.toDate():null)},disabledDate:function(e){return e&&e<se()().startOf("day")},allowClear:!0})))},options:Je.k,allowClear:!0}),r.createElement(d.Ay,{type:"primary",disabled:!K,onClick:function(){K&&(0,A.TO)(t._id,{deadline:K}).then((function(){s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),ye(!1)}))}},(0,J.Ru)("common_save")))))),r.createElement(u.A,{xs:24,sm:24,md:{flex:t.allocationValue?1:"auto"},style:Re?{maxWidth:600}:{minWidth:480,maxWidth:600}},r.createElement("div",{className:"meta-item"},r.createElement(F.A,null),r.createElement("div",{className:"meta-content"},r.createElement("div",{className:"meta-title flex justify-between align-center"},(0,J.Ru)("goal_detail_suggestion_allocation"),t.allocationValue&&!Ee&&r.createElement(d.Ay,{type:"text",icon:r.createElement(j.A,null),onClick:function(){return Ae(!0)},size:"small"})),t.allocationValue&&!Ee?r.createElement(rt,null,t.allocationValue," ",(0,J.Ru)("common_".concat(t.allocationUnit).concat(1===t.allocationValue?"":"s"))," ",(0,J.Ru)("common_every")," ",t.allocationValuePerUnit," ",(0,J.Ru)("common_".concat(t.allocationValuePerUnitUnit).concat(1===t.allocationValuePerUnit?"":"s"))):r.createElement(f.A,{direction:"vertical",style:{width:"100%"}},r.createElement("div",{className:"suggestion-action flex gap-x-4 align-center no-wrap"},r.createElement("div",{className:"time-inputs"},r.createElement(h.A,{min:1,value:Q,onChange:function(e){return U(e||1)},addonAfter:r.createElement(m.A,{defaultValue:"hour",value:L,onChange:B},H.KR.map((function(e){return r.createElement(m.A.Option,{key:e,value:e},(0,J.Ru)("common_".concat(e)))})))})),r.createElement("span",{style:{color:"var(--color-text-secondary)"}},(0,J.Ru)("common_every")),r.createElement(h.A,{min:1,value:$,onChange:function(e){return oe(e||1)},addonAfter:r.createElement(m.A,{defaultValue:"week",value:de,onChange:me},H.aG.map((function(e){return r.createElement(m.A.Option,{key:e,value:e},(0,J.Ru)("common_".concat(e)))})))}),r.createElement(d.Ay,{type:"primary",onClick:function(){(0,A.TO)(t._id,{allocationValue:Q,allocationUnit:L,allocationValuePerUnit:$,allocationValuePerUnitUnit:de}).then((function(){s.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("common_changes_saved")),Ae(!1)}))}},(0,J.Ru)("common_save"))))))))),E.length>0&&r.createElement("div",{className:"goal-detail--suggestions animate-fade"},r.createElement(le.g,{bubblePointSize:"small",shibImgUrl:(0,J.ID)(ie),imgWidth:Re?28:128,text:(0,J.Ru)("goal_detail_suggestion_message"),bubbleProperties:{background:"var(--color-blue)",borderColor:"var(--color-blue) var(--color-blue) transparent transparent",borderRadius:12},style:Re?{marginBottom:0}:{},extraContent:r.createElement("div",{className:"margin-8px"},!Re&&r.createElement(p.A,{gutter:[12,12]},E.map((function(e){return r.createElement(u.A,{xs:20,sm:20,md:12,lg:12,key:e.id},r.createElement("div",{className:"suggestion-button-wrapper"},r.createElement("div",{className:"suggestion-content"},r.createElement("span",{className:"suggestion-icon"},e.icon),r.createElement("div",{className:"suggestion-text-content"},r.createElement("div",{className:"suggestion-title"},e.content),e.description&&r.createElement("div",{className:"suggestion-description"},e.description))),je(e)))}))))}),Re&&r.createElement(p.A,{gutter:[12,12]},E.map((function(e){return r.createElement(u.A,{xs:24,sm:24,md:12,lg:12,key:e.id,style:Re?{padding:0}:{}},r.createElement("div",{className:"suggestion-button-wrapper"},r.createElement("div",{className:"suggestion-content"},r.createElement("span",{className:"suggestion-icon"},e.icon),r.createElement("div",{className:"suggestion-text-content"},r.createElement("div",{className:"suggestion-title"},e.content),e.description&&r.createElement("div",{className:"suggestion-description"},e.description))),je(e)))})))))};const ct=function(){var e=(0,_.S)(),t=e.user,n=e.themeColor,o=e.screenWidth,m=(0,z.g)().goal_id,p=(0,r.useState)(20),u=(0,i.A)(p,2),g=u[0],f=u[1],v=(0,w.jE)(),b=(0,xe.wA)(),h=(0,xe.d4)((function(e){return e.goals.goalDetailDrawerVisible})),C=(0,r.useState)(!1),D=(0,i.A)(C,2),P=D[0],O=D[1];(0,r.useEffect)((function(){O(o<=fe.NU.sm)}),[o]);var j=(0,k.n)({mutationFn:function(e){return(0,A.lB)(e)},onSuccess:function(){v.invalidateQueries({queryKey:["goal"]}),c.Ay.success((0,J.Ru)("goal_milestones_generated_success"))},onError:function(){c.Ay.error((0,J.Ru)("unexpected_error_message"))}});(0,r.useLayoutEffect)((function(){var e=document.querySelector(".goal-detail-wrapper [data-panel-group]"),t=document.querySelectorAll(".goal-detail-wrapper [data-panel-resize-handle]"),n=new ResizeObserver((function(){if(e){var n=e.offsetWidth;t.forEach((function(e){n-=e.offsetWidth})),f(320/n*100)}}));return e&&(n.observe(e),t.forEach((function(e){n.observe(e)}))),function(){n.disconnect()}}),[]);var I,F=(0,E.I)({queryKey:["goal"],queryFn:(I=(0,a.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.kr)(m));case 1:case"end":return e.stop()}}),e)}))),function(){return I.apply(this,arguments)}),enabled:!!m,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),q=F.data,M=F.isLoading;if(!t||!m)return r.createElement(x.A,{active:!0});var Y=r.createElement("div",{className:"flex-col ".concat(P?"gap-row-8":"gap-row-16"," full-width overflow-y-auto")},M?r.createElement(x.A,{active:!0}):q?r.createElement(r.Fragment,null,r.createElement(st,{goal:q}),j.isPending?r.createElement("div",{className:"goal-milestones animate-fade"},r.createElement("div",{className:"milestone-header"},r.createElement("div",{className:"flex items-center gap-x-8"},r.createElement(S.A,{className:"milestone-header-icon"}),r.createElement(s.A.Title,{level:4},(0,J.Ru)("goal_milestones_title")))),r.createElement(x.A,{active:!0,paragraph:{rows:6}})):r.createElement(Ze,{goal:q}),r.createElement(lt,{goalId:m})):null),Q=r.createElement("div",{className:"sider-panel"},r.createElement(V,{goalId:m,onSelectDay:function(){},onAddEvent:function(){}})),U=r.createElement("div",{className:"sider-panel"},r.createElement(G,{goalId:m,onSelectDay:function(){},onAddEvent:function(){}})),W=r.createElement("div",{className:"chat-panel"},r.createElement($.A,{includeHeader:!1,includeAvatar:!1,conversationType:H.bN,conversationMeta:{type:H.bN,meta:{goalId:m}}}));return r.createElement(r.Fragment,null,r.createElement("div",{className:"goal-detail-wrapper pointer-events-none"},P?r.createElement(r.Fragment,null,Y,r.createElement(y.A,{title:r.createElement(s.A.Text,{ellipsis:{suffix:""}},(null==q?void 0:q.title)||""),rootClassName:"lazyvax lzv-theme-".concat(n),placement:"right",onClose:function(){return b((0,Ke.wK)(!1))},open:h,width:"100vw",styles:{body:{padding:0}}},U)):r.createElement(N.YZ,{direction:"horizontal"},r.createElement(N.Zk,{defaultSize:80,minSize:50},Y),r.createElement(N.TW,{className:"panel-resize-handle"}),r.createElement(N.Zk,{defaultSize:20,minSize:g},Q))),!P&&r.createElement(R.q,{shape:"round",initPosition:{bottom:40,right:24},icon:r.createElement("img",{src:(0,J.ID)(oe),width:64}),bubbleSize:68,popoverSize:400},W),P&&r.createElement("div",{style:{position:"fixed",right:8,top:8,zIndex:9999}},r.createElement(d.Ay,{style:{color:"var(--color-primary-bg)"},size:"large",icon:h?r.createElement(T.A,null):r.createElement(K.A,null),onClick:function(){return b((0,Ke.wK)(!h))},type:"text"})))}},6495:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(31601),i=n.n(a),o=n(76314),l=n.n(o)()(i());l.push([e.id,".editable-paragraph-wrapper{inset-inline-start:unset !important;margin-top:unset !important;margin-bottom:unset !important}.editable-paragraph-wrapper .ant-typography-edit-content-confirm{display:flex;align-items:center;column-gap:8px;pointer-events:unset}.editable-paragraph-wrapper .ant-typography-edit-content-confirm>span:first-child:hover{color:var(--color-gold)}.editable-paragraph-wrapper .ant-typography-edit-content-confirm>span:last-child:hover{color:var(--color-green)}",""]);const r=l},79811:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(31601),i=n.n(a),o=n(76314),l=n.n(o)()(i());l.push([e.id,'.goal-milestones{opacity:0;animation:animate-fade .5s ease-out .8s forwards}.goal-milestones :global(.ant-picker-panel){z-index:1100 !important}.goal-milestones :global(.ant-picker-footer){padding:8px 12px}.goal-milestones :global(.ant-picker-footer) .date-picker-options{margin:-8px -12px}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container{padding:0}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .horizontal-list{padding:8px 16px;gap:6px;max-height:120px;overflow-y:auto}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .horizontal-list .ant-btn{font-size:11px;padding:0 6px;height:22px;border-radius:11px;color:var(--color-primary);border-color:var(--color-primary-light);background:var(--color-white);white-space:nowrap}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .horizontal-list .ant-btn:hover{color:var(--color-primary-hover);border-color:var(--color-primary);background:var(--color-primary-ultralight)}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .scroll-button{width:24px;height:24px;background:var(--color-white);box-shadow:0 1px 4px rgba(0,0,0,.1)}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .scroll-button.left{left:4px}.goal-milestones :global(.ant-picker-footer) .date-picker-options .horizontal-list-container .scroll-button.right{right:4px}.goal-milestones .milestone-header{margin-bottom:24px}@media(max-width: 768px){.goal-milestones .milestone-header{gap:8px;margin-bottom:16px}.goal-milestones .milestone-header>button{width:100%}}.goal-milestones .milestone-header .milestone-header-icon{font-size:24px;color:var(--color-primary);background:var(--color-white);padding:12px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.06)}.goal-milestones .milestone-header h4.ant-typography{margin:0;color:var(--color-text)}@media(max-width: 768px){.goal-milestones .milestone-header h4.ant-typography{font-size:1rem}}.goal-milestones .milestones-timeline{padding:0 24px}@media(max-width: 768px){.goal-milestones .milestones-timeline{padding:2px}.goal-milestones .milestones-timeline .ant-timeline-item-content{margin-inline-start:18px}}.goal-milestones .milestones-timeline .milestone-empty{color:var(--color-text-secondary);font-style:italic;padding:16px;text-align:center;background:var(--color-bg-gray-ultralight);border-radius:12px;border:1px dashed var(--color-border)}.goal-milestones .milestones-timeline .ant-timeline-item-last{padding-bottom:0}.goal-milestones .milestones-timeline .milestone-item{display:flex;align-items:flex-start;gap:16px;padding:16px;background:var(--color-white);border:1px solid rgba(var(--color-primary-rgb), 0.1);box-shadow:0 2px 6px rgba(0,0,0,.04);border-radius:12px;transition:all .3s cubic-bezier(0.4, 0, 0.2, 1);position:relative;overflow:hidden;cursor:pointer}@media(max-width: 768px){.goal-milestones .milestones-timeline .milestone-item{padding:8px;gap:8px}}.goal-milestones .milestones-timeline .milestone-item::before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:var(--color-primary);opacity:0;transition:opacity .3s ease}.goal-milestones .milestones-timeline .milestone-item:hover{transform:translateY(-1px);border-color:rgba(var(--color-primary-rgb), 0.2);box-shadow:0 4px 12px rgba(0,0,0,.08);background:linear-gradient(to right, rgba(var(--color-primary-rgb), 0.02), rgba(var(--color-primary-rgb), 0.01))}.goal-milestones .milestones-timeline .milestone-item:hover::before{opacity:.3}.goal-milestones .milestones-timeline .milestone-item::after{display:none}.goal-milestones .milestones-timeline .milestone-item:has(.milestone-actions-list:not(.expanded)) .goal-milestones .milestones-timeline .milestone-item::after{display:none}.goal-milestones .milestones-timeline .milestone-item.is-done{background:linear-gradient(to right, rgba(var(--color-success-rgb), 0.04), rgba(var(--color-success-rgb), 0.02));border-color:rgba(var(--color-success-rgb), 0.2)}.goal-milestones .milestones-timeline .milestone-item.is-done::before{background:var(--color-success);opacity:1}.goal-milestones .milestones-timeline .milestone-item.is-done .milestone-deadline{text-decoration:line-through;opacity:.7}.goal-milestones .milestones-timeline .milestone-item.is-done .milestone-done-icon{color:var(--color-success);filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))}.goal-milestones .milestones-timeline .milestone-item .milestone-content{flex:1;min-width:0}.goal-milestones .milestones-timeline .milestone-item .milestone-content .editable-paragraph-wrapper{width:100%;inset-inline-start:unset;margin-top:unset;margin-bottom:unset}.goal-milestones .milestones-timeline .milestone-item .milestone-content .editable-paragraph-wrapper .ant-typography-edit{opacity:0;transition:opacity .2s ease}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-expand-button{display:flex;justify-content:flex-start}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-expand-button .expand-button{padding:4px;height:auto;line-height:1;border:none;background:var(--color-bg-gray-ultralight);border-radius:6px;transition:all .2s ease}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-expand-button .expand-button:hover{color:var(--color-primary);background:var(--color-bg-gray)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-expand-button .expand-button:active{transform:scale(0.95)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-expand-button .expand-button .anticon{font-size:12px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-header-row{margin-bottom:8px;position:relative}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-header-row:hover .editable-paragraph-wrapper .ant-typography-edit{opacity:1}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline{font-size:13px;color:var(--color-text-secondary);display:flex;align-items:center;gap:6px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline::before{content:"";display:inline-block;width:6px;height:6px;background:var(--color-primary);border-radius:50%;opacity:.6}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date{position:relative;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:6px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date:hover{color:var(--color-primary);background-color:rgba(var(--color-primary-rgb), 0.05);border-radius:4px;padding:2px 6px;margin-left:-6px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .date-edit-icon{font-size:12px;opacity:0;margin-left:4px;color:var(--color-text-secondary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date:hover .date-edit-icon{opacity:1;color:var(--color-primary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .date-picker-container{display:flex;align-items:center;position:relative;z-index:10}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .date-picker-container .close-date-picker{position:absolute;right:-24px;top:0;padding:2px;height:20px;width:20px;display:flex;align-items:center;justify-content:center;color:var(--color-text-secondary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .date-picker-container .close-date-picker:hover{color:var(--color-red)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .date-picker-container .close-date-picker .anticon{font-size:14px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .inline-date-picker{margin-left:-6px;margin-top:-4px;margin-bottom:-4px;z-index:10}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-deadline.editable-date .inline-date-picker .ant-picker-input input{font-size:13px;height:24px;padding:0 8px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-add-deadline{font-size:13px;color:var(--color-text-secondary);display:flex;align-items:center;gap:6px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;opacity:.7}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-add-deadline:hover{color:var(--color-primary);opacity:1}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-add-deadline .anticon{font-size:11px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list{margin-top:12px;padding-top:12px;border-top:1px dashed rgba(var(--color-border-rgb), 0.5);display:flex;flex-direction:column;gap:10px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .no-actions-message{color:var(--color-text-secondary);font-style:italic;padding:8px 12px;text-align:center;background:var(--color-bg-gray-ultralight);border-radius:8px;font-size:13px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item{padding:8px 10px;border-radius:8px;background:var(--color-bg-gray-ultralight);transition:all .2s ease;display:flex;align-items:flex-start;justify-content:space-between}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item:hover{background:var(--color-bg-gray-light)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item:hover .action-buttons{opacity:1;transform:translateX(0)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content{flex:1;min-width:0;padding-right:8px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content .editable-paragraph-wrapper .ant-typography-edit{opacity:0;transition:opacity .2s ease}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content:hover .editable-paragraph-wrapper .ant-typography-edit{opacity:1}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-buttons{display:flex;gap:4px;opacity:0;transform:translateX(10px);transition:all .2s ease}@media(max-width: 768px){.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-buttons{opacity:1;transform:translateX(0)}}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-buttons .ant-btn{padding:4px;height:24px;width:24px;display:flex;align-items:center;justify-content:center;border-radius:4px;background:var(--color-white);box-shadow:0 1px 2px rgba(0,0,0,.05)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-buttons .ant-btn:hover{background:var(--color-primary-light);color:var(--color-primary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-buttons .ant-btn.delete-button:hover{background:var(--color-red-light-bg);color:var(--color-red)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline{font-size:12px;color:var(--color-text-secondary);margin-top:4px;margin-left:24px;display:flex;align-items:center;gap:4px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline::before{content:"";display:inline-block;width:4px;height:4px;background:var(--color-text-secondary);border-radius:50%;opacity:.6}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date{position:relative;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:4px;width:fit-content}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date:hover{color:var(--color-primary);background-color:rgba(var(--color-primary-rgb), 0.05);border-radius:4px;padding:2px 6px;margin-left:18px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .date-edit-icon{font-size:11px;opacity:0;margin-left:4px;color:var(--color-text-secondary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date:hover .date-edit-icon{opacity:1;color:var(--color-primary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .date-picker-container{display:flex;align-items:center;position:relative;z-index:10}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .date-picker-container .close-date-picker{position:absolute;right:-24px;top:0;padding:2px;height:20px;width:20px;display:flex;align-items:center;justify-content:center;color:var(--color-text-secondary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .date-picker-container .close-date-picker:hover{color:var(--color-red)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .date-picker-container .close-date-picker .anticon{font-size:12px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .inline-date-picker{margin-left:-6px;margin-top:-2px;margin-bottom:-2px;z-index:10}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-deadline.editable-date .inline-date-picker .ant-picker-input input{font-size:12px;height:22px;padding:0 6px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-add-deadline{font-size:12px;color:var(--color-text-secondary);margin-top:4px;margin-left:24px;display:flex;align-items:center;gap:4px;cursor:pointer;transition:all .2s ease;opacity:.7}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-add-deadline:hover{color:var(--color-primary);opacity:1}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-add-deadline .anticon{font-size:10px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .add-action-button-container{margin-top:12px}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .add-action-button-container .add-action-button{border:2px solid var(--color-primary)}.goal-milestones .milestones-timeline .milestone-item .milestone-content .milestone-actions-list .add-action-button-container .animated-border-button{height:28px}.goal-milestones .milestones-timeline .milestone-item .milestone-actions{display:flex;gap:4px;align-items:center;flex-shrink:0}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .ant-btn{padding:6px;height:auto;line-height:1;border:none;background:var(--color-bg-gray-ultralight);border-radius:8px;transition:all .2s ease}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .ant-btn:hover{color:var(--color-primary);background:var(--color-bg-gray)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .ant-btn:active{transform:scale(0.95)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .ant-btn .anticon{font-size:14px}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .milestone-actions-menu .ant-btn{border:none;box-shadow:none;background:rgba(0,0,0,0);text-align:left;padding:8px 12px;height:auto;border-radius:4px}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .milestone-actions-menu .ant-btn:hover{background:var(--color-bg-gray-ultralight)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .milestone-actions-menu .ant-btn.delete-button{color:var(--color-red-light)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .milestone-actions-menu .ant-btn.delete-button:hover{background:var(--color-red-bg);color:var(--color-red)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .action-actions-menu .ant-btn{border:none;box-shadow:none;background:rgba(0,0,0,0);text-align:left;padding:8px 12px;height:auto;border-radius:4px}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .action-actions-menu .ant-btn:hover{background:var(--color-bg-gray-ultralight)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .action-actions-menu .ant-btn.delete-button{color:var(--color-red-light)}.goal-milestones .milestones-timeline .milestone-item .milestone-actions .action-actions-menu .ant-btn.delete-button:hover{background:var(--color-red-bg);color:var(--color-red)}.goal-milestones .milestones-timeline .milestone-pending-icon{color:var(--color-primary);filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))}.goal-milestones .milestone-form .ant-form-item:last-child,.goal-milestones .action-form .ant-form-item:last-child{margin-bottom:0}@media(max-width: 768px){.goal-milestones .milestone-item .milestone-actions{opacity:1;transform:translateX(0)}.goal-milestones .milestone-item .milestone-action-item .action-buttons{opacity:1;transform:translateX(0)}.goal-milestones .milestone-item .expand-button{opacity:1}.goal-milestones .milestone-item .milestone-content .milestone-header-row .editable-paragraph-wrapper .ant-typography-edit{opacity:1}.goal-milestones .milestone-item .milestone-content .milestone-actions-list .milestone-action-item .action-content .editable-paragraph-wrapper .ant-typography-edit{opacity:1}}@keyframes animate-fade{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.milestone-preview-container .milestone-item.preview{border:1px solid rgba(var(--color-primary-rgb), 0.1);padding:16px;margin:0;background:var(--color-white);border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,.04);position:relative;overflow:hidden}.milestone-preview-container .milestone-item.preview::before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:var(--color-primary);opacity:.3}.milestone-preview-container .milestone-item.preview .milestone-content{padding:0}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-header-row{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:6px;position:relative}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-header-row .milestone-text{font-size:15px;font-weight:500;line-height:1.4;color:var(--color-text)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-header-row .milestone-text .editable-paragraph-wrapper{width:100%;inset-inline-start:unset;margin-top:unset;margin-bottom:unset}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline{font-size:13px;color:var(--color-text-secondary);display:flex;align-items:center;gap:6px;cursor:pointer;transition:all .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline:hover,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline:hover{color:var(--color-text)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline.editable-date .date-edit-icon,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline.editable-date .date-edit-icon{opacity:0;margin-left:4px;font-size:12px;transition:opacity .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline.editable-date:hover .date-edit-icon,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline.editable-date:hover .date-edit-icon{opacity:1}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline::before,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline::before{content:"";display:inline-block;width:6px;height:6px;background:var(--color-primary);border-radius:50%;opacity:.6}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline .date-picker-container,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline .date-picker-container{display:flex;align-items:center;gap:4px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline .date-picker-container .inline-date-picker,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline .date-picker-container .inline-date-picker{margin-left:-6px;margin-top:-4px;margin-bottom:-4px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline .date-picker-container .inline-date-picker .ant-picker-input input,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline .date-picker-container .inline-date-picker .ant-picker-input input{font-size:13px;height:24px;padding:0 8px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline .date-picker-container .close-date-picker,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline .date-picker-container .close-date-picker{padding:0 4px;height:24px;min-width:24px;color:var(--color-text-secondary)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-deadline .date-picker-container .close-date-picker:hover,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline .date-picker-container .close-date-picker:hover{color:var(--color-text);background:var(--color-bg-gray-light)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline{color:var(--color-primary);opacity:.8}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline:hover{opacity:1}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-add-deadline::before{display:none}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list{margin-top:12px;padding-top:12px;border-top:1px dashed rgba(var(--color-border-rgb), 0.5);display:flex;flex-direction:column;gap:10px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item{padding:8px 10px;border-radius:8px;background:var(--color-bg-gray-ultralight);transition:all .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item:hover{background:var(--color-bg-gray-light)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content{flex:1;min-width:0;padding-right:8px;font-size:14px;line-height:1.3;color:var(--color-text)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .editable-paragraph-wrapper{width:100%;inset-inline-start:unset;margin-top:unset;margin-bottom:unset}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .editable-paragraph-wrapper .ant-typography-edit{opacity:0;transition:opacity .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline{font-size:13px;color:var(--color-text-secondary);display:flex;align-items:center;gap:6px;margin-top:6px;cursor:pointer;transition:all .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline:hover,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline:hover{color:var(--color-text)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline.editable-date .date-edit-icon,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline.editable-date .date-edit-icon{opacity:0;margin-left:4px;font-size:12px;transition:opacity .2s ease}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline.editable-date:hover .date-edit-icon,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline.editable-date:hover .date-edit-icon{opacity:1}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline .date-picker-container,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline .date-picker-container{display:flex;align-items:center;gap:4px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline .date-picker-container .inline-date-picker,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline .date-picker-container .inline-date-picker{margin-left:-6px;margin-top:-4px;margin-bottom:-4px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline .date-picker-container .inline-date-picker .ant-picker-input input,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline .date-picker-container .inline-date-picker .ant-picker-input input{font-size:13px;height:24px;padding:0 8px}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline .date-picker-container .close-date-picker,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline .date-picker-container .close-date-picker{padding:0 4px;height:24px;min-width:24px;color:var(--color-text-secondary)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-deadline .date-picker-container .close-date-picker:hover,.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline .date-picker-container .close-date-picker:hover{color:var(--color-text);background:var(--color-bg-gray-light)}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline{color:var(--color-primary);opacity:.8}.milestone-preview-container .milestone-item.preview .milestone-content .milestone-actions-list .milestone-action-item .action-content .action-add-deadline:hover{opacity:1}.goal-milestone-modal .ant-modal{width:100vw !important;max-width:800px}',""]);const r=l},76156:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(31601),i=n.n(a),o=n(76314),l=n.n(o)()(i());l.push([e.id,".goal-detail-wrapper{display:flex;flex-direction:column;padding:16px;height:calc(100vh - 90px);background:var(--color-primary-bg);border-radius:10px;overflow:hidden;max-width:100vw}@media(max-width: 768px){.goal-detail-wrapper{height:calc(100vh - 148px)}}.goal-detail-wrapper [data-panel-group]{width:100%;height:100%;column-gap:8px;max-width:100%}.goal-detail-wrapper [data-panel]{display:flex;overflow:hidden;min-width:0}.goal-detail-wrapper .panel-resize-handle{width:4px;background:var(--color-border);transition:background-color .2s;flex-shrink:0}.goal-detail-wrapper .panel-resize-handle:hover{background:var(--color-primary)}.goal-detail-wrapper .goal-detail-content{width:100%;min-width:0}.goal-detail-wrapper .goal-detail-content .goal-header{opacity:0;animation:animate-fade .5s ease-out forwards}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--main-layout{display:flex;align-items:flex-start;gap:12px}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--back-button{flex-shrink:0;padding-top:4px}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--content{flex:1;min-width:0}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--title-row{display:flex;align-items:flex-start;justify-content:space-between;gap:16px}@media(max-width: 768px){.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--title-row{flex-direction:column;gap:12px;align-items:flex-start}}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--title{display:flex;align-items:center;gap:8px;flex:1;min-width:0}.goal-detail-wrapper .goal-detail-content .goal-header .goal-meta-tags{display:flex;align-items:center;flex-shrink:0}@media(max-width: 768px){.goal-detail-wrapper .goal-detail-content .goal-header .goal-meta-tags{align-self:flex-end}}.goal-detail-wrapper .goal-detail-content .goal-header h1{margin-bottom:8px;font-size:24px;font-weight:600}@media(max-width: 768px){.goal-detail-wrapper .goal-detail-content .goal-header h1{font-size:1.2rem}}.goal-detail-wrapper .goal-detail-content .goal-header .goal-detail--subtitle{color:var(--color-text-secondary);margin:0 0 24px 0;font-size:16px;line-height:1.5;font-weight:400}@media(max-width: 768px){.goal-detail-wrapper .goal-detail-content .goal-header .goal-detail--subtitle{font-size:15px;margin-bottom:16px}}.goal-detail-wrapper .goal-detail-content .goal-header .goal-emoji{font-size:24px;line-height:1}.goal-detail-wrapper .goal-detail-content .goal-meta-info{opacity:0;animation:animate-fade .5s ease-out .4s forwards}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item{display:flex;align-items:flex-start;gap:12px;padding:16px;background:var(--color-bg-gray-ultralight);border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.03);height:100%}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item>.anticon{font-size:24px;color:var(--color-primary);background:var(--color-white);padding:12px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.06);flex-shrink:0}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item .meta-content{flex:1;min-width:0}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item .meta-content .meta-title{font-size:14px;color:var(--color-text-secondary);margin-bottom:8px;text-transform:uppercase;letter-spacing:1px}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item .meta-content .ant-tag{margin:0;padding:6px 16px;border-radius:20px;font-size:14px;border:none;background:var(--color-white);box-shadow:0 2px 8px rgba(0,0,0,.04);transition:all .3s ease}.goal-detail-wrapper .goal-detail-content .goal-meta-info .meta-item .meta-content .ant-typography{margin:0;font-size:15px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions{opacity:0;animation:animate-fade .5s ease-out .6s forwards;margin-top:24px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper{width:100%;height:100%;padding:16px;border-radius:12px;background:var(--color-white);border:1px solid var(--color-border);transition:all .3s ease;display:flex;flex-direction:column;gap:12px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper:hover{box-shadow:0 4px 12px rgba(0,0,0,.06);border-color:var(--color-primary)}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-content{display:flex;align-items:flex-start;gap:12px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-content .suggestion-icon{font-size:20px;color:var(--color-primary);padding:8px;border-radius:8px;background:var(--color-bg-gray-ultralight);flex-shrink:0}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-content .suggestion-text-content{flex:1;min-width:0}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-content .suggestion-text-content .suggestion-title{font-size:15px;color:var(--color-text);font-weight:500;line-height:1.4;margin-bottom:4px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-content .suggestion-text-content .suggestion-description{font-size:13px;color:var(--color-text-secondary);line-height:1.4;margin-top:4px}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-action{display:flex;gap:8px;align-items:center}.goal-detail-wrapper .goal-detail-content .goal-detail--suggestions .suggestion-button-wrapper .suggestion-action .ant-select .ant-select-selection-placeholder{display:flex;align-items:center;justify-content:center;gap:4px;color:var(--color-text)}.goal-detail-wrapper .goal-detail-content::-webkit-scrollbar{display:block;width:12px}.goal-detail-wrapper .goal-detail-content::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.goal-detail-wrapper .goal-detail-content::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.goal-detail-wrapper .goal-detail-content::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.goal-detail-wrapper .goal-detail-content::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.goal-detail-wrapper .sider-panel{flex:1;height:100%;overflow:hidden;background:var(--color-primary-bg);border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);min-width:0;min-height:500px}.goal-detail-wrapper .sider-panel .sider-title{display:flex;align-items:center;font-size:16px;font-weight:600;color:var(--color-text);padding:0 4px}.goal-detail-wrapper .chat-panel{flex:1;height:100%;overflow:hidden;background:var(--color-primary-bg);border-radius:8px;min-width:0;min-height:400px}.goal-detail-wrapper .milestone-item .milestone-header-row .milestone-header-left{flex:1;min-width:0}.goal-detail-wrapper .milestone-item .milestone-content .milestone-expand-button .expand-button{width:24px;height:24px;min-width:24px;padding:0;display:flex;align-items:center;justify-content:center}.goal-detail-wrapper .milestone-item .milestone-actions{display:flex;gap:4px;align-items:center;position:relative;flex-shrink:0}.goal-detail-wrapper .milestone-item .milestone-actions .ant-btn.delete-button{color:var(--color-red-light)}.goal-detail-wrapper .milestone-item .milestone-actions .ant-btn.delete-button:hover{background:var(--color-red-bg)}.goal-detail-wrapper .milestone-item .milestone-actions .action-buttons{display:flex;gap:4px;align-items:center;position:relative;flex-shrink:0}.goal-detail-wrapper .milestone-item .milestone-actions .action-buttons .ant-btn.delete-button{color:var(--color-red-light)}.goal-detail-wrapper .milestone-item .milestone-actions .action-buttons .ant-btn.delete-button:hover{background:var(--color-red-bg)}.goal-detail-wrapper .milestone-item .milestone-actions .milestone-action-item{display:flex;align-items:flex-start;gap:8px;width:100%}.goal-detail-wrapper .milestone-item .milestone-actions .milestone-action-item .action-content{flex:1;min-width:0}.goal-detail-wrapper .milestone-item .milestone-actions .milestone-action-item .action-buttons{margin-top:4px}@media(max-width: 768px){.goal-detail-wrapper{padding:8px}.goal-detail-wrapper .goal-detail-content{padding:8px}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--main-layout{gap:8px}.goal-detail-wrapper .goal-detail-content .goal-header .goal-header--title-row{margin-bottom:8px}.goal-detail-wrapper .goal-detail-content .goal-header .goal-emoji{font-size:20px}.ant-drawer .sider-panel{height:100%;border-radius:0;box-shadow:none}}",""]);const r=l},68144:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(31601),i=n.n(a),o=n(76314),l=n.n(o)()(i());l.push([e.id,".goal-detail-sider{display:flex;flex-direction:column;width:100%;height:100%;min-height:400px;overflow:hidden;position:relative}.goal-detail-sider .goal-detail-sider-header{display:flex;justify-content:center;flex-shrink:0;position:relative;z-index:2}@media(max-width: 768px){.goal-detail-sider .goal-detail-sider-header{margin:8px 0 !important}}.goal-detail-sider .goal-detail-sider-header .ant-segmented{background:var(--color-layout-bg);padding:4px;border-radius:8px}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item{transition:all .3s ease;border-radius:6px;color:var(--color-text-secondary)}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item:hover{color:var(--color-text)}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item.ant-segmented-item-selected{background:var(--color-primary);color:var(--color-white)}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item.ant-segmented-item-selected svg path{fill:var(--color-white)}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item .ant-segmented-item-label{align-items:center;display:flex}.goal-detail-sider .goal-detail-sider-header .ant-segmented .ant-segmented-item .ant-segmented-item-icon{font-size:16px;margin-right:6px;display:inline-flex}.goal-detail-sider .goal-detail-sider-content{flex:1;position:relative;overflow:hidden;display:flex;flex-direction:column;transform:translateZ(0);will-change:transform}.goal-detail-sider .goal-detail-sider-content .tab-content{position:relative;width:100%;height:100%;overflow:hidden;flex:1}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane{width:100%;height:100%;overflow-y:auto;position:absolute;top:0;left:0;will-change:opacity,transform;transform:translateZ(0);backface-visibility:hidden;-webkit-backface-visibility:hidden}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane::-webkit-scrollbar{display:block;width:12px}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:10px;border:4px solid rgba(0,0,0,0);background-clip:padding-box}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.goal-detail-sider .goal-detail-sider-content .tab-content .tab-pane::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}",""]);const r=l},43861:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(31601),i=n.n(a),o=n(76314),l=n.n(o)()(i());l.push([e.id,".knowledge-base-section{margin:2rem 0;padding:1.5rem;background:var(--color-primary-bg);border-radius:8px;border:1px solid var(--color-border)}.knowledge-base-section h3{margin-bottom:.5rem;color:var(--color-text)}.knowledge-base-section .section-description{opacity:.7;margin-bottom:1.5rem;color:var(--color-text-secondary)}.knowledge-base-section .knowledge-base-list{margin-top:2rem}.knowledge-base-section .knowledge-base-list .loading,.knowledge-base-section .knowledge-base-list .empty-state{text-align:center;padding:2rem;opacity:.6;color:var(--color-text-secondary)}.knowledge-base-section .knowledge-base-list .kb-table{width:100%;border-collapse:collapse}.knowledge-base-section .knowledge-base-list .kb-table th,.knowledge-base-section .knowledge-base-list .kb-table td{padding:.75rem;text-align:left;border-bottom:1px solid var(--color-border)}.knowledge-base-section .knowledge-base-list .kb-table th{font-weight:600;opacity:.7;color:var(--color-text-secondary)}.knowledge-base-section .knowledge-base-list .kb-table td{color:var(--color-text)}.knowledge-base-section .knowledge-base-list .kb-table .file-name{font-weight:500}.knowledge-base-section .knowledge-base-list .kb-table .status-badge{padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600}.knowledge-base-section .knowledge-base-list .kb-table .status-badge.status-pending{background:var(--color-gold-bg);color:var(--color-warning)}.knowledge-base-section .knowledge-base-list .kb-table .status-badge.status-processing{background:var(--color-blue-bg);color:var(--color-info)}.knowledge-base-section .knowledge-base-list .kb-table .status-badge.status-ready{background:var(--color-green-light-bg);color:var(--color-success)}.knowledge-base-section .knowledge-base-list .kb-table .status-badge.status-failed{background:var(--color-red-light-bg);color:var(--color-error)}.knowledge-base-section .knowledge-base-list .kb-table .btn-delete{background:none;border:none;cursor:pointer;font-size:1.25rem;opacity:.7;transition:opacity .2s;color:var(--color-text)}.knowledge-base-section .knowledge-base-list .kb-table .btn-delete:hover{opacity:1;color:var(--color-error)}.knowledge-base-section .error-notice{margin-top:1rem;padding:.75rem;background:var(--color-red-light-bg);color:var(--color-error);border-radius:4px}",""]);const r=l},82352:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(31601),i=n.n(a),o=n(76314),l=n.n(o)()(i());l.push([e.id,".knowledge-base-uploader{margin-bottom:2rem}.knowledge-base-uploader .dropzone{border:2px dashed var(--color-border);border-radius:8px;padding:2rem;text-align:center;cursor:pointer;transition:all .2s;background:var(--color-secondary-bg);color:var(--color-text)}.knowledge-base-uploader .dropzone:hover:not(.disabled){border-color:var(--color-primary);background:var(--color-bg-gray-ultralight)}.knowledge-base-uploader .dropzone.active{border-color:var(--color-primary);background:var(--color-bg-gray-ultralight)}.knowledge-base-uploader .dropzone.disabled{cursor:not-allowed;opacity:.6}.knowledge-base-uploader .upload-icon{margin:0 auto 1rem;display:block;opacity:.5;color:var(--color-text-secondary)}.knowledge-base-uploader .file-types{font-size:.875rem;opacity:.6;margin-top:.5rem;color:var(--color-text-secondary)}.knowledge-base-uploader .upload-progress{color:var(--color-text)}.knowledge-base-uploader .upload-progress .spinner{width:24px;height:24px;border:3px solid var(--color-border);border-top-color:var(--color-primary);border-radius:50%;animation:spin .8s linear infinite;margin:0 auto 1rem}.knowledge-base-uploader .upload-progress .progress-bar{width:100%;height:4px;background:var(--color-border);border-radius:2px;margin-top:1rem;overflow:hidden}.knowledge-base-uploader .upload-progress .progress-bar .progress-fill{height:100%;background:var(--color-primary);transition:width .3s}.knowledge-base-uploader .error-message{margin-top:1rem;padding:.75rem;background:var(--color-red-light-bg);color:var(--color-error);border-radius:4px;display:flex;align-items:center;gap:.5rem}@keyframes spin{to{transform:rotate(360deg)}}",""]);const r=l},4694:(e,t,n)=>{var a=n(85072),i=n.n(a),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),d=n.n(c),m=n(10540),p=n.n(m),u=n(41113),g=n.n(u),f=n(6495),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=p();var b=i()(f.default,v);if(!f.default.locals||e.hot.invalidate){var h=!f.default.locals,x=h?f:f.default.locals;e.hot.accept(6495,(t=>{f=n(6495),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!n||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(n&&"default"===a||e[a]))return!1;return!0}(x,h?f:f.default.locals,h)?(x=h?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals},60571:(e,t,n)=>{var a=n(85072),i=n.n(a),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),d=n.n(c),m=n(10540),p=n.n(m),u=n(41113),g=n.n(u),f=n(79811),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=p();var b=i()(f.default,v);if(!f.default.locals||e.hot.invalidate){var h=!f.default.locals,x=h?f:f.default.locals;e.hot.accept(79811,(t=>{f=n(79811),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!n||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(n&&"default"===a||e[a]))return!1;return!0}(x,h?f:f.default.locals,h)?(x=h?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals},90017:(e,t,n)=>{var a=n(85072),i=n.n(a),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),d=n.n(c),m=n(10540),p=n.n(m),u=n(41113),g=n.n(u),f=n(76156),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=p();var b=i()(f.default,v);if(!f.default.locals||e.hot.invalidate){var h=!f.default.locals,x=h?f:f.default.locals;e.hot.accept(76156,(t=>{f=n(76156),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!n||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(n&&"default"===a||e[a]))return!1;return!0}(x,h?f:f.default.locals,h)?(x=h?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals},94001:(e,t,n)=>{var a=n(85072),i=n.n(a),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),d=n.n(c),m=n(10540),p=n.n(m),u=n(41113),g=n.n(u),f=n(68144),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=p();var b=i()(f.default,v);if(!f.default.locals||e.hot.invalidate){var h=!f.default.locals,x=h?f:f.default.locals;e.hot.accept(68144,(t=>{f=n(68144),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!n||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(n&&"default"===a||e[a]))return!1;return!0}(x,h?f:f.default.locals,h)?(x=h?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals},21696:(e,t,n)=>{var a=n(85072),i=n.n(a),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),d=n.n(c),m=n(10540),p=n.n(m),u=n(41113),g=n.n(u),f=n(43861),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=p();var b=i()(f.default,v);if(!f.default.locals||e.hot.invalidate){var h=!f.default.locals,x=h?f:f.default.locals;e.hot.accept(43861,(t=>{f=n(43861),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!n||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(n&&"default"===a||e[a]))return!1;return!0}(x,h?f:f.default.locals,h)?(x=h?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals},53959:(e,t,n)=>{var a=n(85072),i=n.n(a),o=n(97825),l=n.n(o),r=n(77659),s=n.n(r),c=n(55056),d=n.n(c),m=n(10540),p=n.n(m),u=n(41113),g=n.n(u),f=n(82352),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=p();var b=i()(f.default,v);if(!f.default.locals||e.hot.invalidate){var h=!f.default.locals,x=h?f:f.default.locals;e.hot.accept(82352,(t=>{f=n(82352),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!n||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(n&&"default"===a||e[a]))return!1;return!0}(x,h?f:f.default.locals,h)?(x=h?f:f.default.locals,b(f.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));f.default&&f.default.locals&&f.default.locals}}]);