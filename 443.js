"use strict";(self.webpackChunklazyvax_ext=self.webpackChunklazyvax_ext||[]).push([[443],{31845:(e,t,n)=>{var r=n(85072),s=n.n(r),a=n(97825),o=n.n(a),i=n(77659),d=n.n(i),l=n(55056),c=n.n(l),u=n(10540),g=n.n(u),p=n(41113),m=n.n(p),f=n(93688),h={};h.styleTagTransform=m(),h.setAttributes=c(),h.insert=d().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=g();var v=s()(f.default,h);if(!f.default.locals||e.hot.invalidate){var y=!f.default.locals,x=y?f:f.default.locals;e.hot.accept(93688,t=>{f=n(93688),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if((!n||"default"!==r)&&e[r]!==t[r])return!1;for(r in t)if(!(n&&"default"===r||e[r]))return!1;return!0}(x,y?f:f.default.locals,y)?(x=y?f:f.default.locals,v(f.default)):e.hot.invalidate()})}e.hot.dispose(function(){v()});f.default&&f.default.locals&&f.default.locals},32443:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(10467),s=n(5544),a=n(54756),o=n.n(a),i=(n(31845),n(96540)),d=n(85015),l=n(21468),c=n(17308),u=n(17355),g=n(49222),p=n(71925),m=n(97072),f=n(49237),h=n(42877),v=n(33930),y=n(97665),x=n(57097),_=n(694),b=n(86220),E=n(42569),w=n(44965),A=n(24337);const k=function(){var e,t,n=d.A.useApp().message,a=(0,y.jE)(),k=(0,i.useState)(""),N=(0,s.A)(k,2),R=N[0],C=N[1],S=(0,i.useState)([]),I=(0,s.A)(S,2),q=I[0],T=I[1],P=(0,i.useState)(),K=(0,s.A)(P,2),j=K[0],z=K[1],D=(0,i.useState)(!1),F=(0,s.A)(D,2),M=F[0],O=F[1],L=(0,i.useState)(),Q=(0,s.A)(L,2),B=Q[0],G=Q[1],X={keyword:R||void 0,tags:q.length>0?q:void 0,goalId:j},Y=(0,v.I)({queryKey:["notes",X],queryFn:(e=(0,r.A)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.CS)(X));case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})}),H=Y.data,J=Y.isLoading,U=(0,v.I)({queryKey:["goals"],queryFn:(t=(0,r.A)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.DX)());case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})}),V=U.data,W=(0,x.n)({mutationFn:_.Iy,onSuccess:function(){n.success((0,E.Ru)("note_deleted_success")),a.invalidateQueries({queryKey:["notes"]})},onError:function(){n.error((0,E.Ru)("note_error_delete"))}}),Z=function(e,t){g.A.confirm({title:(0,E.Ru)("note_delete_confirm_title"),content:(0,E.Ru)("note_delete_confirm_message"),okText:(0,E.Ru)("note_card_delete"),cancelText:(0,E.Ru)("note_editor_cancel_button"),okButtonProps:{danger:!0},onOk:function(){W.mutate(e)}})},$=function(){G(void 0),O(!0)},ee=function(e){G(e),O(!0)},te=function(){O(!1),G(void 0)},ne=Array.from(new Set((H||[]).flatMap(function(e){return e.tags})));return i.createElement("div",{className:"notes-page-redesigned"},i.createElement("div",{className:"notes-header-redesigned"},i.createElement("h1",{className:"notes-title-redesigned"},(0,E.Ru)("notes_page_title")),i.createElement(l.Ay,{type:"primary",icon:i.createElement(f.A,null),onClick:$,className:"create-note-btn-redesigned is-deep"},(0,E.Ru)("notes_create_button"))),i.createElement("div",{className:"notes-filters-redesigned"},i.createElement(u.A,{placeholder:(0,E.Ru)("notes_search_placeholder"),prefix:i.createElement(h.A,null),value:R,onChange:function(e){return C(e.target.value)},className:"notes-search-redesigned",allowClear:!0}),i.createElement("div",{className:"filter-row"},i.createElement(p.A,{mode:"multiple",placeholder:(0,E.Ru)("notes_filter_by_tag"),value:q,onChange:T,className:"notes-filter-select",allowClear:!0},ne.map(function(e){return i.createElement(p.A.Option,{key:e,value:e},e)})),i.createElement(p.A,{placeholder:(0,E.Ru)("notes_filter_by_goal"),value:j,onChange:z,className:"notes-filter-select",allowClear:!0},(V||[]).map(function(e){return i.createElement(p.A.Option,{key:e._id,value:e._id},e.title)})))),i.createElement("div",{className:"notes-list-redesigned"},J?i.createElement("div",{className:"notes-loading-redesigned"},i.createElement(m.A,{active:!0}),i.createElement(m.A,{active:!0}),i.createElement(m.A,{active:!0})):H&&H.length>0?i.createElement("div",{className:"notes-masonry-grid"},H.map(function(e){return i.createElement(A.T,{key:e._id,note:e,onEdit:ee,onDelete:Z})})):i.createElement("div",{className:"notes-empty-state"},i.createElement(c.A,{description:(0,E.Ru)("notes_no_notes"),image:c.A.PRESENTED_IMAGE_SIMPLE},i.createElement(l.Ay,{type:"primary",icon:i.createElement(f.A,null),onClick:$},(0,E.Ru)("notes_create_button"))))),i.createElement(w.P,{visible:M,note:B,onClose:te,onSaved:function(e,t){a.invalidateQueries({queryKey:["notes"]}),te()}}))}},93688:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(31601),s=n.n(r),a=n(76314),o=n.n(a)()(s());o.push([e.id,".notes-page-redesigned{padding:24px;margin:0 auto;height:calc(100vh - 88px);background:var(--color-primary-bg);border-radius:18px;overflow:hidden}.notes-page-redesigned .notes-header-redesigned{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.notes-page-redesigned .notes-header-redesigned .notes-title-redesigned{margin:0;font-size:28px;font-weight:600;color:var(--color-text)}.notes-page-redesigned .notes-header-redesigned .create-note-btn-redesigned{height:40px;padding:0 20px;border-radius:8px;font-weight:500;transition:all .2s ease}.notes-page-redesigned .notes-header-redesigned .create-note-btn-redesigned:hover{transform:translateY(-1px)}.notes-page-redesigned .notes-filters-redesigned{margin-bottom:24px}.notes-page-redesigned .notes-filters-redesigned .notes-search-redesigned{margin-bottom:12px}.notes-page-redesigned .notes-filters-redesigned .notes-search-redesigned .ant-input-affix-wrapper{border-radius:8px;border:1px solid var(--color-border);background:var(--color-primary-bg);transition:border-color .2s ease}.notes-page-redesigned .notes-filters-redesigned .notes-search-redesigned .ant-input-affix-wrapper:hover{border-color:var(--color-primary)}.notes-page-redesigned .notes-filters-redesigned .notes-search-redesigned .ant-input-affix-wrapper:focus,.notes-page-redesigned .notes-filters-redesigned .notes-search-redesigned .ant-input-affix-wrapper:focus-within{border-color:var(--color-primary)}.notes-page-redesigned .notes-filters-redesigned .filter-row{display:flex;gap:12px}.notes-page-redesigned .notes-filters-redesigned .filter-row .notes-filter-select{flex:1;min-width:180px}.notes-page-redesigned .notes-filters-redesigned .filter-row .notes-filter-select .ant-select-selector{border-radius:8px;background:var(--color-primary-bg)}@media(max-width: 768px){.notes-page-redesigned .notes-filters-redesigned .filter-row{flex-direction:column}}.notes-page-redesigned .notes-list-redesigned .notes-loading-redesigned{display:flex;flex-direction:column;gap:16px}.notes-page-redesigned .notes-list-redesigned .notes-masonry-grid{column-count:4;column-gap:16px}@media(max-width: 1200px){.notes-page-redesigned .notes-list-redesigned .notes-masonry-grid{column-count:3}}@media(max-width: 900px){.notes-page-redesigned .notes-list-redesigned .notes-masonry-grid{column-count:2}}@media(max-width: 600px){.notes-page-redesigned .notes-list-redesigned .notes-masonry-grid{column-count:1}}.notes-page-redesigned .notes-list-redesigned .notes-masonry-grid>*{break-inside:avoid;margin-bottom:16px;display:inline-block;width:100%}.notes-page-redesigned .notes-list-redesigned .notes-empty-state{display:flex;justify-content:center;align-items:center;min-height:400px}",""]);const i=o}}]);